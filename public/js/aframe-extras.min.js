




<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-AAL4vHqoef7azLizL9Sh/ph6rt7hPyPXoa6ngQSxoJI8jZPIL5Ij17nCUW124lalllAaZqoThwv4iFO6e0ol3g==" rel="stylesheet" href="https://github.githubassets.com/assets/frameworks-0002f8bc7aa879fedaccb8b32fd4a1fe.css" />
  
    <link crossorigin="anonymous" media="all" integrity="sha512-VtAH+ujKQfsjrCw/OuS8YAyEd+o8OZdzBT3P116XooG48uEFJWJBdaQDK2EZie+EbyE+rzrS4uejAEDqiI189g==" rel="stylesheet" href="https://github.githubassets.com/assets/github-56d007fae8ca41fb23ac2c3f3ae4bc60.css" />
    
    
    
    

    <script crossorigin="anonymous" defer="defer" integrity="sha512-paAPK+2X0PGsxcaTbWCOY5Ok5uUvkKyzFO3FRBK0lnGGjUfn11rdq/JX12/s1eJOOLKW8ThNnyA4t9v43g6y6A==" type="application/javascript" src="https://github.githubassets.com/assets/environment-a5a00f2b.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-Frpx4fl3HV4D/7rfUGgz6UgUP60xbLhFWH2rpCQ/cJkP40MGCFvqOA0YjhN6cMDBzzBh6efSoX4NMgZ0eCY5jw==" type="application/javascript" src="https://github.githubassets.com/assets/chunk-frameworks-16ba71e1.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-Shix6Hkv5DNREArBi1dz6K2Dezl6x88FzVNzPUHKbjuk6iZAuHacGedCwe/1YQtFhf8DzLIIDhr1Sb41uwiIXg==" type="application/javascript" src="https://github.githubassets.com/assets/chunk-vendor-4a18b1e8.js"></script>
    
    <script crossorigin="anonymous" defer="defer" integrity="sha512-ZsU5XHiGqDjQKwi2MNlv7lhCvKfm2xsqgRLifzAyoNBAYLiiueoCFxwQyl3VZ1CcxCQ/2Av8KUSYdwM1wg7b/w==" type="application/javascript" src="https://github.githubassets.com/assets/behaviors-66c5395c.js"></script>
    
      <script crossorigin="anonymous" defer="defer" integrity="sha512-P2YMkqfXJOOfxTTkNHbblY5ks3U+e9w9tiVyK9syrE5+JmlaCg1kUiuT1DfbyJXwaOLaRLT3zam2r+QrxTZ3iw==" type="application/javascript" data-module-id="./chunk-contributions-spider-graph.js" data-src="https://github.githubassets.com/assets/chunk-contributions-spider-graph-3f660c92.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-JDDF8W8Wl5vopo9t4K4NtIEUMCYov3ZjVpv9lC1SDUxhejU+ILu8V3l6BhkaIRMYJioQWj9am9tJSTvND+8wJg==" type="application/javascript" data-module-id="./chunk-drag-drop.js" data-src="https://github.githubassets.com/assets/chunk-drag-drop-2430c5f1.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-JuHyn3sph9rLS7VTtyWCGWcRnDByEa1/FTs+taWTiNKr6OthntYR6cXZJCtyjP4B4DrUMEquWEG0KJVekUzEhA==" type="application/javascript" data-module-id="./chunk-jump-to.js" data-src="https://github.githubassets.com/assets/chunk-jump-to-26e1f29f.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-tcH4xCRuMBAh1PruDaiwGnRIbHlF6bGLhxyCQ16uqok1cV5QFMguVPWJtN9KI0jGQOgN+Pha3+uOUXhXdfK/qw==" type="application/javascript" data-module-id="./chunk-profile-pins-element.js" data-src="https://github.githubassets.com/assets/chunk-profile-pins-element-b5c1f8c4.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-gPx3bYhTjyC83X5u5KlEDJpwGAHt3AC2p5s9iMuAfPTeSj7kHlKMW231C3K3c7+jvlpWpELk8DJsefrYdRzqjA==" type="application/javascript" data-module-id="./chunk-randomColor.js" data-src="https://github.githubassets.com/assets/chunk-randomColor-80fc776d.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-E+H+wAtjiqutBvn2cnXzDIvmasIhYiS7i7JzOfFUwo+Ej8zT54OrJtP//RhwixnypgOpCF4JvqzYy6zOtORDmg==" type="application/javascript" data-module-id="./chunk-runner-groups.js" data-src="https://github.githubassets.com/assets/chunk-runner-groups-13e1fec0.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-qdiCkJPPR4LxwUKftEmJe2v79E8xnTceYqylsWkMsGuARkiKkX9iFNwkvZJ3bDfS5YHSPD3+k+N2/I73tvlL1Q==" type="application/javascript" data-module-id="./chunk-sortable-behavior.js" data-src="https://github.githubassets.com/assets/chunk-sortable-behavior-a9d88290.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-NpURjBPyJ0JT8hWOMbLErYNeb0bTkKfmFX1hl1F8C/q6jckqWObeOzEAcs6TRlj+cqAR6GDohEBxDgkYBlx+QQ==" type="application/javascript" data-module-id="./chunk-tweetsodium.js" data-src="https://github.githubassets.com/assets/chunk-tweetsodium-3695118c.js"></script>
      <script crossorigin="anonymous" defer="defer" integrity="sha512-N4sh1WK8z7uout3EIBX27MexcrB3T1Ne9jVUS5MQp6wV27bYtwgPP/bT9NxhSRRky4xa8RUDZprcu/0g1potOg==" type="application/javascript" data-module-id="./chunk-user-status-submit.js" data-src="https://github.githubassets.com/assets/chunk-user-status-submit-378b21d5.js"></script>
    
    <script crossorigin="anonymous" defer="defer" integrity="sha512-I0Z/NP5IDTqrIzej1WYSmPfcaE/xVVLX35y7xlOWrSb1YOWfMCL6fNGWaUNpCfbq+oMDMv9SufFpngai0lYY6A==" type="application/javascript" src="https://github.githubassets.com/assets/repositories-23467f34.js"></script>
<script crossorigin="anonymous" defer="defer" integrity="sha512-UKWG35l+DDNYsNOcVWKzOoJOVmUNTyAAn9CW/LIfBs9bZ/GHWmq33WP17sSdx+ZdcNl63/CKIzOHSAQJ8tlO6A==" type="application/javascript" src="https://github.githubassets.com/assets/diffs-50a586df.js"></script>

  <meta name="viewport" content="width=device-width">
  
  <title>aframe-extras/aframe-extras.min.js at master ¬∑ n5ro/aframe-extras</title>
    <meta name="description" content="Add-ons and helpers for A-Frame VR. Contribute to n5ro/aframe-extras development by creating an account on GitHub.">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">
  <meta name="apple-itunes-app" content="app-id=1477376905" />
    <meta name="twitter:image:src" content="https://avatars0.githubusercontent.com/u/46144009?s=400&amp;v=4" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary" /><meta name="twitter:title" content="n5ro/aframe-extras" /><meta name="twitter:description" content="Add-ons and helpers for A-Frame VR. Contribute to n5ro/aframe-extras development by creating an account on GitHub." />
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/46144009?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="n5ro/aframe-extras" /><meta property="og:url" content="https://github.com/n5ro/aframe-extras" /><meta property="og:description" content="Add-ons and helpers for A-Frame VR. Contribute to n5ro/aframe-extras development by creating an account on GitHub." />



  

  <link rel="assets" href="https://github.githubassets.com/">
    <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/38871608/ws?session=eyJ2IjoiVjMiLCJ1IjozODg3MTYwOCwicyI6NTg5MTYyODEwLCJjIjoxNjE3MTg1NDQ1LCJ0IjoxNjAzNTc0Njk3fQ==--d0ec3c2ce8758c46fddc2f451fbbc247199adc52b237f9adef188a608c7179d1" data-refresh-url="/_alive">
  <link rel="sudo-modal" href="/sessions/sudo_modal">

  <meta name="request-id" content="3CC3:2CD5:7120FF:BA13F6:5F949BA3" data-pjax-transient="true" /><meta name="html-safe-nonce" content="0677b4af07a88fca2a7aafdbc12392ef6416b0b5" data-pjax-transient="true" /><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vZ2l0aHViLmNvbS9uNXJvL2FmcmFtZS1leHRyYXMvdHJlZS9tYXN0ZXIvZGlzdCIsInJlcXVlc3RfaWQiOiIzQ0MzOjJDRDU6NzEyMEZGOkJBMTNGNjo1Rjk0OUJBMyIsInZpc2l0b3JfaWQiOiI4MjA1MjUwNzA2NjYwNTkwNjcwIiwicmVnaW9uX2VkZ2UiOiJpYWQiLCJyZWdpb25fcmVuZGVyIjoiaWFkIn0=" data-pjax-transient="true" /><meta name="visitor-hmac" content="af0cc0a3b07410a2987e102765e9283836573363e994a654def4e05725c73fdf" data-pjax-transient="true" /><meta name="cookie-consent-required" content="false" />

    <meta name="hovercard-subject-tag" content="repository:51565197" data-pjax-transient>


  <meta name="github-keyboard-shortcuts" content="repository,source-code" data-pjax-transient="true" />

  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY">
  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-ga_id" content="" class="js-octo-ga-id" /><meta name="octolytics-actor-id" content="38871608" /><meta name="octolytics-actor-login" content="pfirmino" /><meta name="octolytics-actor-hash" content="01e3af2cb11ce5e627a5f07bbf7a0186258fd18c3c38aaeba0b0b65164c13dcd" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />

  





    <meta name="google-analytics" content="UA-3769691-2">

  <meta class="js-ga-set" name="userId" content="8e32d5a8b472aa5f9483b4561bd1c5da">

<meta class="js-ga-set" name="dimension10" content="Responsive" data-pjax-transient>

<meta class="js-ga-set" name="dimension1" content="Logged In">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="pfirmino">


      <meta name="expected-hostname" content="github.com">

      <meta name="js-proxy-site-detection-payload" content="MTM3MWZiMWE1ZjA2MTU0YjFkODcwYjEzYzI5ZWI0Y2U5MjRlZmQzYThlNjc1YzY0NjkxZGI2OTA2ODFkMzM0Y3x7InJlbW90ZV9hZGRyZXNzIjoiMTg5LjMzLjY0Ljg5IiwicmVxdWVzdF9pZCI6IjNDQzM6MkNENTo3MTIwRkY6QkExM0Y2OjVGOTQ5QkEzIiwidGltZXN0YW1wIjoxNjAzNTc0Njk3LCJob3N0IjoiZ2l0aHViLmNvbSJ9">

    <meta name="enabled-features" content="MARKETPLACE_PENDING_INSTALLATIONS,JS_IN_HEAD,JS_HTTP_CACHE_HEADERS">

  <meta http-equiv="x-pjax-version" content="b20435a62e2858a87a305f2272d230515fedbc19c02947b137d5b6e24bb0f0d3">
  

        <link href="https://github.com/n5ro/aframe-extras/commits/master.atom" rel="alternate" title="Recent Commits to aframe-extras:master" type="application/atom+xml">

  <meta name="go-import" content="github.com/n5ro/aframe-extras git https://github.com/n5ro/aframe-extras.git">

  <meta name="octolytics-dimension-user_id" content="46144009" /><meta name="octolytics-dimension-user_login" content="n5ro" /><meta name="octolytics-dimension-repository_id" content="51565197" /><meta name="octolytics-dimension-repository_nwo" content="n5ro/aframe-extras" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="51565197" /><meta name="octolytics-dimension-repository_network_root_nwo" content="n5ro/aframe-extras" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false" />


    <link rel="canonical" href="https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="browser-optimizely-client-errors-url" content="https://api.github.com/_private/browser/optimizely_client/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">

<meta name="theme-color" content="#1e2327">


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive page-blob">
    

    <div class="position-relative js-header-wrapper ">
      <a href="#start-of-content" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
      <span class="progress-pjax-loader width-full js-pjax-loader-bar Progress position-fixed">
    <span style="background-color: #79b8ff;width: 0%;" class="Progress-item progress-pjax-loader-bar "></span>
</span>      
      


          <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap" role="banner" >
    <div class="Header-item mt-n1 mb-n1  d-none d-md-flex">
      <a class="Header-link " href="https://github.com/" data-hotkey="g d"
  aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

    </div>

    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path></svg>
      </button>
    </div>

    <div class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
          <div class="header-search header-search-current js-header-search-current flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to js-header-search-current-jump-to"
  role="combobox"
  aria-owns="jump-to-results"
  aria-label="Search or jump to"
  aria-haspopup="listbox"
  aria-expanded="false"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="51565197" data-scoped-search-url="/n5ro/aframe-extras/search" data-unscoped-search-url="/search" action="/n5ro/aframe-extras/search" accept-charset="UTF-8" method="get">
      <label class="form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
        <input type="text"
          class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
          data-hotkey="s,/"
          name="q"
          value=""
          placeholder="Search or jump to‚Ä¶"
          data-unscoped-placeholder="Search or jump to‚Ä¶"
          data-scoped-placeholder="Search or jump to‚Ä¶"
          autocapitalize="off"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          aria-label="Search or jump to‚Ä¶"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations"
          spellcheck="false"
          autocomplete="off"
          >
          <input type="hidden" value="nAPOf4uDyDnn/6hAm/GEqWtAMfJXaA7rKq5FV4sBtx/jysQhX0vXE2QIcii49fL+qtox9Ym6cFQlq/8ggLMNTg==" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" />
          <input type="hidden" class="js-site-search-type-field" name="type" >
            <img src="https://github.githubassets.com/images/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <img src="https://github.githubassets.com/images/spinners/octocat-spinner-128.gif" alt="Octocat Spinner Icon" class="m-2" width="28">
    </li>
</ul>

            </div>
      </label>
</form>  </div>
</div>


      <nav class="d-flex flex-column flex-md-row flex-self-stretch flex-md-self-auto" aria-label="Global">
      <a class="Header-link py-md-3 d-block d-md-none py-2 border-top border-md-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" href="/dashboard">
        Dashboard
</a>
    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade-15" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="/pulls">
        Pull<span class="d-inline d-md-none d-lg-inline"> request</span>s
</a>
    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade-15" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="/issues">
      Issues
</a>

      <div class="d-flex position-relative">
        <a class="js-selected-navigation-item Header-link flex-auto mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-selected-links=" /marketplace" href="/marketplace">
          Marketplace
</a>        

      </div>

    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">
      Explore
</a>


    <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade-15" href="/pfirmino">
      <img class="avatar avatar-user" src="https://avatars0.githubusercontent.com/u/38871608?s=40&amp;v=4" width="20" height="20" alt="@pfirmino" />
      pfirmino
</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="k/Q/caUJLSFHTEWW8FqHPuH+WS2Oy4EhVHPTmEoMtsc5H6bIOgLvK2vDS82Qf+TNa0PHYTkj9rybWCijODH8nA==" />
      <button type="submit" class="Header-link mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade-15 d-md-none btn-link d-block width-full text-left" data-ga-click="Header, sign out, icon:logout" style="padding-left: 2px;">
        <svg class="octicon octicon-sign-out v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 010 1.5h-2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 010 1.5h-2.5A1.75 1.75 0 012 13.25V2.75zm10.44 4.5H6.75a.75.75 0 000 1.5h5.69l-1.97 1.97a.75.75 0 101.06 1.06l3.25-3.25a.75.75 0 000-1.06l-3.25-3.25a.75.75 0 10-1.06 1.06l1.97 1.97z"></path></svg>
        Sign out
      </button>
</form></nav>

    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://github.com/" data-hotkey="g d"
  aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

    </div>

    <div class="Header-item mr-0 mr-md-3 flex-order-1 flex-md-order-none">
      

    <notification-indicator class="js-socket-channel" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6Mzg4NzE2MDgiLCJ0IjoxNjAzNTc0Njk3fQ==--34bae6b18db2a8df41c46af462d9ae691a7a43b0737ad1931680ef95822212ed">
      <a href="/notifications"
         class="Header-link notification-indicator position-relative tooltipped tooltipped-sw"
         
         aria-label="You have no unread notifications"
         data-hotkey="g n"
         data-ga-click="Header, go to notifications, icon:read"
         data-target="notification-indicator.link">
         <span class="mail-status  " data-target="notification-indicator.modifier"></span>
         <svg class="octicon octicon-bell" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path></svg>
      </a>
    </notification-indicator>

    </div>


    <div class="Header-item position-relative d-none d-md-flex">
      <details class="details-overlay details-reset">
  <summary class="Header-link"
      aria-label="Create new‚Ä¶"
      data-ga-click="Header, create new, icon:add">
      <svg class="octicon octicon-plus" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2a.75.75 0 01.75.75v4.5h4.5a.75.75 0 010 1.5h-4.5v4.5a.75.75 0 01-1.5 0v-4.5h-4.5a.75.75 0 010-1.5h4.5v-4.5A.75.75 0 018 2z"></path></svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw">
    
<a role="menuitem" class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>


  <div role="none" class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="n5ro/aframe-extras">This repository</span>
  </div>
    <a role="menuitem" class="dropdown-item" href="/n5ro/aframe-extras/issues/new/choose" data-ga-click="Header, create new issue" data-skip-pjax>
      New issue
    </a>


  </details-menu>
</details>

    </div>

    <div class="Header-item position-relative mr-0 d-none d-md-flex">
      
  <details class="details-overlay details-reset js-feature-preview-indicator-container" data-feature-preview-indicator-src="/users/pfirmino/feature_preview/indicator_check">

  <summary class="Header-link"
    aria-label="View profile and more"
    data-ga-click="Header, show menu, icon:avatar">
    <img
  alt="@pfirmino"
  width="20"
  height="20"
  src="https://avatars3.githubusercontent.com/u/38871608?s=60&amp;v=4"
  class="avatar avatar-user " />

      <span class="feature-preview-indicator js-feature-preview-indicator" style="top: 10px;" hidden></span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw" style="width: 180px" >
    <div class="header-nav-current-user css-truncate"><a role="menuitem" class="no-underline user-profile-link px-3 pt-2 pb-2 mb-n2 mt-n1 d-block" href="/pfirmino" data-ga-click="Header, go to profile, text:Signed in as">Signed in as <strong class="css-truncate-target">pfirmino</strong></a></div>
    <div role="none" class="dropdown-divider"></div>

      <div class="pl-3 pr-3 f6 user-status-container js-user-status-context lh-condensed" data-url="/users/status?compact=1&amp;link_mentions=0&amp;truncate=1">
        
<div class="js-user-status-container rounded-1 px-2 py-1 mt-2 border"
  data-team-hovercards-enabled>
  <details class="js-user-status-details details-reset details-overlay details-overlay-dark">
    <summary class="btn-link btn-block link-gray no-underline js-toggle-user-status-edit toggle-user-status-edit "
      role="menuitem" data-hydro-click="{&quot;event_type&quot;:&quot;user_profile.click&quot;,&quot;payload&quot;:{&quot;profile_user_id&quot;:46144009,&quot;target&quot;:&quot;EDIT_USER_STATUS&quot;,&quot;user_id&quot;:38871608,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;}}" data-hydro-click-hmac="9e35ed95995b67cda0217e83a09a20dd9fbcf577dd611b928b4d97e8e46d965d">
      <div class="d-flex flex-items-center flex-items-stretch">
        <div class="f6 lh-condensed user-status-header d-flex user-status-emoji-only-header circle">
          <div class="user-status-emoji-container flex-shrink-0 mr-2 d-flex flex-items-center flex-justify-center lh-condensed-ultra v-align-bottom">
            <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg>
          </div>
        </div>
        <div class="
          
           user-status-message-wrapper f6 min-width-0"
           style="line-height: 20px;" >
          <div class="css-truncate css-truncate-target width-fit text-gray-dark text-left">
              <span class="text-gray">Set status</span>
          </div>
        </div>
      </div>
    </summary>
    <details-dialog class="rounded-1 anim-fade-in fast Box Box--overlay" role="dialog" tabindex="-1">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="position-relative flex-auto js-user-status-form" action="/users/status?circle=0&amp;compact=1&amp;link_mentions=0&amp;truncate=1" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" /><input type="hidden" name="authenticity_token" value="4sMHKAjBboldcrOOOHcyxAKFCO/TVBc3d0FHzcYAFzIylGltpF03Po4KUVjM8qZy3yfHnoVVP8eykysrqhJtpQ==" />
        <div class="Box-header bg-gray border-bottom p-3">
          <button class="Box-btn-octicon js-toggle-user-status-edit btn-octicon float-right" type="reset" aria-label="Close dialog" data-close-dialog>
            <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
          </button>
          <h3 class="Box-title f5 text-bold text-gray-dark">Edit status</h3>
        </div>
        <input type="hidden" name="emoji" class="js-user-status-emoji-field" value="">
        <input type="hidden" name="organization_id" class="js-user-status-org-id-field" value="">
        <div class="px-3 py-2 text-gray-dark">
          <div class="js-characters-remaining-container position-relative mt-2">
            <div class="input-group d-table form-group my-0 js-user-status-form-group">
              <span class="input-group-button d-table-cell v-align-middle" style="width: 1%">
                <button type="button" aria-label="Choose an emoji" class="btn-outline btn js-toggle-user-status-emoji-picker p-0">
                  <span class="js-user-status-original-emoji" hidden></span>
                  <span class="js-user-status-custom-emoji"></span>
                  <span class="js-user-status-no-emoji-icon" >
                    <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg>
                  </span>
                </button>
              </span>
              <text-expander keys=": @" data-mention-url="/autocomplete/user-suggestions" data-emoji-url="/autocomplete/emoji">
                <input
                  type="text"
                  autocomplete="off"
                  data-no-org-url="/autocomplete/user-suggestions"
                  data-org-url="/suggestions?mention_suggester=1"
                  data-maxlength="80"
                  class="d-table-cell width-full form-control js-user-status-message-field js-characters-remaining-field"
                  placeholder="What's happening?"
                  name="message"
                  value=""
                  aria-label="What is your current status?">
              </text-expander>
              <div class="error">Could not update your status, please try again.</div>
            </div>
            <div style="margin-left: 53px" class="my-1 text-small label-characters-remaining js-characters-remaining" data-suffix="remaining" hidden>
              80 remaining
            </div>
          </div>
          <include-fragment class="js-user-status-emoji-picker" data-url="/users/status/emoji"></include-fragment>
          <div class="overflow-auto ml-n3 mr-n3 px-3 border-bottom" style="max-height: 33vh">
            <div class="user-status-suggestions js-user-status-suggestions collapsed overflow-hidden">
              <h4 class="f6 text-normal my-3">Suggestions:</h4>
              <div class="mx-3 mt-2 clearfix">
                  <div class="float-left col-6">
                      <button type="button" value=":palm_tree:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="palm_tree" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f334.png">üå¥</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          On vacation
                        </div>
                      </button>
                      <button type="button" value=":face_with_thermometer:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="face_with_thermometer" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f912.png">ü§í</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Out sick
                        </div>
                      </button>
                  </div>
                  <div class="float-left col-6">
                      <button type="button" value=":house:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="house" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3e0.png">üè†</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Working from home
                        </div>
                      </button>
                      <button type="button" value=":dart:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="dart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3af.png">üéØ</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Focusing
                        </div>
                      </button>
                  </div>
              </div>
            </div>
            <div class="user-status-limited-availability-container">
              <div class="form-checkbox my-0">
                <input type="checkbox" name="limited_availability" value="1" class="js-user-status-limited-availability-checkbox" data-default-message="I may be slow to respond." aria-describedby="limited-availability-help-text-truncate-true-compact-true" id="limited-availability-truncate-true-compact-true">
                <label class="d-block f5 text-gray-dark mb-1" for="limited-availability-truncate-true-compact-true">
                  Busy
                </label>
                <p class="note" id="limited-availability-help-text-truncate-true-compact-true">
                  When others mention you, assign you, or request your review,
                  GitHub will let them know that you have limited availability.
                </p>
              </div>
            </div>
          </div>
          <div class="d-inline-block f5 mr-2 pt-3 pb-2" >
  <div class="d-inline-block mr-1">
    Clear status
  </div>

  <details class="js-user-status-expire-drop-down f6 dropdown details-reset details-overlay d-inline-block mr-2">
    <summary class="btn btn-sm v-align-baseline" aria-haspopup="true">
      <div class="js-user-status-expiration-interval-selected d-inline-block v-align-baseline">
        Never
      </div>
      <div class="dropdown-caret"></div>
    </summary>

    <ul class="dropdown-menu dropdown-menu-se pl-0 overflow-auto" style="width: 220px; max-height: 15.5em">
      <li>
        <button type="button" class="btn-link dropdown-item js-user-status-expire-button ws-normal" title="Never">
          <span class="d-inline-block text-bold mb-1">Never</span>
          <div class="f6 lh-condensed">Keep this status until you clear your status or edit your status.</div>
        </button>
      </li>
      <li class="dropdown-divider" role="none"></li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 30 minutes" value="2020-10-24T18:54:57-03:00">
            in 30 minutes
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 1 hour" value="2020-10-24T19:24:57-03:00">
            in 1 hour
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 4 hours" value="2020-10-24T22:24:57-03:00">
            in 4 hours
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="today" value="2020-10-24T23:59:59-03:00">
            today
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="this week" value="2020-10-25T23:59:59-03:00">
            this week
          </button>
        </li>
    </ul>
  </details>
  <input class="js-user-status-expiration-date-input" type="hidden" name="expires_at" value="">
</div>

          <include-fragment class="js-user-status-org-picker" data-url="/users/status/organizations"></include-fragment>
        </div>
        <div class="d-flex flex-items-center flex-justify-between p-3 border-top">
          <button type="submit" disabled class="width-full btn btn-primary mr-2 js-user-status-submit">
            Set status
          </button>
          <button type="button" disabled class="width-full js-clear-user-status-button btn ml-2 ">
            Clear status
          </button>
        </div>
</form>    </details-dialog>
  </details>
</div>

      </div>
      <div role="none" class="dropdown-divider"></div>

    <a role="menuitem" class="dropdown-item" href="/pfirmino" data-ga-click="Header, go to profile, text:your profile" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;YOUR_PROFILE&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="fc7350be25de45a1dbc3125a3efd15a6821b3bc9802cb2ebad7c51e77c60c1f1" >Your profile</a>

    <a role="menuitem" class="dropdown-item" href="/pfirmino?tab=repositories" data-ga-click="Header, go to repositories, text:your repositories" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;YOUR_REPOSITORIES&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="8fdd3ed0ef4c18859455307b5ae8225b0ce18a574eca5b98fa903291d9b4409c" >Your repositories</a>



    <a role="menuitem" class="dropdown-item" href="/pfirmino?tab=projects" data-ga-click="Header, go to projects, text:your projects" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;YOUR_PROJECTS&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="6ee0c27ee3c89b8075a7d0b5f81e8224294c3d1f1db64b2ba0beea22bc7bc90e" >Your projects</a>


    <a role="menuitem" class="dropdown-item" href="/pfirmino?tab=stars" data-ga-click="Header, go to starred repos, text:your stars" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;YOUR_STARS&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="c985c428f6e427e9668bf19540eda5e53b3523a59e64e19aa8ac1559d6f4ee9c" >Your stars</a>
      <a role="menuitem" class="dropdown-item" href="https://gist.github.com/mine" data-ga-click="Header, your gists, text:your gists" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;YOUR_GISTS&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="4db0a1bf37fead0dc7dff0ff8811775f70cd40c1f247343d99dad913c5cc0133" >Your gists</a>





    <div role="none" class="dropdown-divider"></div>
      <a role="menuitem" class="dropdown-item" href="/settings/billing" data-ga-click="Header, go to billing, text:upgrade" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;UPGRADE&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="69bfee9d317c357437a942530db9c0d632c59fb99659cc5a0961062c265acb06" >Upgrade</a>
      
<div id="feature-enrollment-toggle" class="hide-sm hide-md feature-preview-details position-relative">
  <button
    type="button"
    class="dropdown-item btn-link"
    role="menuitem"
    data-feature-preview-trigger-url="/users/pfirmino/feature_previews"
    data-feature-preview-close-details="{&quot;event_type&quot;:&quot;feature_preview.clicks.close_modal&quot;,&quot;payload&quot;:{&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}"
    data-feature-preview-close-hmac="fef8daa5a3d4cb83878c8af0250f93c6255cac6fea8c24d4e76124d3cd35b3d0"
    data-hydro-click="{&quot;event_type&quot;:&quot;feature_preview.clicks.open_modal&quot;,&quot;payload&quot;:{&quot;link_location&quot;:&quot;user_dropdown&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}"
    data-hydro-click-hmac="f4ba9841fd03ddb377bd8e9197a5bd9d9c8893cf140c07745d19e4c0cd13be02"
  >
    Feature preview
  </button>
    <span class="feature-preview-indicator js-feature-preview-indicator" hidden></span>
</div>

    <a role="menuitem" class="dropdown-item" href="https://docs.github.com" data-ga-click="Header, go to help, text:help" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;HELP&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="86aae06f502d8fa3555342299e08fed7c480eb8c4e6936eb517467d48709ec17" >Help</a>
    <a role="menuitem" class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;SETTINGS&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="933af25eb5bfa04f8f5acd8ffc80e93b11f149e5c66fa72c0fbe9a447a108e52" >Settings</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="logout-form" action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="xUfYqsv7THXmPqHXW9wLvEgBwhswMuz+Qlx0IuxyvAdvrEETVPCOf8qxr4w7+WhPwrxcV4fam2ONd48Znk/2XA==" />
      
      <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;target&quot;:&quot;SIGN_OUT&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="3b2ae76e2a40a053c0247f42117d959ff6eb9ee57a3b116b8ebcc1deeb66ec2b"  role="menuitem">
        Sign out
      </button>
      <input type="text" name="required_field_f6e3" hidden="hidden" class="form-control" /><input type="hidden" name="timestamp" value="1603574697947" class="form-control" /><input type="hidden" name="timestamp_secret" value="fd87788885a90e91779153763faa9271d0e3d0f9805a435152d2d0c98e553892" class="form-control" />
</form>  </details-menu>
</details>

    </div>
</header>

          

    </div>

  <div id="start-of-content" class="show-on-focus"></div>





    <div data-pjax-replace id="js-flash-container">


  <template class="js-flash-template">
    <div class="flash flash-full  {{ className }}">
  <div class=" px-2" >
    <button class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
    </button>
    
      <div>{{ message }}</div>

  </div>
</div>
  </template>
</div>


  

  <include-fragment class="js-notification-shelf-include-fragment" data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>




  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main  >
      

    

        <div class="border-bottom shelf intro-shelf js-notice mb-0 pb-4">
  <div class="width-full container">
    <div class="width-full mx-auto shelf-content">
      <h2 class="shelf-title">Learn Git and GitHub without any code!</h2>
      <p class="shelf-lead">
          Using the Hello World guide, you‚Äôll start a branch, write comments, and open a pull request.
      </p>
      <a class="btn btn-primary shelf-cta" target="_blank" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;READ_GUIDE&quot;,&quot;repository_id&quot;:51565197,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="f3c50ffa01738213bdee2b72d5161e3ce68450e69f676f535edcc81c1ca035f7" href="https://guides.github.com/activities/hello-world/">Read the guide</a>
    </div>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="shelf-dismiss js-notice-dismiss" action="/dashboard/dismiss_bootcamp" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="delete" /><input type="hidden" name="authenticity_token" value="hmvHwEwsVO/cEceKYruSjwNdSmAvdV/DsUvZDC/kDrobeIjA+IDEIkBU34umaNMDnkiwJiCSWKpeN4jzY4HkRw==" />
      <button name="button" type="submit" class="mr-1 close-button tooltipped tooltipped-w" aria-label="Hide this notice forever" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;DISMISS_BANNER&quot;,&quot;repository_id&quot;:51565197,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="86658450eca5cf188ede0f43c151062a049ba71a47bacc27b1bec7d8228bfd79">
        <svg aria-label="Hide this notice forever" class="octicon octicon-x v-align-text-top" viewBox="0 0 16 16" version="1.1" width="16" height="16" role="img"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
</button></form>  </div>
</div>






  


  <div class="bg-gray-light pt-3 hide-full-screen mb-5">

      <div class="d-flex mb-3 px-3 px-md-4 px-lg-5">

        <div class="flex-auto min-width-0 width-fit mr-3">
            <h1 class=" d-flex flex-wrap flex-items-center break-word f3 text-normal">
    <svg class="octicon octicon-repo text-gray mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
    <span class="author flex-self-stretch" itemprop="author">
      <a class="url fn" rel="author" data-hovercard-type="user" data-hovercard-url="/users/n5ro/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/n5ro">n5ro</a>
    </span>
    <span class="mx-1 flex-self-stretch color-text-secondary">/</span>
  <strong itemprop="name" class="mr-2 flex-self-stretch">
    <a data-pjax="#js-repo-pjax-container" class="" href="/n5ro/aframe-extras">aframe-extras</a>
  </strong>
  
</h1>


        </div>

          <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">

  <li>
            <form data-remote="true" class="d-flex js-social-form js-social-container" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="WuNy1CWFIsHuk69M1StYkkU7oMulINeD3m46x2MkLhvHg11ShKeUE/OzVooTiSHtPdR+XLKTG+MpK7iUHUXMig==" />      <input type="hidden" name="repository_id" value="51565197">

      <details class="details-reset details-overlay select-menu hx_rsm">
        <summary class="btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:51565197,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="41d87dc449e8e897265fde373812c8ae27057af36e3f2c32f9b5f06f238d4ea8" data-ga-click="Repository, click Watch settings, action:blob#show">          <span data-menu-button>
              <svg class="octicon octicon-eye" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>
              Watch
          </span>
          <span class="dropdown-caret"></span>
</summary>        <details-menu
          class="select-menu-modal position-absolute mt-5"
          style="z-index: 99;">
          <div class="select-menu-header">
            <span class="select-menu-title">Notifications</span>
          </div>
          <div class="select-menu-list">
            <button type="submit" name="do" value="included" class="select-menu-item width-full" aria-checked="true" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Not watching</span>
                <span class="description">Be notified only when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg class="octicon octicon-eye" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>
                  Watch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="release_only" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Releases only</span>
                <span class="description">Be notified of new releases, and when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg class="octicon octicon-eye" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>
                  Unwatch releases
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="subscribed" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Watching</span>
                <span class="description">Be notified of all conversations.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg class="octicon octicon-eye v-align-text-bottom" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>
                  Unwatch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="ignore" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Ignoring</span>
                <span class="description">Never be notified.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg class="octicon octicon-bell-slash" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5c-.997 0-1.895.416-2.534 1.086A.75.75 0 014.38 1.55 5 5 0 0113 5v2.373a.75.75 0 01-1.5 0V5A3.5 3.5 0 008 1.5zM4.182 4.31L1.19 2.143a.75.75 0 10-.88 1.214L3 5.305v2.642a.25.25 0 01-.042.139L1.255 10.64A1.518 1.518 0 002.518 13h11.108l1.184.857a.75.75 0 10.88-1.214l-1.375-.996a1.196 1.196 0 00-.013-.01L4.198 4.321a.733.733 0 00-.016-.011zm7.373 7.19L4.5 6.391v1.556c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01.015.015 0 00.005.012.017.017 0 00.006.004l.007.001h9.037zM8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path></svg>
                  Stop ignoring
                </span>
              </div>
            </button>
          </div>
        </details-menu>
      </details>
        <a class="social-count js-social-count"
          href="/n5ro/aframe-extras/watchers"
          aria-label="52 users are watching this repository">
          52
        </a>
</form>
  </li>

  <li>
        <div class="js-toggler-container js-social-container starring-container ">
    <form class="starred js-social-form" action="/n5ro/aframe-extras/unstar" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="DdN8fm5gBlbwLDuWIPNqQGlkKTFCFqSKWDA48ijboljkS77fIHsN36Qqs4pHufm3drWewACN2Gg1UdrUsfWAFw==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Unstar n5ro/aframe-extras" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:51565197,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="5d8edfd90deb38d50601cac2b323fb240e14b04cf14e52cd7b1ab801b175bf60" data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">        <svg class="octicon octicon-star-fill" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"></path></svg>
        Unstar
</button>        <a class="social-count js-social-count" href="/n5ro/aframe-extras/stargazers"
           aria-label="682 users starred this repository">
           682
        </a>
</form>
    <form class="unstarred js-social-form" action="/n5ro/aframe-extras/star" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="Nx7wZ9iOv/FPqQ6iJ+nTfVxgf1G+X5RgCOz5jj0qYKAGr0/7u0P2oOTz5acaOVd6tA+ko80BsHMmT9989YSJ0Q==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Star n5ro/aframe-extras" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:51565197,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="434b0e9955c7249192d1c2fa2bf4ea77c2fda56a5cfddea8339a87dc7120df7f" data-ga-click="Repository, click star button, action:blob#show; text:Star">        <svg class="octicon octicon-star" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path></svg>
        Star
</button>        <a class="social-count js-social-count" href="/n5ro/aframe-extras/stargazers"
           aria-label="682 users starred this repository">
          682
        </a>
</form>  </div>

  </li>

  <li>
            <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="btn-with-count" action="/n5ro/aframe-extras/fork" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="CurCYb5RrBl5geAPn1zqEOdTbrjT92tQ0emxOga7wLnOT+NtDD3i+VlndFzLZu5/36Tl7qRoPmvYv8EgMCQxtw==" />
              <button class="btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FORK_BUTTON&quot;,&quot;repository_id&quot;:51565197,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="972e42d2ec954379ee6d5c63572a8677bd535ab737e0487caa57283de499464b" data-ga-click="Repository, show fork modal, action:blob#show; text:Fork" type="submit" title="Fork your own copy of n5ro/aframe-extras to your account" aria-label="Fork your own copy of n5ro/aframe-extras to your account">                <svg class="octicon octicon-repo-forked" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>
                Fork
</button></form>
      <a href="/n5ro/aframe-extras/network/members" class="social-count"
         aria-label="230 users forked this repository">
        230
      </a>
  </li>
</ul>

      </div>
        
<nav aria-label="Repository" data-pjax="#js-repo-pjax-container" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5 bg-gray-light">
  <ul class="UnderlineNav-body list-style-none ">
          <li class="d-flex">
        <a class="js-selected-navigation-item selected UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="code-tab" data-hotkey="g c" data-ga-click="Repository, Navigation click, Code tab" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /n5ro/aframe-extras" href="/n5ro/aframe-extras">
              <svg class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>
            <span data-content="Code">Code</span>
              <span title="Not available" class="Counter "></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="issues-tab" data-hotkey="g i" data-ga-click="Repository, Navigation click, Issues tab" data-selected-links="repo_issues repo_labels repo_milestones /n5ro/aframe-extras/issues" href="/n5ro/aframe-extras/issues">
              <svg class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z"></path></svg>
            <span data-content="Issues">Issues</span>
              <span title="29" class="Counter ">29</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="pull-requests-tab" data-hotkey="g p" data-ga-click="Repository, Navigation click, Pull requests tab" data-selected-links="repo_pulls checks /n5ro/aframe-extras/pulls" href="/n5ro/aframe-extras/pulls">
              <svg class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>
            <span data-content="Pull requests">Pull requests</span>
              <span title="2" class="Counter ">2</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="actions-tab" data-hotkey="g a" data-ga-click="Repository, Navigation click, Actions tab" data-selected-links="repo_actions /n5ro/aframe-extras/actions" href="/n5ro/aframe-extras/actions">
              <svg class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z"></path></svg>
            <span data-content="Actions">Actions</span>
              <span title="Not available" class="Counter "></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="projects-tab" data-hotkey="g b" data-ga-click="Repository, Navigation click, Projects tab" data-selected-links="repo_projects new_repo_project repo_project /n5ro/aframe-extras/projects" href="/n5ro/aframe-extras/projects">
              <svg class="octicon octicon-project UnderlineNav-octicon d-none d-sm-inline" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
            <span data-content="Projects">Projects</span>
              <span title="0" hidden="hidden" class="Counter ">0</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="wiki-tab" data-hotkey="g w" data-ga-click="Repository, Navigation click, Wikis tab" data-selected-links="repo_wiki /n5ro/aframe-extras/wiki" href="/n5ro/aframe-extras/wiki">
              <svg class="octicon octicon-book UnderlineNav-octicon d-none d-sm-inline" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z"></path></svg>
            <span data-content="Wiki">Wiki</span>
              <span title="Not available" class="Counter "></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="security-tab" data-hotkey="g s" data-ga-click="Repository, Navigation click, Security tab" data-selected-links="security overview alerts policy token_scanning code_scanning /n5ro/aframe-extras/security" href="/n5ro/aframe-extras/security">
              <svg class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"></path></svg>
            <span data-content="Security">Security</span>
              <include-fragment src="/n5ro/aframe-extras/security/overall-count" accept="text/fragment+html"></include-fragment>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="insights-tab" data-ga-click="Repository, Navigation click, Insights tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people /n5ro/aframe-extras/pulse" href="/n5ro/aframe-extras/pulse">
              <svg class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z"></path></svg>
            <span data-content="Insights">Insights</span>
              <span title="Not available" class="Counter "></span>
</a>      </li>

</ul>        <div class="position-absolute right-0 pr-3 pr-md-4 pr-lg-5 js-responsive-underlinenav-overflow" style="visibility:hidden;">
      <details class="details-overlay details-reset position-relative">
  <summary role="button">
    <div class="UnderlineNav-item mr-0 border-0">
            <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
            <span class="sr-only">More</span>
          </div>
</summary>  <div>
    <details-menu role="menu" class="dropdown-menu dropdown-menu-sw ">
  
            <ul>
                <li data-menu-item="code-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /n5ro/aframe-extras" href="/n5ro/aframe-extras">
                    Code
</a>                </li>
                <li data-menu-item="issues-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /n5ro/aframe-extras/issues" href="/n5ro/aframe-extras/issues">
                    Issues
</a>                </li>
                <li data-menu-item="pull-requests-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /n5ro/aframe-extras/pulls" href="/n5ro/aframe-extras/pulls">
                    Pull requests
</a>                </li>
                <li data-menu-item="actions-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /n5ro/aframe-extras/actions" href="/n5ro/aframe-extras/actions">
                    Actions
</a>                </li>
                <li data-menu-item="projects-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /n5ro/aframe-extras/projects" href="/n5ro/aframe-extras/projects">
                    Projects
</a>                </li>
                <li data-menu-item="wiki-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /n5ro/aframe-extras/wiki" href="/n5ro/aframe-extras/wiki">
                    Wiki
</a>                </li>
                <li data-menu-item="security-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /n5ro/aframe-extras/security" href="/n5ro/aframe-extras/security">
                    Security
</a>                </li>
                <li data-menu-item="insights-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /n5ro/aframe-extras/pulse" href="/n5ro/aframe-extras/pulse">
                    Insights
</a>                </li>
            </ul>

</details-menu>
</div></details>    </div>

</nav>
  </div>


<div class="container-xl clearfix new-discussion-timeline px-3 px-md-4 px-lg-5">
  <div class="repository-content " >

    
      
  


    <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/n5ro/aframe-extras/blob/7d2078e33b132ff144a51b89292e5926e4db7b73/dist/aframe-extras.min.js">Permalink</a>

    <!-- blob contrib key: blob_contributors:v22:0585d963ea22d707e1956ad15fafdd1a7f693a7dc6adec7f56bdffe67896049c -->
    

    <div class="d-flex flex-items-start flex-shrink-0 pb-3 flex-wrap flex-md-nowrap flex-justify-between flex-md-justify-start">
      
<div class="position-relative">
  <details class="details-reset details-overlay mr-0 mb-0 " id="branch-select-menu">
    <summary class="btn css-truncate"
            data-hotkey="w"
            title="Switch branches or tags">
      <svg class="octicon octicon-git-branch text-gray" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"></path></svg>
      <span class="css-truncate-target" data-menu-button>master</span>
      <span class="dropdown-caret"></span>
    </summary>

    <details-menu class="SelectMenu SelectMenu--hasFilter" src="/n5ro/aframe-extras/refs/master/dist/aframe-extras.min.js?source_action=show&amp;source_controller=blob" preload>
      <div class="SelectMenu-modal">
        <include-fragment class="SelectMenu-loading" aria-label="Menu is loading">
          <svg class="octicon octicon-octoface anim-pulse" height="32" viewBox="0 0 24 24" version="1.1" width="32" aria-hidden="true"><path d="M7.75 11c-.69 0-1.25.56-1.25 1.25v1.5a1.25 1.25 0 102.5 0v-1.5C9 11.56 8.44 11 7.75 11zm1.27 4.5a.469.469 0 01.48-.5h5a.47.47 0 01.48.5c-.116 1.316-.759 2.5-2.98 2.5s-2.864-1.184-2.98-2.5zm7.23-4.5c-.69 0-1.25.56-1.25 1.25v1.5a1.25 1.25 0 102.5 0v-1.5c0-.69-.56-1.25-1.25-1.25z"></path><path fill-rule="evenodd" d="M21.255 3.82a1.725 1.725 0 00-2.141-1.195c-.557.16-1.406.44-2.264.866-.78.386-1.647.93-2.293 1.677A18.442 18.442 0 0012 5c-.93 0-1.784.059-2.569.17-.645-.74-1.505-1.28-2.28-1.664a13.876 13.876 0 00-2.265-.866 1.725 1.725 0 00-2.141 1.196 23.645 23.645 0 00-.69 3.292c-.125.97-.191 2.07-.066 3.112C1.254 11.882 1 13.734 1 15.527 1 19.915 3.13 23 12 23c8.87 0 11-3.053 11-7.473 0-1.794-.255-3.647-.99-5.29.127-1.046.06-2.15-.066-3.125a23.652 23.652 0 00-.689-3.292zM20.5 14c.5 3.5-1.5 6.5-8.5 6.5s-9-3-8.5-6.5c.583-4 3-6 8.5-6s7.928 2 8.5 6z"></path></svg>
        </include-fragment>
      </div>
    </details-menu>
  </details>

</div>

      <h2 id="blob-path" class="breadcrumb flex-auto min-width-0 text-normal mx-0 mx-md-3 width-full width-md-auto flex-order-1 flex-md-order-none mt-3 mt-md-0">
        <span class="js-repo-root text-bold"><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="true" href="/n5ro/aframe-extras"><span>aframe-extras</span></a></span></span><span class="separator">/</span><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="true" href="/n5ro/aframe-extras/tree/master/dist"><span>dist</span></a></span><span class="separator">/</span><strong class="final-path">aframe-extras.min.js</strong>
          <span class="separator">/</span><details class="details-reset details-overlay d-inline" id="jumpto-symbol-select-menu">
  <summary class="btn-link link-gray css-truncate" aria-haspopup="true" data-hotkey="r" data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_blob_definitions&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_blob_definitions&quot;,&quot;repository_id&quot;:51565197,&quot;ref&quot;:&quot;master&quot;,&quot;language&quot;:&quot;JavaScript&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="5a2a10d8d86cf0f5ec590737e1774d1e38b4482cf46b28636f817538bfc9d24d">
      <svg class="octicon octicon-code" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>
    <span data-menu-button>Jump to</span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="SelectMenu SelectMenu--hasFilter" role="menu">
    <div class="SelectMenu-modal">
      <header class="SelectMenu-header">
        <span class="SelectMenu-title">Code definitions</span>
        <button class="SelectMenu-closeButton" type="button" data-toggle-for="jumpto-symbol-select-menu">
          <svg aria-label="Close menu" class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" role="img"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
        </button>
      </header>
        <div class="SelectMenu-filter">
          <input
            class="SelectMenu-input form-control js-filterable-field"
            id="jumpto-symbols-filter-field"
            type="text"
            autocomplete="off"
            spellcheck="false"
            autofocus
            placeholder="Filter definitions"
            aria-label="Filter definitions">
        </div>
      <div class="SelectMenu-list">
        <div data-filterable-for="jumpto-symbols-filter-field" data-filterable-type="substring">
        </div>
      </div>
      <footer class="SelectMenu-footer">
        <div class="d-flex flex-justify-between">
          Code navigation index up-to-date
          <svg class="octicon octicon-dot-fill text-green" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8z"></path></svg>
        </div>
      </footer>
    </div>
  </details-menu>
</details>

      </h2>
      <a href="/n5ro/aframe-extras/find/master"
            class="js-pjax-capture-input btn mr-2 d-none d-md-block"
            data-pjax
            data-hotkey="t">
        Go to file
      </a>

      <details id="blob-more-options-details" class="details-overlay details-reset position-relative">
  <summary role="button">
    <svg aria-label="More options" class="octicon octicon-kebab-horizontal" height="16" viewBox="0 0 16 16" version="1.1" width="16" role="img"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
</summary>  <div>
    <ul class="dropdown-menu dropdown-menu-sw">
            <li class="d-block d-md-none">
              <a class="dropdown-item d-flex flex-items-baseline" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FIND_FILE_BUTTON&quot;,&quot;repository_id&quot;:51565197,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}" data-hydro-click-hmac="5f6d8e628f409fe279e161929e6c9a3f5f852187b8112c973071d684e11f1483" data-ga-click="Repository, find file, location:repo overview" data-hotkey="t" data-pjax="true" href="/n5ro/aframe-extras/find/master">
                <span class="flex-auto">Go to file</span>
                <span class="text-small text-gray" aria-hidden="true">T</span>
</a>            </li>
            <li data-toggle-for="blob-more-options-details">
              <button type="button" data-toggle-for="jumpto-line-details-dialog" class="btn-link dropdown-item">
                <span class="d-flex flex-items-baseline">
                  <span class="flex-auto">Go to line</span>
                  <span class="text-small text-gray" aria-hidden="true">L</span>
                </span>
              </button>
            </li>
            <li data-toggle-for="blob-more-options-details">
              <button type="button" data-toggle-for="jumpto-symbol-select-menu" class="btn-link dropdown-item">
                <span class="d-flex flex-items-baseline">
                  <span class="flex-auto">Go to definition</span>
                  <span class="text-small text-gray" aria-hidden="true">R</span>
                </span>
              </button>
            </li>
            <li class="dropdown-divider" role="none"></li>
            <li>
              <clipboard-copy value="dist/aframe-extras.min.js" class="dropdown-item cursor-pointer" data-toggle-for="blob-more-options-details">
                Copy path
              </clipboard-copy>
            </li>
          </ul>
</div></details>    </div>



    <div class="Box d-flex flex-column flex-shrink-0 mb-3">
      <include-fragment src="/n5ro/aframe-extras/contributors/master/dist/aframe-extras.min.js" class="commit-loader">
        <div class="Box-header Box-header--blue d-flex flex-items-center">
          <div class="Skeleton avatar avatar-user flex-shrink-0 ml-n1 mr-n1 mt-n1 mb-n1" style="width:24px;height:24px;"></div>
          <div class="Skeleton Skeleton--text col-5 ml-2">&nbsp;</div>
        </div>

        <div class="Box-body d-flex flex-items-center" >
          <div class="Skeleton Skeleton--text col-1">&nbsp;</div>
          <span class="text-red h6 loader-error">Cannot retrieve contributors at this time</span>
        </div>
</include-fragment>    </div>






    <div class="Box mt-3 position-relative
      ">
      
<div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center">
  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">

      1 lines (1 sloc)
      <span class="file-info-divider"></span>
    166 KB
  </div>

  <div class="d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between">

    <div class="BtnGroup">
      <a href="/n5ro/aframe-extras/raw/master/dist/aframe-extras.min.js" id="raw-url" role="button" class="btn btn-sm BtnGroup-item ">Raw</a>
        <a href="/n5ro/aframe-extras/blame/master/dist/aframe-extras.min.js" data-hotkey="b" role="button" class="btn js-update-url-with-hash btn-sm BtnGroup-item ">Blame</a>
    </div>

    <div>
          <a class="btn-octicon tooltipped tooltipped-nw js-remove-unless-platform"
             data-platforms="windows,mac"
             href="x-github-client://openRepo/https://github.com/n5ro/aframe-extras?branch=master&amp;filepath=dist%2Faframe-extras.min.js"
             aria-label="Open this file in GitHub Desktop"
             data-ga-click="Repository, open with desktop">
              <svg class="octicon octicon-device-desktop" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 2.5h12.5a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25zM14.25 1H1.75A1.75 1.75 0 000 2.75v7.5C0 11.216.784 12 1.75 12h3.727c-.1 1.041-.52 1.872-1.292 2.757A.75.75 0 004.75 16h6.5a.75.75 0 00.565-1.243c-.772-.885-1.193-1.716-1.292-2.757h3.727A1.75 1.75 0 0016 10.25v-7.5A1.75 1.75 0 0014.25 1zM9.018 12H6.982a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5z"></path></svg>
          </a>

          <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form js-update-url-with-hash" action="/n5ro/aframe-extras/edit/master/dist/aframe-extras.min.js" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="5VyefPzP/qGwGEhv4ktfkbz9IpA0tu83oxTxqXh++tJ/qD81tCPN/4EC7DZbM3g0hkq/Miusy+IG7n3g5ZnaPg==" />
            <button class="btn-octicon tooltipped tooltipped-nw" type="submit"
              aria-label="Fork this project and edit the file" data-hotkey="e" data-disable-with>
              <svg class="octicon octicon-pencil" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path></svg>
            </button>
</form>
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form" action="/n5ro/aframe-extras/delete/master/dist/aframe-extras.min.js" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="6sdSBpgV2/7STCLVqt6dLH4r+qKupU6oVb3CUVeHyaJjjPfhJd3Pfl2S1s8meuNF7X14amdYETSUi71BXx4ekg==" />
            <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
              aria-label="Fork this project and delete the file" data-disable-with>
              <svg class="octicon octicon-trashcan" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"></path></svg>
            </button>
</form>    </div>
  </div>
</div>

      

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  gist-border-0">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line">!function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var c=&quot;function&quot;==typeof require&amp;&amp;require;if(!a&amp;&amp;c)return c(s,!0);if(o)return o(s,!0);var l=new Error(&quot;Cannot find module &#39;&quot;+s+&quot;&#39;&quot;);throw l.code=&quot;MODULE_NOT_FOUND&quot;,l}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){var i=t[s][1][e];return r(i||e)},h,h.exports,e,t,i,n)}return i[s].exports}for(var o=&quot;function&quot;==typeof require&amp;&amp;require,s=0;s&lt;n.length;s++)r(n[s]);return r}({1:[function(e,t,i){&quot;use strict&quot;;e(&quot;./&quot;)},{&quot;./&quot;:2}],2:[function(e,t,i){&quot;use strict&quot;;e(&quot;./src/controls&quot;),e(&quot;./src/loaders&quot;),e(&quot;./src/misc&quot;),e(&quot;./src/pathfinding&quot;),e(&quot;./src/primitives&quot;)},{&quot;./src/controls&quot;:14,&quot;./src/loaders&quot;:23,&quot;./src/misc&quot;:28,&quot;./src/pathfinding&quot;:34,&quot;./src/primitives&quot;:42}],3:[function(e,t,i){&quot;use strict&quot;;t.exports=THREE.ColladaLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:&quot;anonymous&quot;,load:function(e,t,i,n){var r=this,o=void 0===r.path?THREE.LoaderUtils.extractUrlBase(e):r.path,s=new THREE.FileLoader(r.manager);s.setPath(r.path),s.load(e,function(e){t(r.parse(e,o))},i,n)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},options:{set convertUpAxis(e){console.warn(&quot;THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.&quot;)}},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){function i(e,t){for(var i=[],n=e.childNodes,r=0,o=n.length;r&lt;o;r++){var s=n[r];s.nodeName===t&amp;&amp;i.push(s)}return i}function n(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),i=new Array(t.length),n=0,r=t.length;n&lt;r;n++)i[n]=t[n];return i}function r(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),i=new Array(t.length),n=0,r=t.length;n&lt;r;n++)i[n]=parseFloat(t[n]);return i}function o(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),i=new Array(t.length),n=0,r=t.length;n&lt;r;n++)i[n]=parseInt(t[n]);return i}function s(e){return e.substring(1)}function a(){return&quot;three_default_&quot;+ae++}function c(e){return 0===Object.keys(e).length}function l(e,t,n,r){var o=i(e,t)[0];if(void 0!==o)for(var s=i(o,n),a=0;a&lt;s.length;a++)r(s[a])}function h(e,t){for(var i in e){e[i].build=t(e[i])}}function u(e,t){return void 0!==e.build?e.build:(e.build=t(e),e.build)}function d(e){var t=[],i=e.channels,n=e.samplers,r=e.sources;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o],a=n[s.sampler],c=a.inputs.INPUT,l=a.inputs.OUTPUT;!function(e,t){for(var i=e.keyframes,n=e.name,r=[],o=[],s=[],a=[],c=0,l=i.length;c&lt;l;c++){var h=i[c],u=h.time,d=h.value;Y.fromArray(d).transpose(),Y.decompose(X,J,Z),r.push(u),o.push(X.x,X.y,X.z),s.push(J.x,J.y,J.z,J.w),a.push(Z.x,Z.y,Z.z)}o.length&gt;0&amp;&amp;t.push(new THREE.VectorKeyframeTrack(n+&quot;.position&quot;,r,o));s.length&gt;0&amp;&amp;t.push(new THREE.QuaternionKeyframeTrack(n+&quot;.quaternion&quot;,r,s));a.length&gt;0&amp;&amp;t.push(new THREE.VectorKeyframeTrack(n+&quot;.scale&quot;,r,a))}(function(e,t,i){var n,r,o,s,a,c,l=ce.nodes[e.id],h=U(l.id),u=l.transforms[e.sid],d=l.matrix.clone().transpose(),p={};switch(u){case&quot;matrix&quot;:for(o=0,s=t.array.length;o&lt;s;o++)if(n=t.array[o],r=o*i.stride,void 0===p[n]&amp;&amp;(p[n]={}),!0===e.arraySyntax){var f=i.array[r],m=e.indices[0]+4*e.indices[1];p[n][m]=f}else for(a=0,c=i.stride;a&lt;c;a++)p[n][a]=i.array[r+a];break;case&quot;translate&quot;:case&quot;rotate&quot;:case&quot;scale&quot;:console.warn(&#39;THREE.ColladaLoader: Animation transform type &quot;%s&quot; not yet implemented.&#39;,u)}var v=function(e,t){var i=[];for(var n in e)i.push({time:parseFloat(n),value:e[n]});i.sort(function(e,t){return e.time-t.time});for(var r=0;r&lt;16;r++)!function(e,t,i){var n,r,o,s=!0;for(r=0,o=e.length;r&lt;o;r++)void 0===(n=e[r]).value[t]?n.value[t]=null:s=!1;if(!0===s)for(r=0,o=e.length;r&lt;o;r++)(n=e[r]).value[t]=i;else!function(e,t){for(var i,n,r=0,o=e.length;r&lt;o;r++){var s=e[r];if(null===s.value[t]){if(i=function(e,t,i){for(;t&gt;=0;){var n=e[t];if(null!==n.value[i])return n;t--}return null}(e,r,t),n=function(e,t,i){for(;t&lt;e.length;){var n=e[t];if(null!==n.value[i])return n;t++}return null}(e,r,t),null===i){s.value[t]=n.value[t];continue}if(null===n){s.value[t]=i.value[t];continue}!function(e,t,i,n){if(i.time-t.time==0)return void(e.value[n]=t.value[n]);e.value[n]=(e.time-t.time)*(i.value[n]-t.value[n])/(i.time-t.time)+t.value[n]}(s,i,n,t)}}}(e,t)}(i,r,t.elements[r]);return i}(p,d);return{name:h.uuid,keyframes:v}}(s,r[c],r[l]),t)}return t}function p(e){return u(ce.animations[e],d)}function f(e){for(var t=[],i=e.name,n=e.end-e.start||-1,r=e.animations,o=0,s=r.length;o&lt;s;o++)for(var a=p(r[o]),c=0,l=a.length;c&lt;l;c++)t.push(a[c]);return new THREE.AnimationClip(i,n,t)}function m(e){return u(ce.clips[e],f)}function v(e){var t={id:e.id},i=ce.geometries[t.id];return void 0!==e.skin&amp;&amp;(t.skin=function(e){function t(e,t){return t.weight-e.weight}var i,n,r,o={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},s=e.sources,a=e.vertexWeights,c=a.vcount,l=a.v,h=a.inputs.JOINT.offset,u=a.inputs.WEIGHT.offset,d=e.sources[e.joints.inputs.JOINT],p=e.sources[e.joints.inputs.INV_BIND_MATRIX],f=s[a.inputs.WEIGHT.id].array,m=0;for(i=0,r=c.length;i&lt;r;i++){var v=c[i],g=[];for(n=0;n&lt;v;n++){var y=l[m+h],E=l[m+u],b=f[E];g.push({index:y,weight:b}),m+=2}for(g.sort(t),n=0;n&lt;4;n++){var T=g[n];void 0!==T?(o.indices.array.push(T.index),o.weights.array.push(T.weight)):(o.indices.array.push(0),o.weights.array.push(0))}}e.bindShapeMatrix?o.bindMatrix=(new THREE.Matrix4).fromArray(e.bindShapeMatrix).transpose():o.bindMatrix=(new THREE.Matrix4).identity();for(i=0,r=d.array.length;i&lt;r;i++){var w=d.array[i],x=(new THREE.Matrix4).fromArray(p.array,i*p.stride).transpose();o.joints.push({name:w,boneInverse:x})}return o}(e.skin),i.sources.skinIndices=t.skin.indices,i.sources.skinWeights=t.skin.weights),t}function g(e){return u(ce.controllers[e],v)}function y(e){return void 0!==e.build?e.build:e.init_from}function E(e){var t=ce.images[e];return void 0!==t?u(t,y):(console.warn(&quot;THREE.ColladaLoader: Couldn&#39;t find image with ID:&quot;,e),null)}function b(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var o=e.childNodes[i];if(1===o.nodeType)switch(o.nodeName){case&quot;color&quot;:t[o.nodeName]=r(o.textContent);break;case&quot;float&quot;:t[o.nodeName]=parseFloat(o.textContent);break;case&quot;texture&quot;:t[o.nodeName]={id:o.getAttribute(&quot;texture&quot;),extra:function(e){for(var t={technique:{}},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;extra&quot;:!function(e,t){for(var i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;technique&quot;:!function(e,t){for(var i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;repeatU&quot;:case&quot;repeatV&quot;:case&quot;offsetU&quot;:case&quot;offsetV&quot;:t.technique[r.nodeName]=parseFloat(r.textContent);break;case&quot;wrapU&quot;:case&quot;wrapV&quot;:&quot;TRUE&quot;===r.textContent.toUpperCase()?t.technique[r.nodeName]=1:&quot;FALSE&quot;===r.textContent.toUpperCase()?t.technique[r.nodeName]=0:t.technique[r.nodeName]=parseInt(r.textContent)}}}(r,t)}}}(r,t)}}return t}(o)}}}return t}function T(e){return e}function w(e){function t(e){var t=n.profile.samplers[e.id],i=null;if(void 0!==t){i=E(n.profile.surfaces[t.source].init_from)}else console.warn(&quot;THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530).&quot;),i=E(e.id);if(null!==i){var r=function(e){var t,i=e.slice(2+(e.lastIndexOf(&quot;.&quot;)-1&gt;&gt;&gt;0));switch(i=i.toLowerCase()){case&quot;tga&quot;:t=re;break;default:t=ne}return t}(i);if(void 0!==r){var o=r.load(i),s=e.extra;if(void 0!==s&amp;&amp;void 0!==s.technique&amp;&amp;!1===c(s.technique)){var a=s.technique;o.wrapS=a.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,o.wrapT=a.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,o.offset.set(a.offsetU||0,a.offsetV||0),o.repeat.set(a.repeatU||1,a.repeatV||1)}else o.wrapS=THREE.RepeatWrapping,o.wrapT=THREE.RepeatWrapping;return o}return console.warn(&quot;THREE.ColladaLoader: Loader for texture %s not found.&quot;,i),null}return console.warn(&quot;THREE.ColladaLoader: Couldn&#39;t create texture with ID:&quot;,e.id),null}var i,n=function(e){return u(ce.effects[e],T)}(e.url),r=n.profile.technique,o=n.profile.extra;switch(r.type){case&quot;phong&quot;:case&quot;blinn&quot;:i=new THREE.MeshPhongMaterial;break;case&quot;lambert&quot;:i=new THREE.MeshLambertMaterial;break;default:i=new THREE.MeshBasicMaterial}i.name=e.name;var s=r.parameters;for(var a in s){var l=s[a];switch(a){case&quot;diffuse&quot;:l.color&amp;&amp;i.color.fromArray(l.color),l.texture&amp;&amp;(i.map=t(l.texture));break;case&quot;specular&quot;:l.color&amp;&amp;i.specular&amp;&amp;i.specular.fromArray(l.color),l.texture&amp;&amp;(i.specularMap=t(l.texture));break;case&quot;bump&quot;:l.texture&amp;&amp;(i.normalMap=t(l.texture));break;case&quot;ambient&quot;:l.texture&amp;&amp;(i.lightMap=t(l.texture));break;case&quot;shininess&quot;:l.float&amp;&amp;i.shininess&amp;&amp;(i.shininess=l.float);break;case&quot;emission&quot;:l.color&amp;&amp;i.emissive&amp;&amp;i.emissive.fromArray(l.color),l.texture&amp;&amp;(i.emissiveMap=t(l.texture))}}var h=s.transparent,d=s.transparency;if(void 0===d&amp;&amp;h&amp;&amp;(d={float:1}),void 0===h&amp;&amp;d&amp;&amp;(h={opaque:&quot;A_ONE&quot;,data:{color:[1,1,1,1]}}),h&amp;&amp;d)if(h.data.texture)i.transparent=!0;else{var p=h.data.color;switch(h.opaque){case&quot;A_ONE&quot;:i.opacity=p[3]*d.float;break;case&quot;RGB_ZERO&quot;:i.opacity=1-p[0]*d.float;break;case&quot;A_ZERO&quot;:i.opacity=1-p[3]*d.float;break;case&quot;RGB_ONE&quot;:i.opacity=p[0]*d.float;break;default:console.warn(&#39;THREE.ColladaLoader: Invalid opaque type &quot;%s&quot; of transparent tag.&#39;,h.opaque)}i.opacity&lt;1&amp;&amp;(i.transparent=!0)}return void 0!==o&amp;&amp;void 0!==o.technique&amp;&amp;1===o.technique.double_sided&amp;&amp;(i.side=THREE.DoubleSide),i}function x(e){return u(ce.materials[e],w)}function k(e){var t;switch(e.optics.technique){case&quot;perspective&quot;:t=new THREE.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case&quot;orthographic&quot;:var i=e.optics.parameters.ymag,n=e.optics.parameters.xmag,r=e.optics.parameters.aspect_ratio;n=void 0===n?i*r:n,i=void 0===i?n/r:i,n*=.5,i*=.5,t=new THREE.OrthographicCamera(-n,n,i,-i,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new THREE.PerspectiveCamera}return t.name=e.name,t}function R(e){var t=ce.cameras[e];return void 0!==t?u(t,k):(console.warn(&quot;THREE.ColladaLoader: Couldn&#39;t find camera with ID:&quot;,e),null)}function A(e){var t;switch(e.technique){case&quot;directional&quot;:t=new THREE.DirectionalLight;break;case&quot;point&quot;:t=new THREE.PointLight;break;case&quot;spot&quot;:t=new THREE.SpotLight;break;case&quot;ambient&quot;:t=new THREE.AmbientLight}return e.parameters.color&amp;&amp;t.color.copy(e.parameters.color),e.parameters.distance&amp;&amp;(t.distance=e.parameters.distance),t}function C(e){var t=ce.lights[e];return void 0!==t?u(t,A):(console.warn(&quot;THREE.ColladaLoader: Couldn&#39;t find light with ID:&quot;,e),null)}function N(e){for(var t={array:[],stride:3},o=0;o&lt;e.childNodes.length;o++){var s=e.childNodes[o];if(1===s.nodeType)switch(s.nodeName){case&quot;float_array&quot;:t.array=r(s.textContent);break;case&quot;Name_array&quot;:t.array=n(s.textContent);break;case&quot;technique_common&quot;:var a=i(s,&quot;accessor&quot;)[0];void 0!==a&amp;&amp;(t.stride=parseInt(a.getAttribute(&quot;stride&quot;)))}}return t}function M(e){for(var t=0,i=0,n=e.length;i&lt;n;i++){!0===e[i].hasUV&amp;&amp;t++}t&gt;0&amp;&amp;t&lt;e.length&amp;&amp;(e.uvsNeedsFix=!0)}function S(e){var t={},i=e.sources,n=e.vertices,r=e.primitives;if(0===r.length)return{};var o=function(e){for(var t={},i=0;i&lt;e.length;i++){var n=e[i];void 0===t[n.type]&amp;&amp;(t[n.type]=[]),t[n.type].push(n)}return t}(r);for(var s in o){var a=o[s];M(a),t[s]=function(e,t,i){for(var n={},r={array:[],stride:0},o={array:[],stride:0},s={array:[],stride:0},a={array:[],stride:0},c={array:[],stride:0},l={array:[],stride:4},h={array:[],stride:4},u=new THREE.BufferGeometry,d=[],p=0,f=0;f&lt;e.length;f++){var m=e[f],v=m.inputs,g=0;switch(m.type){case&quot;lines&quot;:case&quot;linestrips&quot;:g=2*m.count;break;case&quot;triangles&quot;:g=3*m.count;break;case&quot;polylist&quot;:for(var y=0;y&lt;m.count;y++){var E=m.vcount[y];switch(E){case 3:g+=3;break;case 4:g+=6;break;default:g+=3*(E-2)}}break;default:console.warn(&quot;THREE.ColladaLoader: Unknow primitive type:&quot;,m.type)}u.addGroup(p,g,f),p+=g,m.material&amp;&amp;d.push(m.material);for(var b in v){var T=v[b];switch(b){case&quot;VERTEX&quot;:for(var w in i){var x=i[w];switch(w){case&quot;POSITION&quot;:var k=r.array.length;if(H(m,t[x],T.offset,r.array),r.stride=t[x].stride,t.skinWeights&amp;&amp;t.skinIndices&amp;&amp;(H(m,t.skinIndices,T.offset,l.array),H(m,t.skinWeights,T.offset,h.array)),!1===m.hasUV&amp;&amp;!0===e.uvsNeedsFix)for(var g=(r.array.length-k)/r.stride,R=0;R&lt;g;R++)s.array.push(0,0);break;case&quot;NORMAL&quot;:H(m,t[x],T.offset,o.array),o.stride=t[x].stride;break;case&quot;COLOR&quot;:H(m,t[x],T.offset,c.array),c.stride=t[x].stride;break;case&quot;TEXCOORD&quot;:H(m,t[x],T.offset,s.array),s.stride=t[x].stride;break;case&quot;TEXCOORD1&quot;:H(m,t[x],T.offset,a.array),s.stride=t[x].stride;break;default:console.warn(&#39;THREE.ColladaLoader: Semantic &quot;%s&quot; not handled in geometry build process.&#39;,w)}}break;case&quot;NORMAL&quot;:H(m,t[T.id],T.offset,o.array),o.stride=t[T.id].stride;break;case&quot;COLOR&quot;:H(m,t[T.id],T.offset,c.array),c.stride=t[T.id].stride;break;case&quot;TEXCOORD&quot;:H(m,t[T.id],T.offset,s.array),s.stride=t[T.id].stride;break;case&quot;TEXCOORD1&quot;:H(m,t[T.id],T.offset,a.array),a.stride=t[T.id].stride}}}r.array.length&gt;0&amp;&amp;u.addAttribute(&quot;position&quot;,new THREE.Float32BufferAttribute(r.array,r.stride));o.array.length&gt;0&amp;&amp;u.addAttribute(&quot;normal&quot;,new THREE.Float32BufferAttribute(o.array,o.stride));c.array.length&gt;0&amp;&amp;u.addAttribute(&quot;color&quot;,new THREE.Float32BufferAttribute(c.array,c.stride));s.array.length&gt;0&amp;&amp;u.addAttribute(&quot;uv&quot;,new THREE.Float32BufferAttribute(s.array,s.stride));a.array.length&gt;0&amp;&amp;u.addAttribute(&quot;uv2&quot;,new THREE.Float32BufferAttribute(a.array,a.stride));l.array.length&gt;0&amp;&amp;u.addAttribute(&quot;skinIndex&quot;,new THREE.Float32BufferAttribute(l.array,l.stride));h.array.length&gt;0&amp;&amp;u.addAttribute(&quot;skinWeight&quot;,new THREE.Float32BufferAttribute(h.array,h.stride));return n.data=u,n.type=e[0].type,n.materialKeys=d,n}(a,i,n)}return t}function H(e,t,i,n){function r(e){for(var t=o[e+i]*l,r=t+l;t&lt;r;t++)n.push(c[t])}var o=e.p,s=e.stride,a=e.vcount,c=t.array,l=t.stride;if(void 0!==e.vcount)for(var h=0,u=0,d=a.length;u&lt;d;u++){var p=a[u];if(4===p){var f=h+1*s,m=h+2*s,v=h+3*s;r(E=h+0*s),r(f),r(v),r(f),r(m),r(v)}else if(3===p){var f=h+1*s,m=h+2*s;r(E=h+0*s),r(f),r(m)}else if(p&gt;4)for(var g=1,y=p-2;g&lt;=y;g++){var E=h+0*s,f=h+s*g,m=h+s*(g+1);r(E),r(f),r(m)}h+=s*p}else for(var u=0,d=o.length;u&lt;d;u+=s)r(u)}function L(e){return u(ce.geometries[e],S)}function D(e){return void 0!==e.build?e.build:e}function O(e){for(var t={sid:e.getAttribute(&quot;sid&quot;),name:e.getAttribute(&quot;name&quot;)||&quot;&quot;,attachments:[],transforms:[]},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;attachment_full&quot;:t.attachments.push(function(e){for(var t={joint:e.getAttribute(&quot;joint&quot;).split(&quot;/&quot;).pop(),transforms:[],links:[]},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;link&quot;:t.links.push(O(n));break;case&quot;matrix&quot;:case&quot;translate&quot;:case&quot;rotate&quot;:t.transforms.push(_(n))}}return t}(n));break;case&quot;matrix&quot;:case&quot;translate&quot;:case&quot;rotate&quot;:t.transforms.push(_(n))}}return t}function _(e){var t={type:e.nodeName},i=r(e.textContent);switch(t.type){case&quot;matrix&quot;:t.obj=new THREE.Matrix4,t.obj.fromArray(i).transpose();break;case&quot;translate&quot;:t.obj=new THREE.Vector3,t.obj.fromArray(i);break;case&quot;rotate&quot;:t.obj=new THREE.Vector3,t.obj.fromArray(i),t.angle=THREE.Math.degToRad(i[3])}return t}function I(e){return void 0!==e.build?e.build:e}function P(e){for(var t={name:e.getAttribute(&quot;name&quot;)||&quot;&quot;,type:e.getAttribute(&quot;type&quot;),id:e.getAttribute(&quot;id&quot;),sid:e.getAttribute(&quot;sid&quot;),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;node&quot;:t.nodes.push(n.getAttribute(&quot;id&quot;)),P(n);break;case&quot;instance_camera&quot;:t.instanceCameras.push(s(n.getAttribute(&quot;url&quot;)));break;case&quot;instance_controller&quot;:t.instanceControllers.push(j(n));break;case&quot;instance_light&quot;:t.instanceLights.push(s(n.getAttribute(&quot;url&quot;)));break;case&quot;instance_geometry&quot;:t.instanceGeometries.push(j(n));break;case&quot;instance_node&quot;:t.instanceNodes.push(s(n.getAttribute(&quot;url&quot;)));break;case&quot;matrix&quot;:o=r(n.textContent);t.matrix.multiply(Y.fromArray(o).transpose()),t.transforms[n.getAttribute(&quot;sid&quot;)]=n.nodeName;break;case&quot;translate&quot;:o=r(n.textContent);Q.fromArray(o),t.matrix.multiply(Y.makeTranslation(Q.x,Q.y,Q.z)),t.transforms[n.getAttribute(&quot;sid&quot;)]=n.nodeName;break;case&quot;rotate&quot;:var o=r(n.textContent),a=THREE.Math.degToRad(o[3]);t.matrix.multiply(Y.makeRotationAxis(Q.fromArray(o),a)),t.transforms[n.getAttribute(&quot;sid&quot;)]=n.nodeName;break;case&quot;scale&quot;:o=r(n.textContent);t.matrix.scale(Q.fromArray(o)),t.transforms[n.getAttribute(&quot;sid&quot;)]=n.nodeName;break;case&quot;extra&quot;:break;default:console.log(n)}}return K(t.id)?console.warn(&quot;THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.&quot;,t.id):ce.nodes[t.id]=t,t}function j(e){for(var t={id:s(e.getAttribute(&quot;url&quot;)),materials:{},skeletons:[]},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];switch(n.nodeName){case&quot;bind_material&quot;:for(var r=n.getElementsByTagName(&quot;instance_material&quot;),o=0;o&lt;r.length;o++){var a=r[o],c=a.getAttribute(&quot;symbol&quot;),l=a.getAttribute(&quot;target&quot;);t.materials[c]=s(l)}break;case&quot;skeleton&quot;:t.skeletons.push(s(n.textContent))}}return t}function F(e,t){var i,n,r=[],o=[];for(i=0;i&lt;e.length;i++){var s=e[i];if(K(s))z(U(s),t,r);else if(function(e){return void 0!==ce.visualScenes[e]}(s))for(var a=ce.visualScenes[s].children,c=0;c&lt;a.length;c++){var l=a[c];if(&quot;JOINT&quot;===l.type){z(U(l.id),t,r)}}else console.error(&quot;THREE.ColladaLoader: Unable to find root bone of skeleton with ID:&quot;,s)}for(i=0;i&lt;t.length;i++)for(c=0;c&lt;r.length;c++)if((n=r[c]).bone.name===t[i].name){o[i]=n,n.processed=!0;break}for(i=0;i&lt;r.length;i++)!1===(n=r[i]).processed&amp;&amp;(o.push(n),n.processed=!0);var h=[],u=[];for(i=0;i&lt;o.length;i++)n=o[i],h.push(n.bone),u.push(n.boneInverse);return new THREE.Skeleton(h,u)}function z(e,t,i){e.traverse(function(e){if(!0===e.isBone){for(var n,r=0;r&lt;t.length;r++){var o=t[r];if(o.name===e.name){n=o.boneInverse;break}}void 0===n&amp;&amp;(n=new THREE.Matrix4),i.push({bone:e,boneInverse:n,processed:!1})}})}function V(e){for(var t=[],i=e.matrix,n=e.nodes,r=e.type,o=e.instanceCameras,s=e.instanceControllers,a=e.instanceLights,c=e.instanceGeometries,l=e.instanceNodes,h=0,u=n.length;h&lt;u;h++)t.push(U(n[h]));for(var h=0,u=o.length;h&lt;u;h++){var d=R(o[h]);null!==d&amp;&amp;t.push(d.clone())}for(var h=0,u=s.length;h&lt;u;h++)for(var p=g((b=s[h]).id),f=G(T=L(p.id),b.materials),m=F(b.skeletons,p.skin.joints),v=0,y=f.length;v&lt;y;v++){(w=f[v]).isSkinnedMesh&amp;&amp;(w.bind(m,p.skin.bindMatrix),w.normalizeSkinWeights()),t.push(w)}for(var h=0,u=a.length;h&lt;u;h++){var E=C(a[h]);null!==E&amp;&amp;t.push(E.clone())}for(var h=0,u=c.length;h&lt;u;h++)for(var b=c[h],T=L(b.id),v=0,y=(f=G(T,b.materials)).length;v&lt;y;v++)t.push(f[v]);for(var h=0,u=l.length;h&lt;u;h++)t.push(U(l[h]).clone());var w;if(0===n.length&amp;&amp;1===t.length)w=t[0];else{w=&quot;JOINT&quot;===r?new THREE.Bone:new THREE.Group;for(h=0;h&lt;t.length;h++)w.add(t[h])}return&quot;&quot;===w.name&amp;&amp;(w.name=&quot;JOINT&quot;===r?e.sid:e.name),w.matrix.copy(i),w.matrix.decompose(w.position,w.quaternion,w.scale),w}function B(e,t){for(var i=[],n=0,r=e.length;n&lt;r;n++){var o=t[e[n]];void 0===o?(console.warn(&quot;THREE.ColladaLoader: Material with key %s not found. Apply fallback material.&quot;,e[n]),i.push($)):i.push(x(o))}return i}function G(e,t){var i=[];for(var n in e){var r=e[n],o=B(r.materialKeys,t);0===o.length&amp;&amp;(&quot;lines&quot;===n||&quot;linestrips&quot;===n?o.push(new THREE.LineBasicMaterial):o.push(new THREE.MeshPhongMaterial));var s=void 0!==r.data.attributes.skinIndex;if(s)for(var a=0,c=o.length;a&lt;c;a++)o[a].skinning=!0;var l,h=1===o.length?o[0]:o;switch(n){case&quot;lines&quot;:l=new THREE.LineSegments(r.data,h);break;case&quot;linestrips&quot;:l=new THREE.Line(r.data,h);break;case&quot;triangles&quot;:case&quot;polylist&quot;:l=s?new THREE.SkinnedMesh(r.data,h):new THREE.Mesh(r.data,h)}i.push(l)}return i}function K(e){return void 0!==ce.nodes[e]}function U(e){return u(ce.nodes[e],V)}function q(e){var t=new THREE.Group;t.name=e.name;for(var i=e.children,n=0;n&lt;i.length;n++){var r=i[n];t.add(U(r.id))}return t}function W(e){return u(ce.visualScenes[e],q)}var X=new THREE.Vector3,Z=new THREE.Vector3,J=new THREE.Quaternion,Y=new THREE.Matrix4,Q=new THREE.Vector3,$=new THREE.MeshBasicMaterial({color:16711935});if(0===e.length)return{scene:new THREE.Scene};var ee=i((new DOMParser).parseFromString(e,&quot;application/xml&quot;),&quot;COLLADA&quot;)[0],te=ee.getAttribute(&quot;version&quot;);console.log(&quot;THREE.ColladaLoader: File version&quot;,te);var ie=function(e){return{unit:function(e){return void 0!==e&amp;&amp;!0===e.hasAttribute(&quot;meter&quot;)?parseFloat(e.getAttribute(&quot;meter&quot;)):1}(i(e,&quot;unit&quot;)[0]),upAxis:function(e){return void 0!==e?e.textContent:&quot;Y_UP&quot;}(i(e,&quot;up_axis&quot;)[0])}}(i(ee,&quot;asset&quot;)[0]),ne=new THREE.TextureLoader(this.manager);ne.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);var re;THREE.TGALoader&amp;&amp;(re=new THREE.TGALoader(this.manager)).setPath(this.resourcePath||t);var oe=[],se={},ae=0,ce={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};l(ee,&quot;library_animations&quot;,&quot;animation&quot;,function(e){for(var t={sources:{},samplers:{},channels:{}},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType){var o;switch(r.nodeName){case&quot;source&quot;:o=r.getAttribute(&quot;id&quot;),t.sources[o]=N(r);break;case&quot;sampler&quot;:o=r.getAttribute(&quot;id&quot;),t.samplers[o]=function(e){for(var t={inputs:{}},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;input&quot;:var o=s(r.getAttribute(&quot;source&quot;)),a=r.getAttribute(&quot;semantic&quot;);t.inputs[a]=o}}return t}(r);break;case&quot;channel&quot;:o=r.getAttribute(&quot;target&quot;),t.channels[o]=function(e){var t={},i=e.getAttribute(&quot;target&quot;).split(&quot;/&quot;),n=i.shift(),r=i.shift(),o=-1!==r.indexOf(&quot;(&quot;),a=-1!==r.indexOf(&quot;.&quot;);if(a)i=r.split(&quot;.&quot;),r=i.shift(),t.member=i.shift();else if(o){var c=r.split(&quot;(&quot;);r=c.shift();for(var l=0;l&lt;c.length;l++)c[l]=parseInt(c[l].replace(/\)/,&quot;&quot;));t.indices=c}return t.id=n,t.sid=r,t.arraySyntax=o,t.memberSyntax=a,t.sampler=s(e.getAttribute(&quot;source&quot;)),t}(r);break;default:console.log(r)}}}ce.animations[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_animation_clips&quot;,&quot;animation_clip&quot;,function(e){for(var t={name:e.getAttribute(&quot;id&quot;)||&quot;default&quot;,start:parseFloat(e.getAttribute(&quot;start&quot;)||0),end:parseFloat(e.getAttribute(&quot;end&quot;)||0),animations:[]},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;instance_animation&quot;:t.animations.push(s(r.getAttribute(&quot;url&quot;)))}}ce.clips[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_controllers&quot;,&quot;controller&quot;,function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var a=e.childNodes[i];if(1===a.nodeType)switch(a.nodeName){case&quot;skin&quot;:t.id=s(a.getAttribute(&quot;source&quot;)),t.skin=function(e){for(var t={sources:{}},i=0,n=e.childNodes.length;i&lt;n;i++){var a=e.childNodes[i];if(1===a.nodeType)switch(a.nodeName){case&quot;bind_shape_matrix&quot;:t.bindShapeMatrix=r(a.textContent);break;case&quot;source&quot;:var c=a.getAttribute(&quot;id&quot;);t.sources[c]=N(a);break;case&quot;joints&quot;:t.joints=function(e){for(var t={inputs:{}},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;input&quot;:var o=r.getAttribute(&quot;semantic&quot;),a=s(r.getAttribute(&quot;source&quot;));t.inputs[o]=a}}return t}(a);break;case&quot;vertex_weights&quot;:t.vertexWeights=function(e){for(var t={inputs:{}},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;input&quot;:var a=r.getAttribute(&quot;semantic&quot;),c=s(r.getAttribute(&quot;source&quot;)),l=parseInt(r.getAttribute(&quot;offset&quot;));t.inputs[a]={id:c,offset:l};break;case&quot;vcount&quot;:t.vcount=o(r.textContent);break;case&quot;v&quot;:t.v=o(r.textContent)}}return t}(a)}}return t}(a);break;case&quot;morph&quot;:t.id=s(a.getAttribute(&quot;source&quot;)),console.warn(&quot;THREE.ColladaLoader: Morph target animation not supported yet.&quot;)}}ce.controllers[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_images&quot;,&quot;image&quot;,function(e){var t={init_from:i(e,&quot;init_from&quot;)[0].textContent};ce.images[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_effects&quot;,&quot;effect&quot;,function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;profile_COMMON&quot;:t.profile=function(e){for(var t={surfaces:{},samplers:{}},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;newparam&quot;:!function(e,t){for(var i=e.getAttribute(&quot;sid&quot;),n=0,r=e.childNodes.length;n&lt;r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case&quot;surface&quot;:t.surfaces[i]=function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;init_from&quot;:t.init_from=r.textContent}}return t}(o);break;case&quot;sampler2D&quot;:t.samplers[i]=function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;source&quot;:t.source=r.textContent}}return t}(o)}}}(r,t);break;case&quot;technique&quot;:t.technique=function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;constant&quot;:case&quot;lambert&quot;:case&quot;blinn&quot;:case&quot;phong&quot;:t.type=r.nodeName,t.parameters=function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;emission&quot;:case&quot;diffuse&quot;:case&quot;specular&quot;:case&quot;bump&quot;:case&quot;ambient&quot;:case&quot;shininess&quot;:case&quot;transparency&quot;:t[r.nodeName]=b(r);break;case&quot;transparent&quot;:t[r.nodeName]={opaque:r.getAttribute(&quot;opaque&quot;),data:b(r)}}}return t}(r)}}return t}(r);break;case&quot;extra&quot;:t.extra=function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;technique&quot;:t.technique=function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;double_sided&quot;:t[r.nodeName]=parseInt(r.textContent)}}return t}(r)}}return t}(r)}}return t}(r)}}ce.effects[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_materials&quot;,&quot;material&quot;,function(e){for(var t={name:e.getAttribute(&quot;name&quot;)},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;instance_effect&quot;:t.url=s(r.getAttribute(&quot;url&quot;))}}ce.materials[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_cameras&quot;,&quot;camera&quot;,function(e){for(var t={name:e.getAttribute(&quot;name&quot;)},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;optics&quot;:t.optics=function(e){for(var t=0;t&lt;e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case&quot;technique_common&quot;:return function(e){for(var t={},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];switch(n.nodeName){case&quot;perspective&quot;:case&quot;orthographic&quot;:t.technique=n.nodeName,t.parameters=function(e){for(var t={},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];switch(n.nodeName){case&quot;xfov&quot;:case&quot;yfov&quot;:case&quot;xmag&quot;:case&quot;ymag&quot;:case&quot;znear&quot;:case&quot;zfar&quot;:case&quot;aspect_ratio&quot;:t[n.nodeName]=parseFloat(n.textContent)}}return t}(n)}}return t}(i)}}return{}}(r)}}ce.cameras[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_lights&quot;,&quot;light&quot;,function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var o=e.childNodes[i];if(1===o.nodeType)switch(o.nodeName){case&quot;technique_common&quot;:t=function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var o=e.childNodes[i];if(1===o.nodeType)switch(o.nodeName){case&quot;directional&quot;:case&quot;point&quot;:case&quot;spot&quot;:case&quot;ambient&quot;:t.technique=o.nodeName,t.parameters=function(e){for(var t={},i=0,n=e.childNodes.length;i&lt;n;i++){var o=e.childNodes[i];if(1===o.nodeType)switch(o.nodeName){case&quot;color&quot;:var s=r(o.textContent);t.color=(new THREE.Color).fromArray(s);break;case&quot;falloff_angle&quot;:t.falloffAngle=parseFloat(o.textContent);break;case&quot;quadratic_attenuation&quot;:var a=parseFloat(o.textContent);t.distance=a?Math.sqrt(1/a):0}}return t}(o)}}return t}(o)}}ce.lights[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_geometries&quot;,&quot;geometry&quot;,function(e){var t={name:e.getAttribute(&quot;name&quot;),sources:{},vertices:{},primitives:[]},n=i(e,&quot;mesh&quot;)[0];if(void 0!==n){for(var r=0;r&lt;n.childNodes.length;r++){var a=n.childNodes[r];if(1===a.nodeType){var c=a.getAttribute(&quot;id&quot;);switch(a.nodeName){case&quot;source&quot;:t.sources[c]=N(a);break;case&quot;vertices&quot;:t.vertices=function(e){for(var t={},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];1===n.nodeType&amp;&amp;(t[n.getAttribute(&quot;semantic&quot;)]=s(n.getAttribute(&quot;source&quot;)))}return t}(a);break;case&quot;polygons&quot;:console.warn(&quot;THREE.ColladaLoader: Unsupported primitive type: &quot;,a.nodeName);break;case&quot;lines&quot;:case&quot;linestrips&quot;:case&quot;polylist&quot;:case&quot;triangles&quot;:t.primitives.push(function(e){for(var t={type:e.nodeName,material:e.getAttribute(&quot;material&quot;),count:parseInt(e.getAttribute(&quot;count&quot;)),inputs:{},stride:0,hasUV:!1},i=0,n=e.childNodes.length;i&lt;n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case&quot;input&quot;:var a=s(r.getAttribute(&quot;source&quot;)),c=r.getAttribute(&quot;semantic&quot;),l=parseInt(r.getAttribute(&quot;offset&quot;)),h=parseInt(r.getAttribute(&quot;set&quot;)),u=h&gt;0?c+h:c;t.inputs[u]={id:a,offset:l},t.stride=Math.max(t.stride,l+1),&quot;TEXCOORD&quot;===c&amp;&amp;(t.hasUV=!0);break;case&quot;vcount&quot;:t.vcount=o(r.textContent);break;case&quot;p&quot;:t.p=o(r.textContent)}}return t}(a));break;default:console.log(a)}}}ce.geometries[e.getAttribute(&quot;id&quot;)]=t}}),l(ee,&quot;library_nodes&quot;,&quot;node&quot;,P),l(ee,&quot;library_visual_scenes&quot;,&quot;visual_scene&quot;,function(e){var t={name:e.getAttribute(&quot;name&quot;),children:[]};!function(e){for(var t=e.getElementsByTagName(&quot;node&quot;),i=0;i&lt;t.length;i++){var n=t[i];!1===n.hasAttribute(&quot;id&quot;)&amp;&amp;n.setAttribute(&quot;id&quot;,a())}}(e);for(var n=i(e,&quot;node&quot;),r=0;r&lt;n.length;r++)t.children.push(P(n[r]));ce.visualScenes[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_kinematics_models&quot;,&quot;kinematics_model&quot;,function(e){for(var t={name:e.getAttribute(&quot;name&quot;)||&quot;&quot;,joints:{},links:[]},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;technique_common&quot;:!function(e,t){for(var i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;joint&quot;:t.joints[n.getAttribute(&quot;sid&quot;)]=function(e){for(var t,i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;prismatic&quot;:case&quot;revolute&quot;:t=function(e,t){for(var t={sid:e.getAttribute(&quot;sid&quot;),name:e.getAttribute(&quot;name&quot;)||&quot;&quot;,axis:new THREE.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;axis&quot;:var o=r(n.textContent);t.axis.fromArray(o);break;case&quot;limits&quot;:var s=n.getElementsByTagName(&quot;max&quot;)[0],a=n.getElementsByTagName(&quot;min&quot;)[0];t.limits.max=parseFloat(s.textContent),t.limits.min=parseFloat(a.textContent)}}return t.limits.min&gt;=t.limits.max&amp;&amp;(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}(n)}}return t}(n);break;case&quot;link&quot;:t.links.push(O(n))}}}(n,t)}}ce.kinematicsModels[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;library_physics_models&quot;,&quot;physics_model&quot;,function(e){for(var t={name:e.getAttribute(&quot;name&quot;)||&quot;&quot;,rigidBodies:{}},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;rigid_body&quot;:t.rigidBodies[n.getAttribute(&quot;name&quot;)]={},function(e,t){for(var i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;technique_common&quot;:!function(e,t){for(var i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;inertia&quot;:t.inertia=r(n.textContent);break;case&quot;mass&quot;:t.mass=r(n.textContent)[0]}}}(n,t)}}}(n,t.rigidBodies[n.getAttribute(&quot;name&quot;)])}}ce.physicsModels[e.getAttribute(&quot;id&quot;)]=t}),l(ee,&quot;scene&quot;,&quot;instance_kinematics_scene&quot;,function(e){for(var t={bindJointAxis:[]},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;bind_joint_axis&quot;:t.bindJointAxis.push(function(e){for(var t={target:e.getAttribute(&quot;target&quot;).split(&quot;/&quot;).pop()},i=0;i&lt;e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case&quot;axis&quot;:var r=n.getElementsByTagName(&quot;param&quot;)[0];t.axis=r.textContent;var o=t.axis.split(&quot;inst_&quot;).pop().split(&quot;axis&quot;)[0];t.jointIndex=o.substr(0,o.length-1)}}return t}(n))}}ce.kinematicsScenes[s(e.getAttribute(&quot;url&quot;))]=t}),h(ce.animations,d),h(ce.clips,f),h(ce.controllers,v),h(ce.images,y),h(ce.effects,T),h(ce.materials,w),h(ce.cameras,k),h(ce.lights,A),h(ce.geometries,S),h(ce.visualScenes,q),function(){var e=ce.clips;if(!0===c(e)){if(!1===c(ce.animations)){var t=[];for(var i in ce.animations)for(var n=p(i),r=0,o=n.length;r&lt;o;r++)t.push(n[r]);oe.push(new THREE.AnimationClip(&quot;default&quot;,-1,t))}}else for(var i in e)oe.push(m(i))}(),function(){function e(e,t){var i=t.getAttribute(&quot;name&quot;),n=o.joints[e];a.traverse(function(o){o.name===i&amp;&amp;(l[e]={object:o,transforms:function(e){for(var t=[],i=ee.querySelector(&#39;[id=&quot;&#39;+e.id+&#39;&quot;]&#39;),n=0;n&lt;i.childNodes.length;n++){var o=i.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case&quot;matrix&quot;:var s=r(o.textContent),a=(new THREE.Matrix4).fromArray(s).transpose();t.push({sid:o.getAttribute(&quot;sid&quot;),type:o.nodeName,obj:a});break;case&quot;translate&quot;:case&quot;scale&quot;:var s=r(o.textContent),c=(new THREE.Vector3).fromArray(s);t.push({sid:o.getAttribute(&quot;sid&quot;),type:o.nodeName,obj:c});break;case&quot;rotate&quot;:var s=r(o.textContent),c=(new THREE.Vector3).fromArray(s),l=THREE.Math.degToRad(s[3]);t.push({sid:o.getAttribute(&quot;sid&quot;),type:o.nodeName,obj:c,angle:l})}}return t}(t),joint:n,position:n.zeroPosition})})}var t=Object.keys(ce.kinematicsModels)[0],i=Object.keys(ce.kinematicsScenes)[0],n=Object.keys(ce.visualScenes)[0];if(void 0!==t&amp;&amp;void 0!==i){for(var o=function(e){return u(ce.kinematicsModels[e],D)}(t),s=function(e){return u(ce.kinematicsScenes[e],I)}(i),a=W(n),c=s.bindJointAxis,l={},h=0,d=c.length;h&lt;d;h++){var p=c[h],f=ee.querySelector(&#39;[sid=&quot;&#39;+p.target+&#39;&quot;]&#39;);if(f){var m=f.parentElement;e(p.jointIndex,m)}}var v=new THREE.Matrix4;se={joints:o&amp;&amp;o.joints,getJointValue:function(e){var t=l[e];if(t)return t.position;console.warn(&quot;THREE.ColladaLoader: Joint &quot;+e+&quot; doesn&#39;t exist.&quot;)},setJointValue:function(e,t){var i=l[e];if(i){var n=i.joint;if(t&gt;n.limits.max||t&lt;n.limits.min)console.warn(&quot;THREE.ColladaLoader: Joint &quot;+e+&quot; value &quot;+t+&quot; outside of limits (min: &quot;+n.limits.min+&quot;, max: &quot;+n.limits.max+&quot;).&quot;);else if(n.static)console.warn(&quot;THREE.ColladaLoader: Joint &quot;+e+&quot; is static.&quot;);else{var r=i.object,o=n.axis,s=i.transforms;Y.identity();for(var a=0;a&lt;s.length;a++){var c=s[a];if(c.sid&amp;&amp;-1!==c.sid.indexOf(e))switch(n.type){case&quot;revolute&quot;:Y.multiply(v.makeRotationAxis(o,THREE.Math.degToRad(t)));break;case&quot;prismatic&quot;:Y.multiply(v.makeTranslation(o.x*t,o.y*t,o.z*t));break;default:console.warn(&quot;THREE.ColladaLoader: Unknown joint type: &quot;+n.type)}else switch(c.type){case&quot;matrix&quot;:Y.multiply(c.obj);break;case&quot;translate&quot;:Y.multiply(v.makeTranslation(c.obj.x,c.obj.y,c.obj.z));break;case&quot;scale&quot;:Y.scale(c.obj);break;case&quot;rotate&quot;:Y.multiply(v.makeRotationAxis(c.obj,c.angle))}}r.matrix.copy(Y),r.matrix.decompose(r.position,r.quaternion,r.scale),l[e].position=t}}else console.log(&quot;THREE.ColladaLoader: &quot;+e+&quot; does not exist.&quot;)}}}}();var le=function(e){return W(s(i(e,&quot;instance_visual_scene&quot;)[0].getAttribute(&quot;url&quot;)))}(i(ee,&quot;scene&quot;)[0]);return&quot;Z_UP&quot;===ie.upAxis&amp;&amp;le.quaternion.setFromEuler(new THREE.Euler(-Math.PI/2,0,0)),le.scale.multiplyScalar(ie.unit),{animations:oe,kinematics:se,library:ce,scene:le}}}},{}],4:[function(e,t,i){&quot;use strict&quot;;var n=&quot;function&quot;==typeof Symbol&amp;&amp;&quot;symbol&quot;==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;&quot;function&quot;==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?&quot;symbol&quot;:typeof e},r=&quot;function&quot;==typeof Symbol&amp;&amp;&quot;symbol&quot;===n(Symbol.iterator)?function(e){return void 0===e?&quot;undefined&quot;:n(e)}:function(e){return e&amp;&amp;&quot;function&quot;==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?&quot;symbol&quot;:void 0===e?&quot;undefined&quot;:n(e)};t.exports=THREE.FBXLoader=function(){function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager}function t(e){this.textureLoader=e}function i(){}function n(){}function o(){}function s(){}function a(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function c(){}function l(e){var t=e.match(/FBXVersion: (\d+)/);if(t){return parseInt(t[1])}throw new Error(&quot;THREE.FBXLoader: Cannot find the version number for the file given.&quot;)}function h(e){return e/46186158e3}function u(e,t,i,n){var r;switch(n.mappingType){case&quot;ByPolygonVertex&quot;:r=e;break;case&quot;ByPolygon&quot;:r=t;break;case&quot;ByVertice&quot;:r=i;break;case&quot;AllSame&quot;:r=n.indices[0];break;default:console.warn(&quot;THREE.FBXLoader: unknown attribute mapping type &quot;+n.mappingType)}&quot;IndexToDirect&quot;===n.referenceType&amp;&amp;(r=n.indices[r]);var o=r*n.dataSize,s=o+n.dataSize;return function(e,t,i,n){for(var r=i,o=0;r&lt;n;r++,o++)e[o]=t[r];return e}(b,n.buffer,o,s)}function d(e){var t=new THREE.Matrix4;k.set(0,0,0),R.identity();var i=p(e.eulerOrder?e.eulerOrder:0);if(e.translation&amp;&amp;k.fromArray(e.translation),e.rotationOffset&amp;&amp;k.add(x.fromArray(e.rotationOffset)),e.rotation){(n=e.rotation.map(THREE.Math.degToRad)).push(i),R.makeRotationFromEuler(w.fromArray(n))}if(e.preRotation){(n=e.preRotation.map(THREE.Math.degToRad)).push(i),T.makeRotationFromEuler(w.fromArray(n)),R.premultiply(T)}if(e.postRotation){var n=e.postRotation.map(THREE.Math.degToRad);n.push(i),T.makeRotationFromEuler(w.fromArray(n)),T.getInverse(T),R.multiply(T)}return e.scale&amp;&amp;t.scale(x.fromArray(e.scale)),t.setPosition(k),t.multiply(R),t}function p(e){var t=[&quot;ZYX&quot;,&quot;YZX&quot;,&quot;XZY&quot;,&quot;ZXY&quot;,&quot;YXZ&quot;,&quot;XYZ&quot;];return 6===e?(console.warn(&quot;THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.&quot;),t[0]):t[e]}function f(e){return e.split(&quot;,&quot;).map(function(e){return parseFloat(e)})}function m(e,t,i){return void 0===t&amp;&amp;(t=0),void 0===i&amp;&amp;(i=e.byteLength),THREE.LoaderUtils.decodeText(new Uint8Array(e,t,i))}function v(e,t,i){return e.slice(0,t).concat(i).concat(e.slice(t))}var g,y,E;e.prototype={constructor:e,crossOrigin:&quot;anonymous&quot;,load:function(e,t,i,n){var r=this,o=THREE.LoaderUtils.extractUrlBase(e),s=new THREE.FileLoader(this.manager);s.setResponseType(&quot;arraybuffer&quot;),s.load(e,function(i){try{var s=r.parse(i,o);t(s)}catch(t){setTimeout(function(){n&amp;&amp;n(t),r.manager.itemError(e)},0)}},i,n)},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,i){if(function(e){var t=&quot;Kaydara FBX Binary  \0&quot;;return e.byteLength&gt;=t.length&amp;&amp;t===m(e,0,t.length)}(e))g=(new s).parse(e);else{var n=m(e);if(!function(e){function t(t){var i=e[t-1];return e=e.slice(n+t),n++,i}for(var i=[&quot;K&quot;,&quot;a&quot;,&quot;y&quot;,&quot;d&quot;,&quot;a&quot;,&quot;r&quot;,&quot;a&quot;,&quot;\\&quot;,&quot;F&quot;,&quot;B&quot;,&quot;X&quot;,&quot;\\&quot;,&quot;B&quot;,&quot;i&quot;,&quot;n&quot;,&quot;a&quot;,&quot;r&quot;,&quot;y&quot;,&quot;\\&quot;,&quot;\\&quot;],n=0,r=0;r&lt;i.length;++r)if(t(1)===i[r])return!1;return!0}(n))throw new Error(&quot;THREE.FBXLoader: Unknown format.&quot;);if(l(n)&lt;7e3)throw new Error(&quot;THREE.FBXLoader: FBX version not supported, FileVersion: &quot;+l(n));g=(new o).parse(n)}return new t(new THREE.TextureLoader(this.manager).setPath(i).setCrossOrigin(this.crossOrigin)).parse(g)}},t.prototype={constructor:t,parse:function(){y=this.parseConnections();var e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),r=this.parseDeformers(),o=(new i).parse(r);return this.parseScene(r,o,n),E},parseConnections:function(){var e=new Map;if(&quot;Connections&quot;in g){g.Connections.connections.forEach(function(t){var i=t[0],n=t[1],r=t[2];e.has(i)||e.set(i,{parents:[],children:[]});var o={ID:n,relationship:r};e.get(i).parents.push(o),e.has(n)||e.set(n,{parents:[],children:[]});var s={ID:i,relationship:r};e.get(n).children.push(s)})}return e},parseImages:function(){var e={},t={};if(&quot;Video&quot;in g.Objects){var i=g.Objects.Video;for(var n in i){var r=i[n];if(e[c=parseInt(n)]=r.RelativeFilename||r.Filename,&quot;Content&quot;in r){var o=r.Content instanceof ArrayBuffer&amp;&amp;r.Content.byteLength&gt;0,s=&quot;string&quot;==typeof r.Content&amp;&amp;&quot;&quot;!==r.Content;if(o||s){var a=this.parseImage(i[n]);t[r.RelativeFilename||r.Filename]=a}}}}for(var c in e){var l=e[c];void 0!==t[l]?e[c]=t[l]:e[c]=e[c].split(&quot;\\&quot;).pop()}return e},parseImage:function(e){var t,i=e.Content,n=e.RelativeFilename||e.Filename,r=n.slice(n.lastIndexOf(&quot;.&quot;)+1).toLowerCase();switch(r){case&quot;bmp&quot;:t=&quot;image/bmp&quot;;break;case&quot;jpg&quot;:case&quot;jpeg&quot;:t=&quot;image/jpeg&quot;;break;case&quot;png&quot;:t=&quot;image/png&quot;;break;case&quot;tif&quot;:t=&quot;image/tiff&quot;;break;case&quot;tga&quot;:if(&quot;function&quot;!=typeof THREE.TGALoader)return void console.warn(&quot;FBXLoader: THREE.TGALoader is required to load TGA textures&quot;);null===THREE.Loader.Handlers.get(&quot;.tga&quot;)&amp;&amp;THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader),t=&quot;image/tga&quot;;break;default:return void console.warn(&#39;FBXLoader: Image type &quot;&#39;+r+&#39;&quot; is not supported.&#39;)}if(&quot;string&quot;==typeof i)return&quot;data:&quot;+t+&quot;;base64,&quot;+i;var o=new Uint8Array(i);return window.URL.createObjectURL(new Blob([o],{type:t}))},parseTextures:function(e){var t=new Map;if(&quot;Texture&quot;in g.Objects){var i=g.Objects.Texture;for(var n in i){var r=this.parseTexture(i[n],e);t.set(parseInt(n),r)}}return t},parseTexture:function(e,t){var i=this.loadTexture(e,t);i.ID=e.id,i.name=e.attrName;var n=e.WrapModeU,r=e.WrapModeV,o=void 0!==n?n.value:0,s=void 0!==r?r.value:0;if(i.wrapS=0===o?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,i.wrapT=0===s?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,&quot;Scaling&quot;in e){var a=e.Scaling.value;i.repeat.x=a[0],i.repeat.y=a[1]}return i},loadTexture:function(e,t){var i,n=this.textureLoader.path,r=y.get(e.id).children;void 0!==r&amp;&amp;r.length&gt;0&amp;&amp;void 0!==t[r[0].ID]&amp;&amp;(0!==(i=t[r[0].ID]).indexOf(&quot;blob:&quot;)&amp;&amp;0!==i.indexOf(&quot;data:&quot;)||this.textureLoader.setPath(void 0));var o,s=e.FileName.slice(-3).toLowerCase();if(&quot;tga&quot;===s){var a=THREE.Loader.Handlers.get(&quot;.tga&quot;);null===a?(console.warn(&quot;FBXLoader: TGALoader not found, creating empty placeholder texture for&quot;,i),o=new THREE.Texture):o=a.load(i)}else&quot;psd&quot;===s?(console.warn(&quot;FBXLoader: PSD textures are not supported, creating empty placeholder texture for&quot;,i),o=new THREE.Texture):o=this.textureLoader.load(i);return this.textureLoader.setPath(n),o},parseMaterials:function(e){var t=new Map;if(&quot;Material&quot;in g.Objects){var i=g.Objects.Material;for(var n in i){var r=this.parseMaterial(i[n],e);null!==r&amp;&amp;t.set(parseInt(n),r)}}return t},parseMaterial:function(e,t){var i=e.id,n=e.attrName,o=e.ShadingModel;if(&quot;object&quot;===(void 0===o?&quot;undefined&quot;:r(o))&amp;&amp;(o=o.value),!y.has(i))return null;var s,a=this.parseParameters(e,t,i);switch(o.toLowerCase()){case&quot;phong&quot;:s=new THREE.MeshPhongMaterial;break;case&quot;lambert&quot;:s=new THREE.MeshLambertMaterial;break;default:console.warn(&#39;THREE.FBXLoader: unknown material type &quot;%s&quot;. Defaulting to MeshPhongMaterial.&#39;,o),s=new THREE.MeshPhongMaterial({color:3342591})}return s.setValues(a),s.name=n,s},parseParameters:function(e,t,i){var n={};e.BumpFactor&amp;&amp;(n.bumpScale=e.BumpFactor.value),e.Diffuse?n.color=(new THREE.Color).fromArray(e.Diffuse.value):e.DiffuseColor&amp;&amp;&quot;Color&quot;===e.DiffuseColor.type&amp;&amp;(n.color=(new THREE.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&amp;&amp;(n.displacementScale=e.DisplacementFactor.value),e.Emissive?n.emissive=(new THREE.Color).fromArray(e.Emissive.value):e.EmissiveColor&amp;&amp;&quot;Color&quot;===e.EmissiveColor.type&amp;&amp;(n.emissive=(new THREE.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&amp;&amp;(n.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&amp;&amp;(n.opacity=parseFloat(e.Opacity.value)),n.opacity&lt;1&amp;&amp;(n.transparent=!0),e.ReflectionFactor&amp;&amp;(n.reflectivity=e.ReflectionFactor.value),e.Shininess&amp;&amp;(n.shininess=e.Shininess.value),e.Specular?n.specular=(new THREE.Color).fromArray(e.Specular.value):e.SpecularColor&amp;&amp;&quot;Color&quot;===e.SpecularColor.type&amp;&amp;(n.specular=(new THREE.Color).fromArray(e.SpecularColor.value));var r=this;return y.get(i).children.forEach(function(e){var i=e.relationship;switch(i){case&quot;Bump&quot;:n.bumpMap=r.getTexture(t,e.ID);break;case&quot;DiffuseColor&quot;:n.map=r.getTexture(t,e.ID);break;case&quot;DisplacementColor&quot;:n.displacementMap=r.getTexture(t,e.ID);break;case&quot;EmissiveColor&quot;:n.emissiveMap=r.getTexture(t,e.ID);break;case&quot;NormalMap&quot;:n.normalMap=r.getTexture(t,e.ID);break;case&quot;ReflectionColor&quot;:n.envMap=r.getTexture(t,e.ID),n.envMap.mapping=THREE.EquirectangularReflectionMapping;break;case&quot;SpecularColor&quot;:n.specularMap=r.getTexture(t,e.ID);break;case&quot;TransparentColor&quot;:n.alphaMap=r.getTexture(t,e.ID),n.transparent=!0;break;case&quot;AmbientColor&quot;:case&quot;ShininessExponent&quot;:case&quot;SpecularFactor&quot;:case&quot;VectorDisplacementColor&quot;:default:console.warn(&quot;THREE.FBXLoader: %s map is not supported in three.js, skipping texture.&quot;,i)}}),n},getTexture:function(e,t){return&quot;LayeredTexture&quot;in g.Objects&amp;&amp;t in g.Objects.LayeredTexture&amp;&amp;(console.warn(&quot;THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.&quot;),t=y.get(t).children[0].ID),e.get(t)},parseDeformers:function(){var e={},t={};if(&quot;Deformer&quot;in g.Objects){var i=g.Objects.Deformer;for(var n in i){var r=i[n],o=y.get(parseInt(n));if(&quot;Skin&quot;===r.attrType){var s=this.parseSkeleton(o,i);s.ID=n,o.parents.length&gt;1&amp;&amp;console.warn(&quot;THREE.FBXLoader: skeleton attached to more than one geometry is not supported.&quot;),s.geometryID=o.parents[0].ID,e[n]=s}else if(&quot;BlendShape&quot;===r.attrType){var a={id:n};a.rawTargets=this.parseMorphTargets(o,i),a.id=n,o.parents.length&gt;1&amp;&amp;console.warn(&quot;THREE.FBXLoader: morph target attached to more than one geometry is not supported.&quot;),t[n]=a}}}return{skeletons:e,morphTargets:t}},parseSkeleton:function(e,t){var i=[];return e.children.forEach(function(e){var n=t[e.ID];if(&quot;Cluster&quot;===n.attrType){var r={ID:e.ID,indices:[],weights:[],transform:(new THREE.Matrix4).fromArray(n.Transform.a),transformLink:(new THREE.Matrix4).fromArray(n.TransformLink.a),linkMode:n.Mode};&quot;Indexes&quot;in n&amp;&amp;(r.indices=n.Indexes.a,r.weights=n.Weights.a),i.push(r)}}),{rawBones:i,bones:[]}},parseMorphTargets:function(e,t){for(var i=[],n=0;n&lt;e.children.length;n++){if(8===n){console.warn(&quot;FBXLoader: maximum of 8 morph targets supported. Ignoring additional targets.&quot;);break}var r=e.children[n],o=t[r.ID],s={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(&quot;BlendShapeChannel&quot;!==o.attrType)return;y.get(parseInt(r.ID)).children.forEach(function(e){void 0===e.relationship&amp;&amp;(s.geoID=e.ID)}),i.push(s)}return i},parseScene:function(e,t,i){E=new THREE.Group;var r=this.parseModels(e.skeletons,t,i),o=g.Objects.Model,s=this;r.forEach(function(e){var t=o[e.ID];s.setLookAtProperties(e,t);y.get(e.ID).parents.forEach(function(t){var i=r.get(t.ID);void 0!==i&amp;&amp;i.add(e)}),null===e.parent&amp;&amp;E.add(e)}),this.bindSkeleton(e.skeletons,t,r),this.createAmbientLight(),this.setupMorphMaterials();var a=(new n).parse();1===E.children.length&amp;&amp;E.children[0].isGroup&amp;&amp;(E.children[0].animations=a,E=E.children[0]),E.animations=a},parseModels:function(e,t,i){var n=new Map,r=g.Objects.Model;for(var o in r){var s=parseInt(o),a=r[o],c=y.get(s),l=this.buildSkeleton(c,e,s,a.attrName);if(!l){switch(a.attrType){case&quot;Camera&quot;:l=this.createCamera(c);break;case&quot;Light&quot;:l=this.createLight(c);break;case&quot;Mesh&quot;:l=this.createMesh(c,t,i);break;case&quot;NurbsCurve&quot;:l=this.createCurve(c,t);break;case&quot;LimbNode&quot;:case&quot;Null&quot;:default:l=new THREE.Group}l.name=THREE.PropertyBinding.sanitizeNodeName(a.attrName),l.ID=s}this.setModelTransforms(l,a),n.set(s,l)}return n},buildSkeleton:function(e,t,i,n){var r=null;return e.parents.forEach(function(e){for(var o in t){var s=t[o];s.rawBones.forEach(function(t,o){if(t.ID===e.ID){var a=r;(r=new THREE.Bone).matrixWorld.copy(t.transformLink),r.name=THREE.PropertyBinding.sanitizeNodeName(n),r.ID=i,s.bones[o]=r,null!==a&amp;&amp;r.add(a)}})}}),r},createCamera:function(e){var t,i;if(e.children.forEach(function(e){var t=g.Objects.NodeAttribute[e.ID];void 0!==t&amp;&amp;(i=t)}),void 0===i)t=new THREE.Object3D;else{var n=0;void 0!==i.CameraProjectionType&amp;&amp;1===i.CameraProjectionType.value&amp;&amp;(n=1);var r=1;void 0!==i.NearPlane&amp;&amp;(r=i.NearPlane.value/1e3);var o=1e3;void 0!==i.FarPlane&amp;&amp;(o=i.FarPlane.value/1e3);var s=window.innerWidth,a=window.innerHeight;void 0!==i.AspectWidth&amp;&amp;void 0!==i.AspectHeight&amp;&amp;(s=i.AspectWidth.value,a=i.AspectHeight.value);var c=s/a,l=45;void 0!==i.FieldOfView&amp;&amp;(l=i.FieldOfView.value);var h=i.FocalLength?i.FocalLength.value:null;switch(n){case 0:t=new THREE.PerspectiveCamera(l,c,r,o),null!==h&amp;&amp;t.setFocalLength(h);break;case 1:t=new THREE.OrthographicCamera(-s/2,s/2,a/2,-a/2,r,o);break;default:console.warn(&quot;THREE.FBXLoader: Unknown camera type &quot;+n+&quot;.&quot;),t=new THREE.Object3D}}return t},createLight:function(e){var t,i;if(e.children.forEach(function(e){var t=g.Objects.NodeAttribute[e.ID];void 0!==t&amp;&amp;(i=t)}),void 0===i)t=new THREE.Object3D;else{var n;n=void 0===i.LightType?0:i.LightType.value;var r=16777215;void 0!==i.Color&amp;&amp;(r=(new THREE.Color).fromArray(i.Color.value));var o=void 0===i.Intensity?1:i.Intensity.value/100;void 0!==i.CastLightOnObject&amp;&amp;0===i.CastLightOnObject.value&amp;&amp;(o=0);var s=0;void 0!==i.FarAttenuationEnd&amp;&amp;(s=void 0!==i.EnableFarAttenuation&amp;&amp;0===i.EnableFarAttenuation.value?0:i.FarAttenuationEnd.value);switch(n){case 0:t=new THREE.PointLight(r,o,s,1);break;case 1:t=new THREE.DirectionalLight(r,o);break;case 2:var a=Math.PI/3;void 0!==i.InnerAngle&amp;&amp;(a=THREE.Math.degToRad(i.InnerAngle.value));var c=0;void 0!==i.OuterAngle&amp;&amp;(c=THREE.Math.degToRad(i.OuterAngle.value),c=Math.max(c,1)),t=new THREE.SpotLight(r,o,s,a,c,1);break;default:console.warn(&quot;THREE.FBXLoader: Unknown light type &quot;+i.LightType.value+&quot;, defaulting to a THREE.PointLight.&quot;),t=new THREE.PointLight(r,o)}void 0!==i.CastShadows&amp;&amp;1===i.CastShadows.value&amp;&amp;(t.castShadow=!0)}return t},createMesh:function(e,t,i){var n,r=null,o=null,s=[];return e.children.forEach(function(e){t.has(e.ID)&amp;&amp;(r=t.get(e.ID)),i.has(e.ID)&amp;&amp;s.push(i.get(e.ID))}),s.length&gt;1?o=s:s.length&gt;0?o=s[0]:(o=new THREE.MeshPhongMaterial({color:13421772}),s.push(o)),&quot;color&quot;in r.attributes&amp;&amp;s.forEach(function(e){e.vertexColors=THREE.VertexColors}),r.FBX_Deformer?(s.forEach(function(e){e.skinning=!0}),n=new THREE.SkinnedMesh(r,o)):n=new THREE.Mesh(r,o),n},createCurve:function(e,t){var i=e.children.reduce(function(e,i){return t.has(i.ID)&amp;&amp;(e=t.get(i.ID)),e},null),n=new THREE.LineBasicMaterial({color:3342591,linewidth:1});return new THREE.Line(i,n)},setModelTransforms:function(e,t){var i={};&quot;RotationOrder&quot;in t&amp;&amp;(i.eulerOrder=parseInt(t.RotationOrder.value)),&quot;Lcl_Translation&quot;in t&amp;&amp;(i.translation=t.Lcl_Translation.value),&quot;RotationOffset&quot;in t&amp;&amp;(i.rotationOffset=t.RotationOffset.value),&quot;Lcl_Rotation&quot;in t&amp;&amp;(i.rotation=t.Lcl_Rotation.value),&quot;PreRotation&quot;in t&amp;&amp;(i.preRotation=t.PreRotation.value),&quot;PostRotation&quot;in t&amp;&amp;(i.postRotation=t.PostRotation.value),&quot;Lcl_Scaling&quot;in t&amp;&amp;(i.scale=t.Lcl_Scaling.value);var n=d(i);e.applyMatrix(n)},setLookAtProperties:function(e,t){if(&quot;LookAtProperty&quot;in t){y.get(e.ID).children.forEach(function(t){if(&quot;LookAtProperty&quot;===t.relationship){var i=g.Objects.Model[t.ID];if(&quot;Lcl_Translation&quot;in i){var n=i.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(n),E.add(e.target)):e.lookAt((new THREE.Vector3).fromArray(n))}}})}},bindSkeleton:function(e,t,i){var n=this.parsePoseNodes();for(var r in e){var o=e[r];y.get(parseInt(o.ID)).parents.forEach(function(e){if(t.has(e.ID)){var r=e.ID;y.get(r).parents.forEach(function(e){if(i.has(e.ID)){i.get(e.ID).bind(new THREE.Skeleton(o.bones),n[e.ID])}})}})}},parsePoseNodes:function(){var e={};if(&quot;Pose&quot;in g.Objects){var t=g.Objects.Pose;for(var i in t)if(&quot;BindPose&quot;===t[i].attrType){var n=t[i].PoseNode;Array.isArray(n)?n.forEach(function(t){e[t.Node]=(new THREE.Matrix4).fromArray(t.Matrix.a)}):e[n.Node]=(new THREE.Matrix4).fromArray(n.Matrix.a)}}return e},createAmbientLight:function(){if(&quot;GlobalSettings&quot;in g&amp;&amp;&quot;AmbientColor&quot;in g.GlobalSettings){var e=g.GlobalSettings.AmbientColor.value,t=e[0],i=e[1],n=e[2];if(0!==t||0!==i||0!==n){var r=new THREE.Color(t,i,n);E.add(new THREE.AmbientLight(r,1))}}},setupMorphMaterials:function(){E.traverse(function(e){if(e.isMesh&amp;&amp;(e.geometry.morphAttributes.position||e.geometry.morphAttributes.normal)){var t=e.uuid,i=e.material.uuid,n=!1;E.traverse(function(e){e.isMesh&amp;&amp;e.material.uuid===i&amp;&amp;e.uuid!==t&amp;&amp;(n=!0)}),!0===n&amp;&amp;(e.material=e.material.clone()),e.material.morphTargets=!0}})}},i.prototype={constructor:i,parse:function(e){var t=new Map;if(&quot;Geometry&quot;in g.Objects){var i=g.Objects.Geometry;for(var n in i){var r=y.get(parseInt(n)),o=this.parseGeometry(r,i[n],e);t.set(parseInt(n),o)}}return t},parseGeometry:function(e,t,i){switch(t.attrType){case&quot;Mesh&quot;:return this.parseMeshGeometry(e,t,i);case&quot;NurbsCurve&quot;:return this.parseNurbsGeometry(t)}},parseMeshGeometry:function(e,t,i){var n=i.skeletons,r=i.morphTargets,o=e.parents.map(function(e){return g.Objects.Model[e.ID]});if(0!==o.length){var s=e.children.reduce(function(e,t){return void 0!==n[t.ID]&amp;&amp;(e=n[t.ID]),e},null),a=e.children.reduce(function(e,t){return void 0!==r[t.ID]&amp;&amp;(e=r[t.ID]),e},null),c=o[0],l={};&quot;RotationOrder&quot;in c&amp;&amp;(l.eulerOrder=c.RotationOrder.value),&quot;GeometricTranslation&quot;in c&amp;&amp;(l.translation=c.GeometricTranslation.value),&quot;GeometricRotation&quot;in c&amp;&amp;(l.rotation=c.GeometricRotation.value),&quot;GeometricScaling&quot;in c&amp;&amp;(l.scale=c.GeometricScaling.value);var h=d(l);return this.genGeometry(t,s,a,h)}},genGeometry:function(e,t,i,n){var r=new THREE.BufferGeometry;e.attrName&amp;&amp;(r.name=e.attrName);var o=this.parseGeoNode(e,t),s=this.genBuffers(o),a=new THREE.Float32BufferAttribute(s.vertex,3);if(n.applyToBufferAttribute(a),r.addAttribute(&quot;position&quot;,a),s.colors.length&gt;0&amp;&amp;r.addAttribute(&quot;color&quot;,new THREE.Float32BufferAttribute(s.colors,3)),t&amp;&amp;(r.addAttribute(&quot;skinIndex&quot;,new THREE.Uint16BufferAttribute(s.weightsIndices,4)),r.addAttribute(&quot;skinWeight&quot;,new THREE.Float32BufferAttribute(s.vertexWeights,4)),r.FBX_Deformer=t),s.normal.length&gt;0){var c=new THREE.Float32BufferAttribute(s.normal,3);(new THREE.Matrix3).getNormalMatrix(n).applyToBufferAttribute(c),r.addAttribute(&quot;normal&quot;,c)}if(s.uvs.forEach(function(e,t){var i=&quot;uv&quot;+(t+1).toString();0===t&amp;&amp;(i=&quot;uv&quot;),r.addAttribute(i,new THREE.Float32BufferAttribute(s.uvs[t],2))}),o.material&amp;&amp;&quot;AllSame&quot;!==o.material.mappingType){var l=s.materialIndex[0],h=0;if(s.materialIndex.forEach(function(e,t){e!==l&amp;&amp;(r.addGroup(h,t-h,l),l=e,h=t)}),r.groups.length&gt;0){var u=r.groups[r.groups.length-1],d=u.start+u.count;d!==s.materialIndex.length&amp;&amp;r.addGroup(d,s.materialIndex.length-d,l)}0===r.groups.length&amp;&amp;r.addGroup(0,s.materialIndex.length,s.materialIndex[0])}return this.addMorphTargets(r,e,i,n),r},parseGeoNode:function(e,t){var i={};if(i.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],i.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&amp;&amp;(i.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&amp;&amp;(i.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&amp;&amp;(i.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){i.uv=[];for(var n=0;e.LayerElementUV[n];)i.uv.push(this.parseUVs(e.LayerElementUV[n])),n++}return i.weightTable={},null!==t&amp;&amp;(i.skeleton=t,t.rawBones.forEach(function(e,t){e.indices.forEach(function(n,r){void 0===i.weightTable[n]&amp;&amp;(i.weightTable[n]=[]),i.weightTable[n].push({id:t,weight:e.weights[r]})})})),i},genBuffers:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},i=0,n=0,r=!1,o=[],s=[],a=[],c=[],l=[],h=[],d=this;return e.vertexIndices.forEach(function(p,f){var m=!1;p&lt;0&amp;&amp;(p^=-1,m=!0);var v=[],g=[];if(o.push(3*p,3*p+1,3*p+2),e.color){T=u(f,i,p,e.color);a.push(T[0],T[1],T[2])}if(e.skeleton){if(void 0!==e.weightTable[p]&amp;&amp;e.weightTable[p].forEach(function(e){g.push(e.weight),v.push(e.id)}),g.length&gt;4){r||(console.warn(&quot;THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.&quot;),r=!0);var y=[0,0,0,0],E=[0,0,0,0];g.forEach(function(e,t){var i=e,n=v[t];E.forEach(function(e,t,r){if(i&gt;e){r[t]=i,i=e;var o=y[t];y[t]=n,n=o}})}),v=y,g=E}for(;g.length&lt;4;)g.push(0),v.push(0);for(var b=0;b&lt;4;++b)l.push(g[b]),h.push(v[b])}if(e.normal){var T=u(f,i,p,e.normal);s.push(T[0],T[1],T[2])}if(e.material&amp;&amp;&quot;AllSame&quot;!==e.material.mappingType)var w=u(f,i,p,e.material)[0];e.uv&amp;&amp;e.uv.forEach(function(e,t){var n=u(f,i,p,e);void 0===c[t]&amp;&amp;(c[t]=[]),c[t].push(n[0]),c[t].push(n[1])}),n++,m&amp;&amp;(d.genFace(t,e,o,w,s,a,c,l,h,n),i++,n=0,o=[],s=[],a=[],c=[],l=[],h=[])}),t},genFace:function(e,t,i,n,r,o,s,a,c,l){for(var h=2;h&lt;l;h++)e.vertex.push(t.vertexPositions[i[0]]),e.vertex.push(t.vertexPositions[i[1]]),e.vertex.push(t.vertexPositions[i[2]]),e.vertex.push(t.vertexPositions[i[3*(h-1)]]),e.vertex.push(t.vertexPositions[i[3*(h-1)+1]]),e.vertex.push(t.vertexPositions[i[3*(h-1)+2]]),e.vertex.push(t.vertexPositions[i[3*h]]),e.vertex.push(t.vertexPositions[i[3*h+1]]),e.vertex.push(t.vertexPositions[i[3*h+2]]),t.skeleton&amp;&amp;(e.vertexWeights.push(a[0]),e.vertexWeights.push(a[1]),e.vertexWeights.push(a[2]),e.vertexWeights.push(a[3]),e.vertexWeights.push(a[4*(h-1)]),e.vertexWeights.push(a[4*(h-1)+1]),e.vertexWeights.push(a[4*(h-1)+2]),e.vertexWeights.push(a[4*(h-1)+3]),e.vertexWeights.push(a[4*h]),e.vertexWeights.push(a[4*h+1]),e.vertexWeights.push(a[4*h+2]),e.vertexWeights.push(a[4*h+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[4*(h-1)]),e.weightsIndices.push(c[4*(h-1)+1]),e.weightsIndices.push(c[4*(h-1)+2]),e.weightsIndices.push(c[4*(h-1)+3]),e.weightsIndices.push(c[4*h]),e.weightsIndices.push(c[4*h+1]),e.weightsIndices.push(c[4*h+2]),e.weightsIndices.push(c[4*h+3])),t.color&amp;&amp;(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[3*(h-1)]),e.colors.push(o[3*(h-1)+1]),e.colors.push(o[3*(h-1)+2]),e.colors.push(o[3*h]),e.colors.push(o[3*h+1]),e.colors.push(o[3*h+2])),t.material&amp;&amp;&quot;AllSame&quot;!==t.material.mappingType&amp;&amp;(e.materialIndex.push(n),e.materialIndex.push(n),e.materialIndex.push(n)),t.normal&amp;&amp;(e.normal.push(r[0]),e.normal.push(r[1]),e.normal.push(r[2]),e.normal.push(r[3*(h-1)]),e.normal.push(r[3*(h-1)+1]),e.normal.push(r[3*(h-1)+2]),e.normal.push(r[3*h]),e.normal.push(r[3*h+1]),e.normal.push(r[3*h+2])),t.uv&amp;&amp;t.uv.forEach(function(t,i){void 0===e.uvs[i]&amp;&amp;(e.uvs[i]=[]),e.uvs[i].push(s[i][0]),e.uvs[i].push(s[i][1]),e.uvs[i].push(s[i][2*(h-1)]),e.uvs[i].push(s[i][2*(h-1)+1]),e.uvs[i].push(s[i][2*h]),e.uvs[i].push(s[i][2*h+1])})},addMorphTargets:function(e,t,i,n){if(null!==i){e.morphAttributes.position=[],e.morphAttributes.normal=[];var r=this;i.rawTargets.forEach(function(i){var o=g.Objects.Geometry[i.geoID];void 0!==o&amp;&amp;r.genMorphGeometry(e,t,o,n)})}},genMorphGeometry:function(e,t,i,n){var r=new THREE.BufferGeometry;i.attrName&amp;&amp;(r.name=i.attrName);for(var o=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],s=void 0!==t.Vertices?t.Vertices.a.slice():[],a=void 0!==i.Vertices?i.Vertices.a:[],c=void 0!==i.Indexes?i.Indexes.a:[],l=0;l&lt;c.length;l++){var h=3*c[l];s[h]+=a[3*l],s[h+1]+=a[3*l+1],s[h+2]+=a[3*l+2]}var u={vertexIndices:o,vertexPositions:s},d=this.genBuffers(u),p=new THREE.Float32BufferAttribute(d.vertex,3);p.name=i.attrName,n.applyToBufferAttribute(p),e.morphAttributes.position.push(p)},parseNormals:function(e){var t=e.MappingInformationType,i=e.ReferenceInformationType,n=e.Normals.a,r=[];return&quot;IndexToDirect&quot;===i&amp;&amp;(&quot;NormalIndex&quot;in e?r=e.NormalIndex.a:&quot;NormalsIndex&quot;in e&amp;&amp;(r=e.NormalsIndex.a)),{dataSize:3,buffer:n,indices:r,mappingType:t,referenceType:i}},parseUVs:function(e){var t=e.MappingInformationType,i=e.ReferenceInformationType,n=e.UV.a,r=[];return&quot;IndexToDirect&quot;===i&amp;&amp;(r=e.UVIndex.a),{dataSize:2,buffer:n,indices:r,mappingType:t,referenceType:i}},parseVertexColors:function(e){var t=e.MappingInformationType,i=e.ReferenceInformationType,n=e.Colors.a,r=[];return&quot;IndexToDirect&quot;===i&amp;&amp;(r=e.ColorIndex.a),{dataSize:4,buffer:n,indices:r,mappingType:t,referenceType:i}},parseMaterialIndices:function(e){var t=e.MappingInformationType,i=e.ReferenceInformationType;if(&quot;NoMappingInformation&quot;===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:&quot;AllSame&quot;,referenceType:i};for(var n=e.Materials.a,r=[],o=0;o&lt;n.length;++o)r.push(o);return{dataSize:1,buffer:n,indices:r,mappingType:t,referenceType:i}},parseNurbsGeometry:function(e){if(void 0===THREE.NURBSCurve)return console.error(&quot;THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.&quot;),new THREE.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return console.error(&quot;THREE.FBXLoader: Invalid Order %s given for geometry ID: %s&quot;,e.Order,e.id),new THREE.BufferGeometry;for(var i=t-1,n=e.KnotVector.a,r=[],o=e.Points.a,s=0,a=o.length;s&lt;a;s+=4)r.push((new THREE.Vector4).fromArray(o,s));var c,l;if(&quot;Closed&quot;===e.Form)r.push(r[0]);else if(&quot;Periodic&quot;===e.Form){c=i,l=n.length-1-c;for(s=0;s&lt;i;++s)r.push(r[s])}var h=new THREE.NURBSCurve(i,n,r,c,l).getPoints(7*r.length),u=new Float32Array(3*h.length);h.forEach(function(e,t){e.toArray(u,3*t)});var d=new THREE.BufferGeometry;return d.addAttribute(&quot;position&quot;,new THREE.BufferAttribute(u,3)),d}},n.prototype={constructor:n,parse:function(){var e=[],t=this.parseClips();if(void 0===t)return e;for(var i in t){var n=t[i],r=this.addClip(n);e.push(r)}return e},parseClips:function(){if(void 0!==g.Objects.AnimationCurve){var e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);var t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}},parseAnimationCurveNodes:function(){var e=g.Objects.AnimationCurveNode,t=new Map;for(var i in e){var n=e[i];if(null!==n.attrName.match(/S|R|T|DeformPercent/)){var r={id:n.id,attr:n.attrName,curves:{}};t.set(r.id,r)}}return t},parseAnimationCurves:function(e){var t=g.Objects.AnimationCurve;for(var i in t){var n={id:t[i].id,times:t[i].KeyTime.a.map(h),values:t[i].KeyValueFloat.a},r=y.get(n.id);if(void 0!==r){var o=r.parents[0].ID,s=r.parents[0].relationship;s.match(/X/)?e.get(o).curves.x=n:s.match(/Y/)?e.get(o).curves.y=n:s.match(/Z/)?e.get(o).curves.z=n:s.match(/d|DeformPercent/)&amp;&amp;e.has(o)&amp;&amp;(e.get(o).curves.morph=n)}}},parseAnimationLayers:function(e){var t=g.Objects.AnimationLayer,i=new Map;for(var n in t){var r=[],o=y.get(parseInt(n));if(void 0!==o){var s=this;o.children.forEach(function(t,i){if(e.has(t.ID)){var n=e.get(t.ID);if(void 0!==n.curves.x||void 0!==n.curves.y||void 0!==n.curves.z){if(void 0===r[i]){y.get(t.ID).parents.forEach(function(e){void 0!==e.relationship&amp;&amp;(u=e.ID)});var o=g.Objects.Model[u.toString()],a={modelName:THREE.PropertyBinding.sanitizeNodeName(o.attrName),initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1],transform:s.getModelAnimTransform(o)};&quot;PreRotation&quot;in o&amp;&amp;(a.preRotations=o.PreRotation.value),&quot;PostRotation&quot;in o&amp;&amp;(a.postRotations=o.PostRotation.value),r[i]=a}r[i][n.attr]=n}else if(void 0!==n.curves.morph){if(void 0===r[i]){var c;y.get(t.ID).parents.forEach(function(e){void 0!==e.relationship&amp;&amp;(c=e.ID)});var l=y.get(c).parents[0].ID,h=y.get(l).parents[0].ID,u=y.get(h).parents[0].ID,o=g.Objects.Model[u],a={modelName:THREE.PropertyBinding.sanitizeNodeName(o.attrName),morphName:g.Objects.Deformer[c].attrName};r[i]=a}r[i][n.attr]=n}}}),i.set(parseInt(n),r)}}return i},getModelAnimTransform:function(e){var t={};return&quot;RotationOrder&quot;in e&amp;&amp;(t.eulerOrder=parseInt(e.RotationOrder.value)),&quot;Lcl_Translation&quot;in e&amp;&amp;(t.translation=e.Lcl_Translation.value),&quot;RotationOffset&quot;in e&amp;&amp;(t.rotationOffset=e.RotationOffset.value),&quot;Lcl_Rotation&quot;in e&amp;&amp;(t.rotation=e.Lcl_Rotation.value),&quot;PreRotation&quot;in e&amp;&amp;(t.preRotation=e.PreRotation.value),&quot;PostRotation&quot;in e&amp;&amp;(t.postRotation=e.PostRotation.value),&quot;Lcl_Scaling&quot;in e&amp;&amp;(t.scale=e.Lcl_Scaling.value),d(t)},parseAnimStacks:function(e){var t=g.Objects.AnimationStack,i={};for(var n in t){var r=y.get(parseInt(n)).children;r.length&gt;1&amp;&amp;console.warn(&quot;THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.&quot;);var o=e.get(r[0].ID);i[n]={name:t[n].attrName,layer:o}}return i},addClip:function(e){var t=[],i=this;return e.layer.forEach(function(e){t=t.concat(i.generateTracks(e))}),new THREE.AnimationClip(e.name,-1,t)},generateTracks:function(e){var t=[],i=new THREE.Vector3,n=new THREE.Quaternion,r=new THREE.Vector3;if(e.transform&amp;&amp;e.transform.decompose(i,n,r),i=i.toArray(),n=(new THREE.Euler).setFromQuaternion(n).toArray(),r=r.toArray(),void 0!==e.T&amp;&amp;Object.keys(e.T.curves).length&gt;0){var o=this.generateVectorTrack(e.modelName,e.T.curves,i,&quot;position&quot;);void 0!==o&amp;&amp;t.push(o)}if(void 0!==e.R&amp;&amp;Object.keys(e.R.curves).length&gt;0){var s=this.generateRotationTrack(e.modelName,e.R.curves,n,e.preRotations,e.postRotations);void 0!==s&amp;&amp;t.push(s)}if(void 0!==e.S&amp;&amp;Object.keys(e.S.curves).length&gt;0){var a=this.generateVectorTrack(e.modelName,e.S.curves,r,&quot;scale&quot;);void 0!==a&amp;&amp;t.push(a)}if(void 0!==e.DeformPercent){var c=this.generateMorphTrack(e);void 0!==c&amp;&amp;t.push(c)}return t},generateVectorTrack:function(e,t,i,n){var r=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(r,t,i);return new THREE.VectorKeyframeTrack(e+&quot;.&quot;+n,r,o)},generateRotationTrack:function(e,t,i,n,r){void 0!==t.x&amp;&amp;(this.interpolateRotations(t.x),t.x.values=t.x.values.map(THREE.Math.degToRad)),void 0!==t.y&amp;&amp;(this.interpolateRotations(t.y),t.y.values=t.y.values.map(THREE.Math.degToRad)),void 0!==t.z&amp;&amp;(this.interpolateRotations(t.z),t.z.values=t.z.values.map(THREE.Math.degToRad));var o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,i);void 0!==n&amp;&amp;((n=n.map(THREE.Math.degToRad)).push(&quot;ZYX&quot;),n=(new THREE.Euler).fromArray(n),n=(new THREE.Quaternion).setFromEuler(n)),void 0!==r&amp;&amp;((r=r.map(THREE.Math.degToRad)).push(&quot;ZYX&quot;),r=(new THREE.Euler).fromArray(r),r=(new THREE.Quaternion).setFromEuler(r).inverse());for(var a=new THREE.Quaternion,c=new THREE.Euler,l=[],h=0;h&lt;s.length;h+=3)c.set(s[h],s[h+1],s[h+2],&quot;ZYX&quot;),a.setFromEuler(c),void 0!==n&amp;&amp;a.premultiply(n),void 0!==r&amp;&amp;a.multiply(r),a.toArray(l,h/3*4);return new THREE.QuaternionKeyframeTrack(e+&quot;.quaternion&quot;,o,l)},generateMorphTrack:function(e){var t=e.DeformPercent.curves.morph,i=t.values.map(function(e){return e/100}),n=E.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new THREE.NumberKeyframeTrack(e.modelName+&quot;.morphTargetInfluences[&quot;+n+&quot;]&quot;,t.times,i)},getTimesForAllAxes:function(e){var t=[];return void 0!==e.x&amp;&amp;(t=t.concat(e.x.times)),void 0!==e.y&amp;&amp;(t=t.concat(e.y.times)),void 0!==e.z&amp;&amp;(t=t.concat(e.z.times)),t=t.sort(function(e,t){return e-t}).filter(function(e,t,i){return i.indexOf(e)==t})},getKeyframeTrackValues:function(e,t,i){var n=i,r=[],o=-1,s=-1,a=-1;return e.forEach(function(e){if(t.x&amp;&amp;(o=t.x.times.indexOf(e)),t.y&amp;&amp;(s=t.y.times.indexOf(e)),t.z&amp;&amp;(a=t.z.times.indexOf(e)),-1!==o){var i=t.x.values[o];r.push(i),n[0]=i}else r.push(n[0]);if(-1!==s){var c=t.y.values[s];r.push(c),n[1]=c}else r.push(n[1]);if(-1!==a){var l=t.z.values[a];r.push(l),n[2]=l}else r.push(n[2])}),r},interpolateRotations:function(e){for(var t=1;t&lt;e.values.length;t++){var i=e.values[t-1],n=e.values[t]-i,r=Math.abs(n);if(r&gt;=180){for(var o=r/180,s=n/o,a=i+s,c=e.times[t-1],l=(e.times[t]-c)/o,h=c+l,u=[],d=[];h&lt;e.times[t];)u.push(h),h+=l,d.push(a),a+=s;e.times=v(e.times,t,u),e.values=v(e.values,t,d)}}}},o.prototype={constructor:o,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e,this.currentPropName=t},parse:function(e){this.currentIndent=0,console.log(&quot;FBXTree: &quot;,c),this.allNodes=new c,this.nodeStack=[],this.currentProp=[],this.currentPropName=&quot;&quot;;var t=this,i=e.split(/[\r\n]+/);return i.forEach(function(e,n){var r=e.match(/^[\s\t]*;/),o=e.match(/^[\s\t]*$/);if(!r&amp;&amp;!o){var s=e.match(&quot;^\\t{&quot;+t.currentIndent+&quot;}(\\w+):(.*){&quot;,&quot;&quot;),a=e.match(&quot;^\\t{&quot;+t.currentIndent+&quot;}(\\w+):[\\s\\t\\r\\n](.*)&quot;),c=e.match(&quot;^\\t{&quot;+(t.currentIndent-1)+&quot;}}&quot;);s?t.parseNodeBegin(e,s):a?t.parseNodeProperty(e,a,i[++n]):c?t.popStack():e.match(/^[^\s\t}]/)&amp;&amp;t.parseNodePropertyContinued(e)}}),this.allNodes},parseNodeBegin:function(e,t){var i=t[1].trim().replace(/^&quot;/,&quot;&quot;).replace(/&quot;$/,&quot;&quot;),n=t[2].split(&quot;,&quot;).map(function(e){return e.trim().replace(/^&quot;/,&quot;&quot;).replace(/&quot;$/,&quot;&quot;)}),r={name:i},o=this.parseNodeAttr(n),s=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(i,r):i in s?(&quot;PoseNode&quot;===i?s.PoseNode.push(r):void 0!==s[i].id&amp;&amp;(s[i]={},s[i][s[i].id]=s[i]),&quot;&quot;!==o.id&amp;&amp;(s[i][o.id]=r)):&quot;number&quot;==typeof o.id?(s[i]={},s[i][o.id]=r):&quot;Properties70&quot;!==i&amp;&amp;(s[i]=&quot;PoseNode&quot;===i?[r]:r),&quot;number&quot;==typeof o.id&amp;&amp;(r.id=o.id),&quot;&quot;!==o.name&amp;&amp;(r.attrName=o.name),&quot;&quot;!==o.type&amp;&amp;(r.attrType=o.type),this.pushStack(r)},parseNodeAttr:function(e){var t=e[0];&quot;&quot;!==e[0]&amp;&amp;(t=parseInt(e[0]),isNaN(t)&amp;&amp;(t=e[0]));var i=&quot;&quot;,n=&quot;&quot;;return e.length&gt;1&amp;&amp;(i=e[1].replace(/^(\w+)::/,&quot;&quot;),n=e[2]),{id:t,name:i,type:n}},parseNodeProperty:function(e,t,i){var n=t[1].replace(/^&quot;/,&quot;&quot;).replace(/&quot;$/,&quot;&quot;).trim(),r=t[2].replace(/^&quot;/,&quot;&quot;).replace(/&quot;$/,&quot;&quot;).trim();&quot;Content&quot;===n&amp;&amp;&quot;,&quot;===r&amp;&amp;(r=i.replace(/&quot;/g,&quot;&quot;).replace(/,$/,&quot;&quot;).trim());var o=this.getCurrentNode();if(&quot;Properties70&quot;!==o.name){if(&quot;C&quot;===n){var s=r.split(&quot;,&quot;).slice(1),a=parseInt(s[0]),c=parseInt(s[1]),l=r.split(&quot;,&quot;).slice(3);n=&quot;connections&quot;,function(e,t){for(var i=0,n=e.length,r=t.length;i&lt;r;i++,n++)e[n]=t[i]}(r=[a,c],l=l.map(function(e){return e.trim().replace(/^&quot;/,&quot;&quot;)})),void 0===o[n]&amp;&amp;(o[n]=[])}&quot;Node&quot;===n&amp;&amp;(o.id=r),n in o&amp;&amp;Array.isArray(o[n])?o[n].push(r):&quot;a&quot;!==n?o[n]=r:o.a=r,this.setCurrentProp(o,n),&quot;a&quot;===n&amp;&amp;&quot;,&quot;!==r.slice(-1)&amp;&amp;(o.a=f(r))}else this.parseNodeSpecialProperty(e,n,r)},parseNodePropertyContinued:function(e){var t=this.getCurrentNode();t.a+=e,&quot;,&quot;!==e.slice(-1)&amp;&amp;(t.a=f(t.a))},parseNodeSpecialProperty:function(e,t,i){var n=i.split(&#39;&quot;,&#39;).map(function(e){return e.trim().replace(/^\&quot;/,&quot;&quot;).replace(/\s/,&quot;_&quot;)}),r=n[0],o=n[1],s=n[2],a=n[3],c=n[4];switch(o){case&quot;int&quot;:case&quot;enum&quot;:case&quot;bool&quot;:case&quot;ULongLong&quot;:case&quot;double&quot;:case&quot;Number&quot;:case&quot;FieldOfView&quot;:c=parseFloat(c);break;case&quot;Color&quot;:case&quot;ColorRGB&quot;:case&quot;Vector3D&quot;:case&quot;Lcl_Translation&quot;:case&quot;Lcl_Rotation&quot;:case&quot;Lcl_Scaling&quot;:c=f(c)}this.getPrevNode()[r]={type:o,type2:s,flag:a,value:c},this.setCurrentProp(this.getPrevNode(),r)}},s.prototype={constructor:s,parse:function(e){var t=new a(e);t.skip(23);var i=t.getUint32();console.log(&quot;THREE.FBXLoader: FBX binary version: &quot;+i);for(var n=new c;!this.endOfContent(t);){var r=this.parseNode(t,i);null!==r&amp;&amp;n.add(r.name,r)}return n},endOfContent:function(e){return e.size()%16==0?(e.getOffset()+160+16&amp;-16)&gt;=e.size():e.getOffset()+160+16&gt;=e.size()},parseNode:function(e,t){var i={},n=t&gt;=7500?e.getUint64():e.getUint32(),r=t&gt;=7500?e.getUint64():e.getUint32(),o=(t&gt;=7500?e.getUint64():e.getUint32(),e.getUint8()),s=e.getString(o);if(0===n)return null;for(var a=[],c=0;c&lt;r;c++)a.push(this.parseProperty(e));var l=a.length&gt;0?a[0]:&quot;&quot;,h=a.length&gt;1?a[1]:&quot;&quot;,u=a.length&gt;2?a[2]:&quot;&quot;;for(i.singleProperty=1===r&amp;&amp;e.getOffset()===n;n&gt;e.getOffset();){var d=this.parseNode(e,t);null!==d&amp;&amp;this.parseSubNode(s,i,d)}return i.propertyList=a,&quot;number&quot;==typeof l&amp;&amp;(i.id=l),&quot;&quot;!==h&amp;&amp;(i.attrName=h),&quot;&quot;!==u&amp;&amp;(i.attrType=u),&quot;&quot;!==s&amp;&amp;(i.name=s),i},parseSubNode:function(e,t,i){if(!0===i.singleProperty){var n=i.propertyList[0];Array.isArray(n)?(t[i.name]=i,i.a=n):t[i.name]=n}else if(&quot;Connections&quot;===e&amp;&amp;&quot;C&quot;===i.name){var r=[];i.propertyList.forEach(function(e,t){0!==t&amp;&amp;r.push(e)}),void 0===t.connections&amp;&amp;(t.connections=[]),t.connections.push(r)}else if(&quot;Properties70&quot;===i.name){Object.keys(i).forEach(function(e){t[e]=i[e]})}else if(&quot;Properties70&quot;===e&amp;&amp;&quot;P&quot;===i.name){var o,s=i.propertyList[0],a=i.propertyList[1],c=i.propertyList[2],l=i.propertyList[3];0===s.indexOf(&quot;Lcl &quot;)&amp;&amp;(s=s.replace(&quot;Lcl &quot;,&quot;Lcl_&quot;)),0===a.indexOf(&quot;Lcl &quot;)&amp;&amp;(a=a.replace(&quot;Lcl &quot;,&quot;Lcl_&quot;)),o=&quot;Color&quot;===a||&quot;ColorRGB&quot;===a||&quot;Vector&quot;===a||&quot;Vector3D&quot;===a||0===a.indexOf(&quot;Lcl_&quot;)?[i.propertyList[4],i.propertyList[5],i.propertyList[6]]:i.propertyList[4],t[s]={type:a,type2:c,flag:l,value:o}}else void 0===t[i.name]?&quot;number&quot;==typeof i.id?(t[i.name]={},t[i.name][i.id]=i):t[i.name]=i:&quot;PoseNode&quot;===i.name?(Array.isArray(t[i.name])||(t[i.name]=[t[i.name]]),t[i.name].push(i)):void 0===t[i.name][i.id]&amp;&amp;(t[i.name][i.id]=i)},parseProperty:function(e){var t=e.getString(1);switch(t){case&quot;C&quot;:return e.getBoolean();case&quot;D&quot;:return e.getFloat64();case&quot;F&quot;:return e.getFloat32();case&quot;I&quot;:return e.getInt32();case&quot;L&quot;:return e.getInt64();case&quot;R&quot;:i=e.getUint32();return e.getArrayBuffer(i);case&quot;S&quot;:var i=e.getUint32();return e.getString(i);case&quot;Y&quot;:return e.getInt16();case&quot;b&quot;:case&quot;c&quot;:case&quot;d&quot;:case&quot;f&quot;:case&quot;i&quot;:case&quot;l&quot;:var n=e.getUint32(),r=e.getUint32(),o=e.getUint32();if(0===r)switch(t){case&quot;b&quot;:case&quot;c&quot;:return e.getBooleanArray(n);case&quot;d&quot;:return e.getFloat64Array(n);case&quot;f&quot;:return e.getFloat32Array(n);case&quot;i&quot;:return e.getInt32Array(n);case&quot;l&quot;:return e.getInt64Array(n)}&quot;undefined&quot;==typeof Zlib&amp;&amp;console.error(&quot;THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js&quot;);var s=new a(new Zlib.Inflate(new Uint8Array(e.getArrayBuffer(o))).decompress().buffer);switch(t){case&quot;b&quot;:case&quot;c&quot;:return s.getBooleanArray(n);case&quot;d&quot;:return s.getFloat64Array(n);case&quot;f&quot;:return s.getFloat32Array(n);case&quot;i&quot;:return s.getInt32Array(n);case&quot;l&quot;:return s.getInt64Array(n)}default:throw new Error(&quot;THREE.FBXLoader: Unknown property type &quot;+t)}}},a.prototype={constructor:a,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1==(1&amp;this.getUint8())},getBooleanArray:function(e){for(var t=[],i=0;i&lt;e;i++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],i=0;i&lt;e;i++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&amp;t?(t=4294967295&amp;~t,4294967295===(e=4294967295&amp;~e)&amp;&amp;(t=t+1&amp;4294967295),e=e+1&amp;4294967295,-(4294967296*t+e)):4294967296*t+e},getInt64Array:function(e){for(var t=[],i=0;i&lt;e;i++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],i=0;i&lt;e;i++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],i=0;i&lt;e;i++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],i=0;i&lt;e;i++)t[i]=this.getUint8();var n=t.indexOf(0);return n&gt;=0&amp;&amp;(t=t.slice(0,n)),THREE.LoaderUtils.decodeText(new Uint8Array(t))}},c.prototype={constructor:c,add:function(e,t){this[e]=t}};var b=[],T=new THREE.Matrix4,w=new THREE.Euler,x=new THREE.Vector3,k=new THREE.Vector3,R=new THREE.Matrix4;return e}()},{}],5:[function(e,t,i){&quot;use strict&quot;;t.exports=Object.assign(function(){},{FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,L_SHOULDER_1:4,R_SHOULDER_1:5,L_SHOULDER_2:6,R_SHOULDER_2:7,SELECT:8,START:9,DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,VENDOR:16})},{}],6:[function(e,t,i){&quot;use strict&quot;;t.exports=function(e,t,i){this.type=e,this.index=t,this.pressed=i.pressed,this.value=i.value}},{}],7:[function(e,t,i){&quot;use strict&quot;;t.exports={size:5,cellSize:10,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5},autogenerated:!0,cells:[{q:-1,r:0,s:1,h:1,walkable:!0,userData:{}},{q:0,r:-1,s:1,h:1,walkable:!0,userData:{}},{q:0,r:0,s:0,h:1,walkable:!0,userData:{}},{q:1,r:-1,s:0,h:1,walkable:!0,userData:{}},{q:-1,r:1,s:0,h:0,walkable:!0,userData:{}},{q:0,r:1,s:-1,h:0,walkable:!0,userData:{}},{q:1,r:0,s:-1,h:0,walkable:!0,userData:{}}]}},{}],8:[function(e,t,i){&quot;use strict&quot;;function n(e){var t=document.getElementById(e),i=t.parentNode;try{i&amp;&amp;i.removeChild(t)}catch(e){}}function r(e,t,i){return new i(function(i,r){var o=t.timeout||5e3,s=&quot;script_&quot;+Date.now()+&quot;_&quot;+Math.ceil(1e5*Math.random()),a=function(e,t){var i=document.createElement(&quot;script&quot;);return i.type=&quot;text/javascript&quot;,i.async=!0,i.id=t,i.src=e,i}(e,s),c=setTimeout(function(){r(new Error(&quot;Script request to &quot;+e+&quot; timed out&quot;)),n(s)},o),l=function(e){clearTimeout(e)};a.addEventListener(&quot;load&quot;,function(e){i({ok:!0}),l(c),n(s)}),a.addEventListener(&quot;error&quot;,function(t){r(new Error(&quot;Script request to &quot;+e+&quot; failed &quot;+t)),l(c),n(s)}),function(e){var t=document.getElementsByTagName(&quot;script&quot;)[0];t.parentNode.insertBefore(e,t)}(a)})}t.exports=function(e){return e=e||{},function(t,i){return i=i||{},r(t,i,e.Promise||Promise)}}},{}],9:[function(e,t,i){&quot;use strict&quot;;var n=&quot;function&quot;==typeof Symbol&amp;&amp;&quot;symbol&quot;==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;&quot;function&quot;==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?&quot;symbol&quot;:typeof e},r=&quot;function&quot;==typeof Symbol&amp;&amp;&quot;symbol&quot;===n(Symbol.iterator)?function(e){return void 0===e?&quot;undefined&quot;:n(e)}:function(e){return e&amp;&amp;&quot;function&quot;==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?&quot;symbol&quot;:void 0===e?&quot;undefined&quot;:n(e)},o=t.exports={VERSION:&quot;0.1.1&quot;,PI:Math.PI,TAU:2*Math.PI,DEG_TO_RAD:.0174532925,RAD_TO_DEG:57.2957795,SQRT3:Math.sqrt(3),TILE:&quot;tile&quot;,ENT:&quot;entity&quot;,STR:&quot;structure&quot;,HEX:&quot;hex&quot;,SQR:&quot;square&quot;,ABS:&quot;abstract&quot;};o.Board=function(e,t){if(!e)throw new Error(&quot;You must pass in a grid system for the board to use.&quot;);this.tiles=[],this.tileGroup=null,this.group=new THREE.Object3D,this.grid=null,this.overlay=null,this.finder=new o.AStarFinder(t),o.Loader.init(),this.setGrid(e)},o.Board.prototype={setEntityOnTile:function(e,t){var i=this.grid.cellToPixel(t.cell);e.position.copy(i),e.position.y+=e.heightOffset||0,e.tile&amp;&amp;(e.tile.entity=null),e.tile=t,t.entity=e},addTile:function(e){-1===this.tiles.indexOf(e)&amp;&amp;(this.tiles.push(e),this.snapTileToGrid(e),e.position.y=0,this.tileGroup.add(e.mesh),this.grid.add(e.cell),e.cell.tile=e)},removeTile:function(e){if(e){var t=this.tiles.indexOf(e);this.grid.remove(e.cell),-1!==t&amp;&amp;this.tiles.splice(t,1),e.dispose()}},removeAllTiles:function(){if(this.tileGroup)for(var e=this.tileGroup.children,t=0;t&lt;e.length;t++)this.tileGroup.remove(e[t])},getTileAtCell:function(e){var t=this.grid.cellToHash(e);return e.tile||(void 0!==this.grid.cells[t]?this.grid.cells[t].tile:null)},snapToGrid:function(e){var t=this.grid.pixelToCell(e);e.copy(this.grid.cellToPixel(t))},snapTileToGrid:function(e){if(e.cell)e.position.copy(this.grid.cellToPixel(e.cell));else{var t=this.grid.pixelToCell(e.position);e.position.copy(this.grid.cellToPixel(t))}return e},getRandomTile:function(){var e=o.Tools.randomInt(0,this.tiles.length-1);return this.tiles[e]},findPath:function(e,t,i){return this.finder.findPath(e.cell,t.cell,i,this.grid)},setGrid:function(e){this.group.remove(this.tileGroup),this.grid&amp;&amp;e!==this.grid&amp;&amp;(this.removeAllTiles(),this.tiles.forEach(function(e){this.grid.remove(e.cell),e.dispose()}),this.grid.dispose()),this.grid=e,this.tiles=[],this.tileGroup=new THREE.Object3D,this.group.add(this.tileGroup)},generateOverlay:function(e){var t=new THREE.LineBasicMaterial({color:0,opacity:.3});this.overlay&amp;&amp;this.group.remove(this.overlay),this.overlay=new THREE.Object3D,this.grid.generateOverlay(e,this.overlay,t),this.group.add(this.overlay)},generateTilemap:function(e){this.reset();var t=this.grid.generateTiles(e);this.tiles=t,this.tileGroup=new THREE.Object3D;for(var i=0;i&lt;t.length;i++)this.tileGroup.add(t[i].mesh);this.group.add(this.tileGroup)},reset:function(){this.removeAllTiles(),this.tileGroup&amp;&amp;this.group.remove(this.tileGroup)}},o.Board.prototype.constructor=o.Board,o.Cell=function(e,t,i,n){this.q=e||0,this.r=t||0,this.s=i||0,this.h=n||1,this.tile=null,this.userData={},this.walkable=!0,this._calcCost=0,this._priority=0,this._visited=!1,this._parent=null,this.uniqueID=o.LinkedList.generateID()},o.Cell.prototype={set:function(e,t,i){return this.q=e,this.r=t,this.s=i,this},copy:function(e){return this.q=e.q,this.r=e.r,this.s=e.s,this.h=e.h,this.tile=e.tile||null,this.userData=e.userData||{},this.walkable=e.walkable,this},add:function(e){return this.q+=e.q,this.r+=e.r,this.s+=e.s,this},equals:function(e){return this.q===e.q&amp;&amp;this.r===e.r&amp;&amp;this.s===e.s}},o.Cell.prototype.constructor=o.Cell,o.HexGrid=function(e){e=e||{},this.type=o.HEX,this.size=5,this.cellSize=void 0===e.cellSize?10:e.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var t,i=[];for(t=0;6&gt;t;t++)i.push(this._createVertex(t));for(this.cellShape=new THREE.Shape,this.cellShape.moveTo(i[0].x,i[0].y),t=1;6&gt;t;t++)this.cellShape.lineTo(i[t].x,i[t].y);this.cellShape.lineTo(i[0].x,i[0].y),this.cellShape.autoClose=!0,this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=i,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._cellWidth=2*this.cellSize,this._cellLength=.5*o.SQRT3*this._cellWidth,this._hashDelimeter=&quot;.&quot;,this._directions=[new o.Cell(1,-1,0),new o.Cell(1,0,-1),new o.Cell(0,1,-1),new o.Cell(-1,1,0),new o.Cell(-1,0,1),new o.Cell(0,-1,1)],this._diagonals=[new o.Cell(2,-1,-1),new o.Cell(1,1,-2),new o.Cell(-1,2,-1),new o.Cell(-2,1,1),new o.Cell(-1,-1,2),new o.Cell(1,-2,1)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new o.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},o.HexGrid.TWO_THIRDS=2/3,o.HexGrid.prototype={cellToPixel:function(e){return this._vec3.x=e.q*this._cellWidth*.75,this._vec3.y=e.h,this._vec3.z=-(e.s-e.r)*this._cellLength*.5,this._vec3},pixelToCell:function(e){var t=e.x*(o.HexGrid.TWO_THIRDS/this.cellSize),i=(-e.x/3+o.SQRT3/3*e.z)/this.cellSize;return this._cel.set(t,i,-t-i),this._cubeRound(this._cel)},getCellAt:function(e){var t=e.x*(o.HexGrid.TWO_THIRDS/this.cellSize),i=(-e.x/3+o.SQRT3/3*e.z)/this.cellSize;return this._cel.set(t,i,-t-i),this._cubeRound(this._cel),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(e,t,i){var n,r,o=this._directions.length;for(this._list.length=0,n=0;o&gt;n;n++)this._cel.copy(e),this._cel.add(this._directions[n]),!(r=this.cells[this.cellToHash(this._cel)])||i&amp;&amp;!i(e,r)||this._list.push(r);if(t)for(n=0;o&gt;n;n++)this._cel.copy(e),this._cel.add(this._diagonals[n]),!(r=this.cells[this.cellToHash(this._cel)])||i&amp;&amp;!i(e,r)||this._list.push(r);return this._list},getRandomCell:function(){var e,t=0,i=o.Tools.randomInt(0,this.numCells);for(e in this.cells){if(t===i)return this.cells[e];t++}return this.cells[e]},cellToHash:function(e){return e.q+this._hashDelimeter+e.r+this._hashDelimeter+e.s},distance:function(e,t){var i=Math.max(Math.abs(e.q-t.q),Math.abs(e.r-t.r),Math.abs(e.s-t.s));return i+=t.h-e.h},clearPath:function(){var e,t;for(e in this.cells)(t=this.cells[e])._calcCost=0,t._priority=0,t._parent=null,t._visited=!1},traverse:function(e){var t;for(t in this.cells)e(this.cells[t])},generateTile:function(e,t,i){var n=Math.abs(e.h);1&gt;n&amp;&amp;(n=1);var r=this._geoCache[n];r||(this.extrudeSettings.amount=n,r=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[n]=r);var s=new o.Tile({size:this.cellSize,scale:t,cell:e,geometry:r,material:i});return e.tile=s,s},generateTiles:function(e){e=e||{};var t=[],i={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};i=o.Tools.merge(i,e),this.cellSize=i.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*o.SQRT3*this._cellWidth,this.autogenerated=!0,this.extrudeSettings=i.extrudeSettings;var n,r,s;for(n in this.cells)s=this.cells[n],(r=this.generateTile(s,i.tileScale,i.material)).position.copy(this.cellToPixel(s)),r.position.y=0,t.push(r);return t},generateTilePoly:function(e){e||(e=new THREE.MeshBasicMaterial({color:2405631}));var t=new THREE.Mesh(this.cellShapeGeo,e);return this._vec3.set(1,0,0),t.rotateOnAxis(this._vec3,o.PI/2),t},generate:function(e){e=e||{},this.size=void 0===e.size?this.size:e.size;var t,i,n,r;for(t=-this.size;t&lt;this.size+1;t++)for(i=-this.size;i&lt;this.size+1;i++)n=-t-i,Math.abs(t)&lt;=this.size&amp;&amp;Math.abs(i)&lt;=this.size&amp;&amp;Math.abs(n)&lt;=this.size&amp;&amp;(r=new o.Cell(t,i,n),this.add(r))},generateOverlay:function(e,t,i){var n,r,s,a=this.cellShape.createPointsGeometry();for(n=-e;e+1&gt;n;n++)for(r=-e;e+1&gt;r;r++)if(s=-n-r,Math.abs(n)&lt;=e&amp;&amp;Math.abs(r)&lt;=e&amp;&amp;Math.abs(s)&lt;=e){this._cel.set(n,r,s);var c=new THREE.Line(a,i);c.position.copy(this.cellToPixel(this._cel)),c.rotation.x=90*o.DEG_TO_RAD,t.add(c)}},add:function(e){var t=this.cellToHash(e);if(!this.cells[t])return this.cells[t]=e,this.numCells++,e},remove:function(e){var t=this.cellToHash(e);this.cells[t]&amp;&amp;(delete this.cells[t],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(e,t,i){var n=this;o.Tools.getJSON({url:e,callback:function(e){n.fromJSON(e),t.call(i||null,e)},cache:!1,scope:n})},fromJSON:function(e){var t,i,n=e.cells;for(this.cells={},this.numCells=0,this.size=e.size,this.cellSize=e.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*o.SQRT3*this._cellWidth,this.extrudeSettings=e.extrudeSettings,this.autogenerated=e.autogenerated,t=0;t&lt;n.length;t++)(i=new o.Cell).copy(n[t]),this.add(i)},toJSON:function(){var e,t,i={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},n=[];for(t in this.cells)e=this.cells[t],n.push({q:e.q,r:e.r,s:e.s,h:e.h,walkable:e.walkable,userData:e.userData});return i.cells=n,i},_createVertex:function(e){var t=o.TAU/6*e;return new THREE.Vector3(this.cellSize*Math.cos(t),this.cellSize*Math.sin(t),0)},_cubeRound:function(e){var t=Math.round(e.q),i=Math.round(e.r),n=Math.round(e.s),r=Math.abs(t-e.q),o=Math.abs(i-e.r),s=Math.abs(n-e.s);return r&gt;o&amp;&amp;r&gt;s?t=-i-n:o&gt;s?i=-t-n:n=-t-i,this._cel.set(t,i,n)}},o.HexGrid.prototype.constructor=o.HexGrid,o.SqrGrid=function(e){e=e||{},this.type=o.SQR,this.size=5,this.cellSize=void 0===e.cellSize?10:e.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var t=[];t.push(new THREE.Vector3),t.push(new THREE.Vector3(-this.cellSize,this.cellSize)),t.push(new THREE.Vector3(this.cellSize,this.cellSize)),t.push(new THREE.Vector3(this.cellSize,-this.cellSize)),this.cellShape=new THREE.Shape,this.cellShape.moveTo(-this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,-this.cellSize),this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=t,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._fullCellSize=2*this.cellSize,this._hashDelimeter=&quot;.&quot;,this._directions=[new o.Cell(1,0,0),new o.Cell(0,-1,0),new o.Cell(-1,0,0),new o.Cell(0,1,0)],this._diagonals=[new o.Cell(-1,-1,0),new o.Cell(-1,1,0),new o.Cell(1,1,0),new o.Cell(1,-1,0)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new o.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},o.SqrGrid.prototype={cellToPixel:function(e){return this._vec3.x=e.q*this._fullCellSize,this._vec3.y=e.h,this._vec3.z=e.r*this._fullCellSize,this._vec3},pixelToCell:function(e){var t=Math.round(e.x/this._fullCellSize),i=Math.round(e.z/this._fullCellSize);return this._cel.set(t,i,0)},getCellAt:function(e){var t=Math.round(e.x/this._fullCellSize),i=Math.round(e.z/this._fullCellSize);return this._cel.set(t,i),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(e,t,i){var n,r,o=this._directions.length;for(this._list.length=0,n=0;o&gt;n;n++)this._cel.copy(e),this._cel.add(this._directions[n]),!(r=this.cells[this.cellToHash(this._cel)])||i&amp;&amp;!i(e,r)||this._list.push(r);if(t)for(n=0;o&gt;n;n++)this._cel.copy(e),this._cel.add(this._diagonals[n]),!(r=this.cells[this.cellToHash(this._cel)])||i&amp;&amp;!i(e,r)||this._list.push(r);return this._list},getRandomCell:function(){var e,t=0,i=o.Tools.randomInt(0,this.numCells);for(e in this.cells){if(t===i)return this.cells[e];t++}return this.cells[e]},cellToHash:function(e){return e.q+this._hashDelimeter+e.r},distance:function(e,t){var i=Math.max(Math.abs(e.q-t.q),Math.abs(e.r-t.r));return i+=t.h-e.h},clearPath:function(){var e,t;for(e in this.cells)(t=this.cells[e])._calcCost=0,t._priority=0,t._parent=null,t._visited=!1},traverse:function(e){var t;for(t in this.cells)e(this.cells[t])},generateTile:function(e,t,i){var n=Math.abs(e.h);1&gt;n&amp;&amp;(n=1);var r=this._geoCache[n];r||(this.extrudeSettings.amount=n,r=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[n]=r);var s=new o.Tile({size:this.cellSize,scale:t,cell:e,geometry:r,material:i});return e.tile=s,s},generateTiles:function(e){e=e||{};var t=[],i={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};i=o.Tools.merge(i,e),this.cellSize=i.cellSize,this._fullCellSize=2*this.cellSize,this.autogenerated=!0,this.extrudeSettings=i.extrudeSettings;var n,r,s;for(n in this.cells)s=this.cells[n],(r=this.generateTile(s,i.tileScale,i.material)).position.copy(this.cellToPixel(s)),r.position.y=0,t.push(r);return t},generateTilePoly:function(e){e||(e=new THREE.MeshBasicMaterial({color:2405631}));var t=new THREE.Mesh(this.cellShapeGeo,e);return this._vec3.set(1,0,0),t.rotateOnAxis(this._vec3,o.PI/2),t},generate:function(e){e=e||{},this.size=void 0===e.size?this.size:e.size;var t,i,n,r=Math.ceil(this.size/2);for(t=-r;r&gt;t;t++)for(i=-r;r&gt;i;i++)n=new o.Cell(t,i+1),this.add(n)},generateOverlay:function(e,t,i){var n,r,s=Math.ceil(e/2);for(n=-s;s&gt;n;n++)for(r=-s;s&gt;r;r++){this._cel.set(n,r);var a=new THREE.Line(this.cellGeo,i);a.position.copy(this.cellToPixel(this._cel)),a.rotation.x=90*o.DEG_TO_RAD,t.add(a)}},add:function(e){var t=this.cellToHash(e);if(!this.cells[t])return this.cells[t]=e,this.numCells++,e},remove:function(e){var t=this.cellToHash(e);this.cells[t]&amp;&amp;(delete this.cells[t],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(e,t,i){o.Tools.getJSON({url:e,callback:function(e){this.fromJSON(e),t.call(i||null,e)},cache:!1,scope:this})},fromJSON:function(e){var t,i,n=e.cells;for(this.cells={},this.numCells=0,this.size=e.size,this.cellSize=e.cellSize,this._fullCellSize=2*this.cellSize,this.extrudeSettings=e.extrudeSettings,this.autogenerated=e.autogenerated,t=0;t&lt;n.length;t++)(i=new o.Cell).copy(n[t]),this.add(i)},toJSON:function(){var e,t,i={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},n=[];for(t in this.cells)e=this.cells[t],n.push({q:e.q,r:e.r,s:e.s,h:e.h,walkable:e.walkable,userData:e.userData});return i.cells=n,i}},o.SqrGrid.prototype.constructor=o.SqrGrid,o.Tile=function(e){e=e||{};var t={cell:null,geometry:null,material:null};if(!(t=o.Tools.merge(t,e)).cell||!t.geometry)throw new Error(&quot;Missing vg.Tile configuration&quot;);this.cell=t.cell,this.cell.tile&amp;&amp;this.cell.tile!==this&amp;&amp;this.cell.tile.dispose(),this.cell.tile=this,this.uniqueID=o.Tools.generateID(),this.geometry=t.geometry,this.material=t.material,this.material||(this.material=new THREE.MeshPhongMaterial({color:o.Tools.randomizeRGB(&quot;30, 30, 30&quot;,13)})),this.objectType=o.TILE,this.entity=null,this.userData={},this.selected=!1,this.highlight=&quot;0x0084cc&quot;,this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.userData.structure=this,this.position=this.mesh.position,this.rotation=this.mesh.rotation,this.rotation.x=-90*o.DEG_TO_RAD,this.mesh.scale.set(t.scale,t.scale,1),this.material.emissive?this._emissive=this.material.emissive.getHex():this._emissive=null},o.Tile.prototype={select:function(){return this.material.emissive&amp;&amp;this.material.emissive.setHex(this.highlight),this.selected=!0,this},deselect:function(){return null!==this._emissive&amp;&amp;this.material.emissive&amp;&amp;this.material.emissive.setHex(this._emissive),this.selected=!1,this},toggle:function(){return this.selected?this.deselect():this.select(),this},dispose:function(){this.cell&amp;&amp;this.cell.tile&amp;&amp;(this.cell.tile=null),this.cell=null,this.position=null,this.rotation=null,this.mesh.parent&amp;&amp;this.mesh.parent.remove(this.mesh),this.mesh.userData.structure=null,this.mesh=null,this.material=null,this.userData=null,this.entity=null,this.geometry=null,this._emissive=null}},o.Tile.prototype.constructor=o.Tile,function(){var e=function(){this.first=null,this.last=null,this.length=0,this.objToNodeMap={},this.uniqueID=Date.now()+&quot;&quot;+Math.floor(1e3*Math.random()),this.sortArray=[]};e.generateID=function(){return Math.random().toString(36).slice(2)+Date.now()},(e.prototype={getNode:function(e){return this.objToNodeMap[e.uniqueID]},addNode:function(t){var i=new function(){this.obj=null,this.next=null,this.prev=null,this.free=!0};if(!t.uniqueID)try{t.uniqueID=e.generateID()}catch(e){return console.error(&quot;[LinkedList.addNode] obj passed is immutable: cannot attach necessary identifier&quot;),null}return i.obj=t,i.free=!1,this.objToNodeMap[t.uniqueID]=i,i},swapObjects:function(e,t){this.objToNodeMap[e.obj.uniqueID]=null,this.objToNodeMap[t.uniqueID]=e,e.obj=t},add:function(e){var t=this.objToNodeMap[e.uniqueID];if(t){if(!1===t.free)return;t.obj=e,t.free=!1,t.next=null,t.prev=null}else t=this.addNode(e);if(this.first){if(!this.last)throw new Error(&quot;[LinkedList.add] No last in the list -- that shouldn&#39;t happen here&quot;);this.last.next=t,t.prev=this.last,this.last=t,t.next=null}else this.first=t,this.last=t,t.next=null,t.prev=null;this.length++,this.showDebug&amp;&amp;this.dump(&quot;after add&quot;)},has:function(e){return!!this.objToNodeMap[e.uniqueID]},moveUp:function(e){this.dump(&quot;before move up&quot;);var t=this.getNode(e);if(!t)throw&quot;Oops, trying to move an object that isn&#39;t in the list&quot;;if(t.prev){var i=t.prev,n=i.prev;t==this.last&amp;&amp;(this.last=i);var r=t.next;n&amp;&amp;(n.next=t),t.next=i,t.prev=i.prev,i.next=r,i.prev=t,this.first==i&amp;&amp;(this.first=t)}},moveDown:function(e){var t=this.getNode(e);if(!t)throw&quot;Oops, trying to move an object that isn&#39;t in the list&quot;;if(t.next){var i=t.next;this.moveUp(i.obj),this.last==i&amp;&amp;(this.last=t)}},sort:function(e){var t,i,n=this.sortArray,r=this.first;for(n.length=0;r;)n.push(r.obj),r=r.next;for(this.clear(),n.sort(e),i=n.length,t=0;i&gt;t;t++)this.add(n[t])},remove:function(e){var t=this.getNode(e);return!(!t||t.free)&amp;&amp;(t.prev&amp;&amp;(t.prev.next=t.next),t.next&amp;&amp;(t.next.prev=t.prev),t.prev||(this.first=t.next),t.next||(this.last=t.prev),t.free=!0,t.prev=null,t.next=null,this.length--,!0)},shift:function(){var e=this.first;return 0===this.length?null:(e.prev&amp;&amp;(e.prev.next=e.next),e.next&amp;&amp;(e.next.prev=e.prev),this.first=e.next,e.next||(this.last=null),e.free=!0,e.prev=null,e.next=null,this.length--,e.obj)},pop:function(){var e=this.last;return 0===this.length?null:(e.prev&amp;&amp;(e.prev.next=e.next),e.next&amp;&amp;(e.next.prev=e.prev),this.last=e.prev,e.prev||(this.first=null),e.free=!0,e.prev=null,e.next=null,this.length--,e.obj)},concat:function(e){for(var t=e.first;t;)this.add(t.obj),t=t.next},clear:function(){for(var e=this.first;e;)e.free=!0,e=e.next;this.first=null,this.length=0},dispose:function(){for(var e=this.first;e;)e.obj=null,e=e.next;this.first=null,this.objToNodeMap=null},dump:function(e){console.log(&quot;====================&quot;+e+&quot;=====================&quot;);for(var t=this.first;t;)console.log(&quot;{&quot;+t.obj.toString()+&quot;} previous=&quot;+(t.prev?t.prev.obj:&quot;NULL&quot;)),t=t.next();console.log(&quot;===================================&quot;),console.log(&quot;Last: {&quot;+(this.last?this.last.obj:&quot;NULL&quot;)+&quot;} First: {&quot;+(this.first?this.first.obj:&quot;NULL&quot;)+&quot;}&quot;)}}).constructor=e,o.LinkedList=e}(),function(){var e=function(e,t,i,n,r){this._listener=t,this.isOnce=i,this.context=n,this.signal=e,this._priority=r||0};(e.prototype={active:!0,params:null,execute:function(e){var t,i;return this.active&amp;&amp;this._listener&amp;&amp;(i=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,i),this.isOnce&amp;&amp;this.detach()),t},detach:function(){return this.isBound()?this.signal.remove(this._listener,this.context):null},isBound:function(){return!!this.signal&amp;&amp;!!this._listener},_destroy:function(){delete this.signal,delete this._listener,delete this.context},toString:function(){return&quot;[SignalBinding isOnce:&quot;+this.isOnce+&quot;, isBound:&quot;+this.isBound()+&quot;, active:&quot;+this.active+&quot;]&quot;}}).constructor=e;var t=function e(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){e.prototype.dispatch.apply(t,arguments)}};(t.prototype={memorize:!1,_shouldPropagate:!0,active:!0,validateListener:function(e,t){if(&quot;function&quot;!=typeof e)throw new Error(&quot;Signal: listener is a required param of {fn}() and should be a Function.&quot;.replace(&quot;{fn}&quot;,t))},_registerListener:function(t,i,n,r){var o,s=this._indexOfListener(t,n);if(-1!==s){if((o=this._bindings[s]).isOnce!==i)throw new Error(&quot;You cannot add&quot;+(i?&quot;&quot;:&quot;Once&quot;)+&quot;() then add&quot;+(i?&quot;Once&quot;:&quot;&quot;)+&quot;() the same listener without removing the relationship first.&quot;)}else o=new e(this,t,i,n,r),this._addBinding(o);return this.memorize&amp;&amp;this._prevParams&amp;&amp;o.execute(this._prevParams),o},_addBinding:function(e){var t=this._bindings.length;do{t--}while(this._bindings[t]&amp;&amp;e._priority&lt;=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var i,n=this._bindings.length;n--;)if((i=this._bindings[n])._listener===e&amp;&amp;i.context===t)return n;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return this.validateListener(e,&quot;add&quot;),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return this.validateListener(e,&quot;addOnce&quot;),this._registerListener(e,!0,t,i)},remove:function(e,t){this.validateListener(e,&quot;remove&quot;);var i=this._indexOfListener(e,t);return-1!==i&amp;&amp;(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(e){void 0===e&amp;&amp;(e=null);for(var t=this._bindings.length;t--;)e?this._bindings[t].context===e&amp;&amp;(this._bindings[t]._destroy(),this._bindings.splice(t,1)):this._bindings[t]._destroy();e||(this._bindings.length=0)},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&amp;&amp;(this._prevParams=t),i){e=this._bindings.slice(),this._shouldPropagate=!0;do{i--}while(e[i]&amp;&amp;this._shouldPropagate&amp;&amp;!1!==e[i].execute(t))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return&quot;[Signal active:&quot;+this.active+&quot; numListeners:&quot;+this.getNumListeners()+&quot;]&quot;}}).constructor=t,o.Signal=t}(),o.AStarFinder=function(e){e=e||{};var t={allowDiagonal:!1,heuristicFilter:null};t=o.Tools.merge(t,e),this.allowDiagonal=t.allowDiagonal,this.heuristicFilter=t.heuristicFilter,this.list=new o.LinkedList},o.AStarFinder.prototype={findPath:function(e,t,i,n){var r,s,a,c,l,h;for(i=i||this.heuristicFilter,n.clearPath(),this.list.clear(),this.list.add(e);this.list.length&gt;0;){if(this.list.sort(this.compare),r=this.list.shift(),r._visited=!0,r===t)return o.PathUtil.backtrace(t);for(l=0,h=(a=n.getNeighbors(r,this.allowDiagonal,i)).length;h&gt;l;l++)if((c=a[l]).walkable&amp;&amp;(s=r._calcCost+n.distance(r,c),!c._visited||s&lt;c._calcCost)){if(c._visited=!0,c._parent=r,c._calcCost=s,c._priority=s+n.distance(t,c),c===t)return o.PathUtil.backtrace(t);this.list.add(c)}}return null},compare:function(e,t){return e._priority-t._priority}},o.AStarFinder.prototype.constructor=o.AStarFinder,o.PathUtil={backtrace:function(e){for(var t=[e];e._parent;)e=e._parent,t.push(e);return t.reverse()},biBacktrace:function(e,t){var i=this.backtrace(e),n=this.backtrace(t);return i.concat(n.reverse())},pathLength:function(e){var t,i,n,r,o,s=0;for(t=1;t&lt;e.length;++t)i=e[t-1],n=e[t],r=i[0]-n[0],o=i[1]-n[1],s+=Math.sqrt(r*r+o*o);return s},interpolate:function(e,t,i,n){var r,o,s,a,c,l,h=Math.abs,u=[];for(s=h(i-e),a=h(n-t),r=i&gt;e?1:-1,o=n&gt;t?1:-1,c=s-a;e!==i||t!==n;)u.push([e,t]),(l=2*c)&gt;-a&amp;&amp;(c-=a,e+=r),s&gt;l&amp;&amp;(c+=s,t+=o);return u},expandPath:function(e){var t,i,n,r,o,s,a=[],c=e.length;if(2&gt;c)return a;for(o=0;c-1&gt;o;++o)for(t=e[o],i=e[o+1],r=(n=this.interpolate(t[0],t[1],i[0],i[1])).length,s=0;r-1&gt;s;++s)a.push(n[s]);return a.push(e[c-1]),a},smoothenPath:function(e,t){var i,n,r,o,s,a,c,l,h,u,d,p,f=t.length,m=t[0][0],v=t[0][1],g=t[f-1][0],y=t[f-1][1];for(s=[[i=m,n=v]],c=2;f&gt;c;++c){for(r=(h=t[c])[0],o=h[1],u=this.interpolate(i,n,r,o),p=!1,l=1;l&lt;u.length;++l)if(d=u[l],!e.isWalkableAt(d[0],d[1])){p=!0;break}p&amp;&amp;(a=t[c-1],s.push(a),i=a[0],n=a[1])}return s.push([g,y]),s},compressPath:function(e){if(e.length&lt;3)return e;var t,i,n,r,o,s,a=[],c=e[0][0],l=e[0][1],h=e[1][0],u=e[1][1],d=h-c,p=u-l;for(d/=o=Math.sqrt(d*d+p*p),p/=o,a.push([c,l]),s=2;s&lt;e.length;s++)t=h,i=u,n=d,r=p,d=(h=e[s][0])-t,p=(u=e[s][1])-i,p/=o=Math.sqrt(d*d+p*p),((d/=o)!==n||p!==r)&amp;&amp;a.push([t,i]);return a.push([h,u]),a}},o.Loader={manager:null,imageLoader:null,crossOrigin:!1,init:function(e){this.crossOrigin=e||!1,this.manager=new THREE.LoadingManager(function(){},function(){},function(){console.warn(&quot;Error loading images&quot;)}),this.imageLoader=new THREE.ImageLoader(this.manager),this.imageLoader.crossOrigin=e},loadTexture:function(e,t,i,n){var r=new THREE.Texture(null,t);return this.imageLoader.load(e,function(e){r.image=e,r.needsUpdate=!0,i&amp;&amp;i(r)},null,function(e){n&amp;&amp;n(e)}),r.sourceFile=e,r}},o.MouseCaster=function(e,t,i){this.down=!1,this.rightDown=!1,this.pickedObject=null,this.selectedObject=null,this.allHits=null,this.active=!0,this.shift=!1,this.ctrl=!1,this.wheel=0,this.position=new THREE.Vector3,this.screenPosition=new THREE.Vector2,this.signal=new o.Signal,this.group=e,this._camera=t,this._raycaster=new THREE.Raycaster,this._preventDefault=!1,(i=i||document).addEventListener(&quot;mousemove&quot;,this._onDocumentMouseMove.bind(this),!1),i.addEventListener(&quot;mousedown&quot;,this._onDocumentMouseDown.bind(this),!1),i.addEventListener(&quot;mouseup&quot;,this._onDocumentMouseUp.bind(this),!1),i.addEventListener(&quot;mousewheel&quot;,this._onMouseWheel.bind(this),!1),i.addEventListener(&quot;DOMMouseScroll&quot;,this._onMouseWheel.bind(this),!1)},o.MouseCaster.OVER=&quot;over&quot;,o.MouseCaster.OUT=&quot;out&quot;,o.MouseCaster.DOWN=&quot;down&quot;,o.MouseCaster.UP=&quot;up&quot;,o.MouseCaster.CLICK=&quot;click&quot;,o.MouseCaster.WHEEL=&quot;wheel&quot;,o.MouseCaster.prototype={update:function(){if(this.active){this._raycaster.setFromCamera(this.screenPosition,this._camera);var e,t,i=this._raycaster.intersectObject(this.group,!0);i.length&gt;0?(e=i[0],t=e.object.userData.structure,this.pickedObject!=t&amp;&amp;(this.pickedObject&amp;&amp;this.signal.dispatch(o.MouseCaster.OUT,this.pickedObject),this.pickedObject=t,this.selectedObject=null,this.signal.dispatch(o.MouseCaster.OVER,this.pickedObject)),this.position.copy(e.point),this.screenPosition.z=e.distance):(this.pickedObject&amp;&amp;this.signal.dispatch(o.MouseCaster.OUT,this.pickedObject),this.pickedObject=null,this.selectedObject=null),this.allHits=i}},preventDefault:function(){this._preventDefault=!0},_onDocumentMouseDown:function(e){return(e=e||window.event).preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.pickedObject&amp;&amp;(this.selectedObject=this.pickedObject),this.shift=e.shiftKey,this.ctrl=e.ctrlKey,this.down=1===e.which,this.rightDown=3===e.which,void this.signal.dispatch(o.MouseCaster.DOWN,this.pickedObject))},_onDocumentMouseUp:function(e){return e.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.shift=e.shiftKey,this.ctrl=e.ctrlKey,this.signal.dispatch(o.MouseCaster.UP,this.pickedObject),this.selectedObject&amp;&amp;this.pickedObject&amp;&amp;this.selectedObject.uniqueID===this.pickedObject.uniqueID&amp;&amp;this.signal.dispatch(o.MouseCaster.CLICK,this.pickedObject),this.down=1!==e.which&amp;&amp;this.down,void(this.rightDown=3!==e.which&amp;&amp;this.rightDown))},_onDocumentMouseMove:function(e){e.preventDefault(),this.screenPosition.x=e.clientX/window.innerWidth*2-1,this.screenPosition.y=-e.clientY/window.innerHeight*2+1},_onMouseWheel:function(e){if(this.active){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&amp;&amp;(t=-e.detail),t&gt;0?this.wheel++:this.wheel--,this.signal.dispatch(o.MouseCaster.WHEEL,this.wheel)}}},o.MouseCaster.prototype.constructor=o.MouseCaster,o.Scene=function(e,t){var i={element:document.body,alpha:!0,antialias:!0,clearColor:&quot;#fff&quot;,sortObjects:!1,fog:null,light:new THREE.DirectionalLight(16777215),lightPosition:null,cameraType:&quot;PerspectiveCamera&quot;,cameraPosition:null,orthoZoom:4},n={minDistance:100,maxDistance:1e3,zoomSpeed:2,noZoom:!1};if(i=o.Tools.merge(i,e),&quot;boolean&quot;!=typeof t&amp;&amp;(n=o.Tools.merge(n,t)),this.renderer=new THREE.WebGLRenderer({alpha:i.alpha,antialias:i.antialias}),this.renderer.setClearColor(i.clearColor,0),this.renderer.sortObjects=i.sortObjects,this.width=window.innerWidth,this.height=window.innerHeight,this.orthoZoom=i.orthoZoom,this.container=new THREE.Scene,this.container.fog=i.fog,this.container.add(new THREE.AmbientLight(14540253)),i.lightPosition||i.light.position.set(-1,1,-1).normalize(),this.container.add(i.light),&quot;OrthographicCamera&quot;===i.cameraType){var r=window.innerWidth/this.orthoZoom,s=window.innerHeight/this.orthoZoom;this.camera=new THREE.OrthographicCamera(r/-2,r/2,s/2,s/-2,1,5e3)}else this.camera=new THREE.PerspectiveCamera(50,this.width/this.height,1,5e3);this.contolled=!!t,this.contolled&amp;&amp;(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.minDistance=n.minDistance,this.controls.maxDistance=n.maxDistance,this.controls.zoomSpeed=n.zoomSpeed,this.controls.noZoom=n.noZoom),i.cameraPosition&amp;&amp;this.camera.position.copy(i.cameraPosition),window.addEventListener(&quot;resize&quot;,function(){if(this.width=window.innerWidth,this.height=window.innerHeight,&quot;OrthographicCamera&quot;===this.camera.type){var e=this.width/this.orthoZoom,t=this.height/this.orthoZoom;this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2}else this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}.bind(this),!1),this.attachTo(i.element)},o.Scene.prototype={attachTo:function(e){e.style.width=this.width+&quot;px&quot;,e.style.height=this.height+&quot;px&quot;,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),e.appendChild(this.renderer.domElement)},add:function(e){this.container.add(e)},remove:function(e){this.container.remove(e)},render:function(){this.contolled&amp;&amp;this.controls.update(),this.renderer.render(this.container,this.camera)},updateOrthoZoom:function(){if(this.orthoZoom&lt;=0)this.orthoZoom=0;else{var e=this.width/this.orthoZoom,t=this.height/this.orthoZoom;this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix()}},focusOn:function(e){this.camera.lookAt(e.position)}},o.Scene.prototype.constructor=o.Scene,o.SelectionManager=function(e){this.mouse=e,this.onSelect=new o.Signal,this.onDeselect=new o.Signal,this.selected=null,this.toggleSelection=!1,this.mouse.signal.add(this.onMouse,this)},o.SelectionManager.prototype={select:function(e,t){e&amp;&amp;(t=t||!0,this.selected!==e&amp;&amp;this.clearSelection(t),e.selected?this.toggleSelection&amp;&amp;(t&amp;&amp;this.onDeselect.dispatch(e),e.deselect()):e.select(),this.selected=e,t&amp;&amp;this.onSelect.dispatch(e))},clearSelection:function(e){e=e||!0,this.selected&amp;&amp;(e&amp;&amp;this.onDeselect.dispatch(this.selected),this.selected.deselect()),this.selected=null},onMouse:function(e,t){switch(e){case o.MouseCaster.DOWN:t||this.clearSelection();break;case o.MouseCaster.CLICK:this.select(t)}}},o.SelectionManager.prototype.constructor=o.SelectionManager,o.Tools={clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},sign:function(e){return e&amp;&amp;e/Math.abs(e)},random:function(e,t){return 1===arguments.length?Math.random()*e-.5*e:Math.random()*(t-e)+e},randomInt:function(e,t){return 1===arguments.length?Math.random()*e-.5*e|0:Math.random()*(t-e+1)+e|0},normalize:function(e,t,i){return(e-t)/(i-t)},getShortRotation:function(e){return(e%=this.TAU)&gt;this.PI?e-=this.TAU:e&lt;-this.PI&amp;&amp;(e+=this.TAU),e},generateID:function(){return Math.random().toString(36).slice(2)+Date.now()},isPlainObject:function(e){if(&quot;object&quot;!=(void 0===e?&quot;undefined&quot;:r(e))||e.nodeType||e===e.window)return!1;try{if(e.constructor&amp;&amp;!Object.prototype.hasOwnProperty.call(e.constructor.prototype,&quot;isPrototypeOf&quot;))return!1}catch(e){return!1}return!0},merge:function(e,t){var i=this,n=Array.isArray(t),r=n&amp;&amp;[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(function(t,n){void 0===r[n]?r[n]=t:i.isPlainObject(t)?r[n]=i.merge(e[n],t):-1===e.indexOf(t)&amp;&amp;r.push(t)}),r):(e&amp;&amp;i.isPlainObject(e)&amp;&amp;Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(t).forEach(function(n){t[n]&amp;&amp;i.isPlainObject(t[n])&amp;&amp;e[n]?r[n]=i.merge(e[n],t[n]):r[n]=t[n]}),r)},now:function(){return window.nwf?window.nwf.system.Performance.elapsedTime:window.performance.now()},empty:function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},radixSort:function(e,t,i,n){if(t=t||0,i=i||e.length,n=n||31,!(t&gt;=i-1||0&gt;n)){for(var r=t,o=i,s=1&lt;&lt;n;o&gt;r;)if(e[r]&amp;s){--o;var a=e[r];e[r]=e[o],e[o]=a}else++r;this.radixSort(e,t,o,n-1),this.radixSort(e,o,i,n-1)}},randomizeRGB:function(e,t){var i,n,r=e.split(&quot;,&quot;),o=&quot;rgb(&quot;;for(t=this.randomInt(t),i=0;3&gt;i;i++)0&gt;(n=parseInt(r[i])+t)?n=0:n&gt;255&amp;&amp;(n=255),o+=n+&quot;,&quot;;return o=o.substring(0,o.length-1),o+=&quot;)&quot;},getJSON:function(e){var t=new XMLHttpRequest,i=void 0!==e.cache&amp;&amp;e.cache?e.url:e.url+&quot;?t=&quot;+Math.floor(1e4*Math.random())+Date.now();t.onreadystatechange=function(){if(200!==this.status)0!==this.status&amp;&amp;console.warn(&quot;[Tools.getJSON] Error: &quot;+this.status+&quot; (&quot;+this.statusText+&quot;) :: &quot;+e.url);else{var t=null;try{t=JSON.parse(this.responseText)}catch(e){return}e.callback.call(e.scope||null,t)}},t.open(&quot;GET&quot;,i,!0),t.setRequestHeader(&quot;Accept&quot;,&quot;application/json&quot;),t.setRequestHeader(&quot;Content-Type&quot;,&quot;application/json&quot;),t.send(&quot;&quot;)}}},{}],10:[function(e,t,i){&quot;use strict&quot;;!function(e){function t(e,t){return-1!==String(e).indexOf(t)}function i(e,t,i){u!==t&amp;&amp;h!==t&amp;&amp;l!==t||Object.keys(i).forEach(function(t){e[t]=i[t]})}function n(e){var t=&quot;keyCode&quot;in e?e.keyCode:&quot;which&quot;in e?e.which:0,i=function(){if(y||&quot;keyLocation&quot;in e){var i=y?e.location:e.keyLocation;if(i&amp;&amp;t in f[i])return f[i][t]}return&quot;keyIdentifier&quot;in e&amp;&amp;e.keyIdentifier in p?p[e.keyIdentifier]:t in d?d[t]:null}();if(!i)return null;var n=function(){var t=m[i.code];return t?e.shiftKey&amp;&amp;&quot;shiftKey&quot;in t?t.shiftKey:t.key:i.code}();return{code:i.code,key:n,location:i.location,keyCap:i.keyCap}}var r=&quot;KeyboardEvent&quot;in e;r||(e.KeyboardEvent=function(){throw TypeError(&quot;Illegal constructor&quot;)}),&quot;DOM_KEY_LOCATION_STANDARD&quot;in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0),&quot;DOM_KEY_LOCATION_LEFT&quot;in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_LEFT=1),&quot;DOM_KEY_LOCATION_RIGHT&quot;in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_RIGHT=2),&quot;DOM_KEY_LOCATION_NUMPAD&quot;in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD=3);var o=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,s=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,a=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,c=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD,l=t(navigator.platform,&quot;Win&quot;)?&quot;win&quot;:t(navigator.platform,&quot;Mac&quot;)?&quot;mac&quot;:t(navigator.platform,&quot;CrOS&quot;)?&quot;cros&quot;:t(navigator.platform,&quot;Linux&quot;)?&quot;linux&quot;:t(navigator.userAgent,&quot;iPad&quot;)||t(navigator.platform,&quot;iPod&quot;)||t(navigator.platform,&quot;iPhone&quot;)?&quot;ios&quot;:&quot;&quot;,h=t(navigator.userAgent,&quot;Chrome/&quot;)?&quot;chrome&quot;:t(navigator.vendor,&quot;Apple&quot;)?&quot;safari&quot;:t(navigator.userAgent,&quot;MSIE&quot;)?&quot;ie&quot;:t(navigator.userAgent,&quot;Gecko/&quot;)?&quot;moz&quot;:t(navigator.userAgent,&quot;Opera/&quot;)?&quot;opera&quot;:&quot;&quot;,u=h+&quot;-&quot;+l,d={3:{code:&quot;Cancel&quot;},6:{code:&quot;Help&quot;},8:{code:&quot;Backspace&quot;},9:{code:&quot;Tab&quot;},12:{code:&quot;Clear&quot;},13:{code:&quot;Enter&quot;},16:{code:&quot;Shift&quot;},17:{code:&quot;Control&quot;},18:{code:&quot;Alt&quot;},19:{code:&quot;Pause&quot;},20:{code:&quot;CapsLock&quot;},21:{code:&quot;KanaMode&quot;},22:{code:&quot;HangulMode&quot;},23:{code:&quot;JunjaMode&quot;},24:{code:&quot;FinalMode&quot;},25:{code:&quot;KanjiMode&quot;},27:{code:&quot;Escape&quot;},28:{code:&quot;Convert&quot;},29:{code:&quot;NonConvert&quot;},30:{code:&quot;Accept&quot;},31:{code:&quot;ModeChange&quot;},32:{code:&quot;Space&quot;},33:{code:&quot;PageUp&quot;},34:{code:&quot;PageDown&quot;},35:{code:&quot;End&quot;},36:{code:&quot;Home&quot;},37:{code:&quot;ArrowLeft&quot;},38:{code:&quot;ArrowUp&quot;},39:{code:&quot;ArrowRight&quot;},40:{code:&quot;ArrowDown&quot;},41:{code:&quot;Select&quot;},42:{code:&quot;Print&quot;},43:{code:&quot;Execute&quot;},44:{code:&quot;PrintScreen&quot;},45:{code:&quot;Insert&quot;},46:{code:&quot;Delete&quot;},47:{code:&quot;Help&quot;},48:{code:&quot;Digit0&quot;,keyCap:&quot;0&quot;},49:{code:&quot;Digit1&quot;,keyCap:&quot;1&quot;},50:{code:&quot;Digit2&quot;,keyCap:&quot;2&quot;},51:{code:&quot;Digit3&quot;,keyCap:&quot;3&quot;},52:{code:&quot;Digit4&quot;,keyCap:&quot;4&quot;},53:{code:&quot;Digit5&quot;,keyCap:&quot;5&quot;},54:{code:&quot;Digit6&quot;,keyCap:&quot;6&quot;},55:{code:&quot;Digit7&quot;,keyCap:&quot;7&quot;},56:{code:&quot;Digit8&quot;,keyCap:&quot;8&quot;},57:{code:&quot;Digit9&quot;,keyCap:&quot;9&quot;},65:{code:&quot;KeyA&quot;,keyCap:&quot;a&quot;},66:{code:&quot;KeyB&quot;,keyCap:&quot;b&quot;},67:{code:&quot;KeyC&quot;,keyCap:&quot;c&quot;},68:{code:&quot;KeyD&quot;,keyCap:&quot;d&quot;},69:{code:&quot;KeyE&quot;,keyCap:&quot;e&quot;},70:{code:&quot;KeyF&quot;,keyCap:&quot;f&quot;},71:{code:&quot;KeyG&quot;,keyCap:&quot;g&quot;},72:{code:&quot;KeyH&quot;,keyCap:&quot;h&quot;},73:{code:&quot;KeyI&quot;,keyCap:&quot;i&quot;},74:{code:&quot;KeyJ&quot;,keyCap:&quot;j&quot;},75:{code:&quot;KeyK&quot;,keyCap:&quot;k&quot;},76:{code:&quot;KeyL&quot;,keyCap:&quot;l&quot;},77:{code:&quot;KeyM&quot;,keyCap:&quot;m&quot;},78:{code:&quot;KeyN&quot;,keyCap:&quot;n&quot;},79:{code:&quot;KeyO&quot;,keyCap:&quot;o&quot;},80:{code:&quot;KeyP&quot;,keyCap:&quot;p&quot;},81:{code:&quot;KeyQ&quot;,keyCap:&quot;q&quot;},82:{code:&quot;KeyR&quot;,keyCap:&quot;r&quot;},83:{code:&quot;KeyS&quot;,keyCap:&quot;s&quot;},84:{code:&quot;KeyT&quot;,keyCap:&quot;t&quot;},85:{code:&quot;KeyU&quot;,keyCap:&quot;u&quot;},86:{code:&quot;KeyV&quot;,keyCap:&quot;v&quot;},87:{code:&quot;KeyW&quot;,keyCap:&quot;w&quot;},88:{code:&quot;KeyX&quot;,keyCap:&quot;x&quot;},89:{code:&quot;KeyY&quot;,keyCap:&quot;y&quot;},90:{code:&quot;KeyZ&quot;,keyCap:&quot;z&quot;},91:{code:&quot;OSLeft&quot;,location:s},92:{code:&quot;OSRight&quot;,location:a},93:{code:&quot;ContextMenu&quot;},95:{code:&quot;Standby&quot;},96:{code:&quot;Numpad0&quot;,keyCap:&quot;0&quot;,location:c},97:{code:&quot;Numpad1&quot;,keyCap:&quot;1&quot;,location:c},98:{code:&quot;Numpad2&quot;,keyCap:&quot;2&quot;,location:c},99:{code:&quot;Numpad3&quot;,keyCap:&quot;3&quot;,location:c},100:{code:&quot;Numpad4&quot;,keyCap:&quot;4&quot;,location:c},101:{code:&quot;Numpad5&quot;,keyCap:&quot;5&quot;,location:c},102:{code:&quot;Numpad6&quot;,keyCap:&quot;6&quot;,location:c},103:{code:&quot;Numpad7&quot;,keyCap:&quot;7&quot;,location:c},104:{code:&quot;Numpad8&quot;,keyCap:&quot;8&quot;,location:c},105:{code:&quot;Numpad9&quot;,keyCap:&quot;9&quot;,location:c},106:{code:&quot;NumpadMultiply&quot;,keyCap:&quot;*&quot;,location:c},107:{code:&quot;NumpadAdd&quot;,keyCap:&quot;+&quot;,location:c},108:{code:&quot;NumpadComma&quot;,keyCap:&quot;,&quot;,location:c},109:{code:&quot;NumpadSubtract&quot;,keyCap:&quot;-&quot;,location:c},110:{code:&quot;NumpadDecimal&quot;,keyCap:&quot;.&quot;,location:c},111:{code:&quot;NumpadDivide&quot;,keyCap:&quot;/&quot;,location:c},112:{code:&quot;F1&quot;},113:{code:&quot;F2&quot;},114:{code:&quot;F3&quot;},115:{code:&quot;F4&quot;},116:{code:&quot;F5&quot;},117:{code:&quot;F6&quot;},118:{code:&quot;F7&quot;},119:{code:&quot;F8&quot;},120:{code:&quot;F9&quot;},121:{code:&quot;F10&quot;},122:{code:&quot;F11&quot;},123:{code:&quot;F12&quot;},124:{code:&quot;F13&quot;},125:{code:&quot;F14&quot;},126:{code:&quot;F15&quot;},127:{code:&quot;F16&quot;},128:{code:&quot;F17&quot;},129:{code:&quot;F18&quot;},130:{code:&quot;F19&quot;},131:{code:&quot;F20&quot;},132:{code:&quot;F21&quot;},133:{code:&quot;F22&quot;},134:{code:&quot;F23&quot;},135:{code:&quot;F24&quot;},144:{code:&quot;NumLock&quot;,location:c},145:{code:&quot;ScrollLock&quot;},160:{code:&quot;ShiftLeft&quot;,location:s},161:{code:&quot;ShiftRight&quot;,location:a},162:{code:&quot;ControlLeft&quot;,location:s},163:{code:&quot;ControlRight&quot;,location:a},164:{code:&quot;AltLeft&quot;,location:s},165:{code:&quot;AltRight&quot;,location:a},166:{code:&quot;BrowserBack&quot;},167:{code:&quot;BrowserForward&quot;},168:{code:&quot;BrowserRefresh&quot;},169:{code:&quot;BrowserStop&quot;},170:{code:&quot;BrowserSearch&quot;},171:{code:&quot;BrowserFavorites&quot;},172:{code:&quot;BrowserHome&quot;},173:{code:&quot;VolumeMute&quot;},174:{code:&quot;VolumeDown&quot;},175:{code:&quot;VolumeUp&quot;},176:{code:&quot;MediaTrackNext&quot;},177:{code:&quot;MediaTrackPrevious&quot;},178:{code:&quot;MediaStop&quot;},179:{code:&quot;MediaPlayPause&quot;},180:{code:&quot;LaunchMail&quot;},181:{code:&quot;MediaSelect&quot;},182:{code:&quot;LaunchApp1&quot;},183:{code:&quot;LaunchApp2&quot;},186:{code:&quot;Semicolon&quot;,keyCap:&quot;;&quot;},187:{code:&quot;Equal&quot;,keyCap:&quot;=&quot;},188:{code:&quot;Comma&quot;,keyCap:&quot;,&quot;},189:{code:&quot;Minus&quot;,keyCap:&quot;-&quot;},190:{code:&quot;Period&quot;,keyCap:&quot;.&quot;},191:{code:&quot;Slash&quot;,keyCap:&quot;/&quot;},192:{code:&quot;Backquote&quot;,keyCap:&quot;`&quot;},219:{code:&quot;BracketLeft&quot;,keyCap:&quot;[&quot;},220:{code:&quot;Backslash&quot;,keyCap:&quot;\\&quot;},221:{code:&quot;BracketRight&quot;,keyCap:&quot;]&quot;},222:{code:&quot;Quote&quot;,keyCap:&quot;&#39;&quot;},226:{code:&quot;IntlBackslash&quot;,keyCap:&quot;\\&quot;},229:{code:&quot;Process&quot;},246:{code:&quot;Attn&quot;},247:{code:&quot;CrSel&quot;},248:{code:&quot;ExSel&quot;},249:{code:&quot;EraseEof&quot;},250:{code:&quot;Play&quot;},251:{code:&quot;ZoomToggle&quot;},254:{code:&quot;Clear&quot;}};i(d,&quot;moz&quot;,{59:{code:&quot;Semicolon&quot;,keyCap:&quot;;&quot;},61:{code:&quot;Equal&quot;,keyCap:&quot;=&quot;},107:{code:&quot;Equal&quot;,keyCap:&quot;=&quot;},109:{code:&quot;Minus&quot;,keyCap:&quot;-&quot;},187:{code:&quot;NumpadAdd&quot;,keyCap:&quot;+&quot;,location:c},189:{code:&quot;NumpadSubtract&quot;,keyCap:&quot;-&quot;,location:c}}),i(d,&quot;moz-mac&quot;,{12:{code:&quot;NumLock&quot;,location:c},173:{code:&quot;Minus&quot;,keyCap:&quot;-&quot;}}),i(d,&quot;moz-win&quot;,{173:{code:&quot;Minus&quot;,keyCap:&quot;-&quot;}}),i(d,&quot;chrome-mac&quot;,{93:{code:&quot;OSRight&quot;,location:a}}),i(d,&quot;safari&quot;,{3:{code:&quot;Enter&quot;},25:{code:&quot;Tab&quot;}}),i(d,&quot;ios&quot;,{10:{code:&quot;Enter&quot;,location:o}}),i(d,&quot;safari-mac&quot;,{91:{code:&quot;OSLeft&quot;,location:s},93:{code:&quot;OSRight&quot;,location:a},229:{code:&quot;KeyQ&quot;,keyCap:&quot;Q&quot;}});var p={};&quot;cros&quot;===l&amp;&amp;(p[&quot;U+00A0&quot;]={code:&quot;ShiftLeft&quot;,location:s},p[&quot;U+00A1&quot;]={code:&quot;ShiftRight&quot;,location:a},p[&quot;U+00A2&quot;]={code:&quot;ControlLeft&quot;,location:s},p[&quot;U+00A3&quot;]={code:&quot;ControlRight&quot;,location:a},p[&quot;U+00A4&quot;]={code:&quot;AltLeft&quot;,location:s},p[&quot;U+00A5&quot;]={code:&quot;AltRight&quot;,location:a}),&quot;chrome-mac&quot;===u&amp;&amp;(p[&quot;U+0010&quot;]={code:&quot;ContextMenu&quot;}),&quot;safari-mac&quot;===u&amp;&amp;(p[&quot;U+0010&quot;]={code:&quot;ContextMenu&quot;}),&quot;ios&quot;===l&amp;&amp;(p[&quot;U+0010&quot;]={code:&quot;Function&quot;},p[&quot;U+001C&quot;]={code:&quot;ArrowLeft&quot;},p[&quot;U+001D&quot;]={code:&quot;ArrowRight&quot;},p[&quot;U+001E&quot;]={code:&quot;ArrowUp&quot;},p[&quot;U+001F&quot;]={code:&quot;ArrowDown&quot;},p[&quot;U+0001&quot;]={code:&quot;Home&quot;},p[&quot;U+0004&quot;]={code:&quot;End&quot;},p[&quot;U+000B&quot;]={code:&quot;PageUp&quot;},p[&quot;U+000C&quot;]={code:&quot;PageDown&quot;});var f=[];f[s]={16:{code:&quot;ShiftLeft&quot;,location:s},17:{code:&quot;ControlLeft&quot;,location:s},18:{code:&quot;AltLeft&quot;,location:s}},f[a]={16:{code:&quot;ShiftRight&quot;,location:a},17:{code:&quot;ControlRight&quot;,location:a},18:{code:&quot;AltRight&quot;,location:a}},f[c]={13:{code:&quot;NumpadEnter&quot;,location:c}},i(f[c],&quot;moz&quot;,{109:{code:&quot;NumpadSubtract&quot;,location:c},107:{code:&quot;NumpadAdd&quot;,location:c}}),i(f[s],&quot;moz-mac&quot;,{224:{code:&quot;OSLeft&quot;,location:s}}),i(f[a],&quot;moz-mac&quot;,{224:{code:&quot;OSRight&quot;,location:a}}),i(f[a],&quot;moz-win&quot;,{91:{code:&quot;OSRight&quot;,location:a}}),i(f[a],&quot;mac&quot;,{93:{code:&quot;OSRight&quot;,location:a}}),i(f[c],&quot;chrome-mac&quot;,{12:{code:&quot;NumLock&quot;,location:c}}),i(f[c],&quot;safari-mac&quot;,{12:{code:&quot;NumLock&quot;,location:c},187:{code:&quot;NumpadAdd&quot;,location:c},189:{code:&quot;NumpadSubtract&quot;,location:c},190:{code:&quot;NumpadDecimal&quot;,location:c},191:{code:&quot;NumpadDivide&quot;,location:c}});var m={ShiftLeft:{key:&quot;Shift&quot;},ShiftRight:{key:&quot;Shift&quot;},ControlLeft:{key:&quot;Control&quot;},ControlRight:{key:&quot;Control&quot;},AltLeft:{key:&quot;Alt&quot;},AltRight:{key:&quot;Alt&quot;},OSLeft:{key:&quot;OS&quot;},OSRight:{key:&quot;OS&quot;},NumpadEnter:{key:&quot;Enter&quot;},Space:{key:&quot; &quot;},Digit0:{key:&quot;0&quot;,shiftKey:&quot;)&quot;},Digit1:{key:&quot;1&quot;,shiftKey:&quot;!&quot;},Digit2:{key:&quot;2&quot;,shiftKey:&quot;@&quot;},Digit3:{key:&quot;3&quot;,shiftKey:&quot;#&quot;},Digit4:{key:&quot;4&quot;,shiftKey:&quot;$&quot;},Digit5:{key:&quot;5&quot;,shiftKey:&quot;%&quot;},Digit6:{key:&quot;6&quot;,shiftKey:&quot;^&quot;},Digit7:{key:&quot;7&quot;,shiftKey:&quot;&amp;&quot;},Digit8:{key:&quot;8&quot;,shiftKey:&quot;*&quot;},Digit9:{key:&quot;9&quot;,shiftKey:&quot;(&quot;},KeyA:{key:&quot;a&quot;,shiftKey:&quot;A&quot;},KeyB:{key:&quot;b&quot;,shiftKey:&quot;B&quot;},KeyC:{key:&quot;c&quot;,shiftKey:&quot;C&quot;},KeyD:{key:&quot;d&quot;,shiftKey:&quot;D&quot;},KeyE:{key:&quot;e&quot;,shiftKey:&quot;E&quot;},KeyF:{key:&quot;f&quot;,shiftKey:&quot;F&quot;},KeyG:{key:&quot;g&quot;,shiftKey:&quot;G&quot;},KeyH:{key:&quot;h&quot;,shiftKey:&quot;H&quot;},KeyI:{key:&quot;i&quot;,shiftKey:&quot;I&quot;},KeyJ:{key:&quot;j&quot;,shiftKey:&quot;J&quot;},KeyK:{key:&quot;k&quot;,shiftKey:&quot;K&quot;},KeyL:{key:&quot;l&quot;,shiftKey:&quot;L&quot;},KeyM:{key:&quot;m&quot;,shiftKey:&quot;M&quot;},KeyN:{key:&quot;n&quot;,shiftKey:&quot;N&quot;},KeyO:{key:&quot;o&quot;,shiftKey:&quot;O&quot;},KeyP:{key:&quot;p&quot;,shiftKey:&quot;P&quot;},KeyQ:{key:&quot;q&quot;,shiftKey:&quot;Q&quot;},KeyR:{key:&quot;r&quot;,shiftKey:&quot;R&quot;},KeyS:{key:&quot;s&quot;,shiftKey:&quot;S&quot;},KeyT:{key:&quot;t&quot;,shiftKey:&quot;T&quot;},KeyU:{key:&quot;u&quot;,shiftKey:&quot;U&quot;},KeyV:{key:&quot;v&quot;,shiftKey:&quot;V&quot;},KeyW:{key:&quot;w&quot;,shiftKey:&quot;W&quot;},KeyX:{key:&quot;x&quot;,shiftKey:&quot;X&quot;},KeyY:{key:&quot;y&quot;,shiftKey:&quot;Y&quot;},KeyZ:{key:&quot;z&quot;,shiftKey:&quot;Z&quot;},Numpad0:{key:&quot;0&quot;},Numpad1:{key:&quot;1&quot;},Numpad2:{key:&quot;2&quot;},Numpad3:{key:&quot;3&quot;},Numpad4:{key:&quot;4&quot;},Numpad5:{key:&quot;5&quot;},Numpad6:{key:&quot;6&quot;},Numpad7:{key:&quot;7&quot;},Numpad8:{key:&quot;8&quot;},Numpad9:{key:&quot;9&quot;},NumpadMultiply:{key:&quot;*&quot;},NumpadAdd:{key:&quot;+&quot;},NumpadComma:{key:&quot;,&quot;},NumpadSubtract:{key:&quot;-&quot;},NumpadDecimal:{key:&quot;.&quot;},NumpadDivide:{key:&quot;/&quot;},Semicolon:{key:&quot;;&quot;,shiftKey:&quot;:&quot;},Equal:{key:&quot;=&quot;,shiftKey:&quot;+&quot;},Comma:{key:&quot;,&quot;,shiftKey:&quot;&lt;&quot;},Minus:{key:&quot;-&quot;,shiftKey:&quot;_&quot;},Period:{key:&quot;.&quot;,shiftKey:&quot;&gt;&quot;},Slash:{key:&quot;/&quot;,shiftKey:&quot;?&quot;},Backquote:{key:&quot;`&quot;,shiftKey:&quot;~&quot;},BracketLeft:{key:&quot;[&quot;,shiftKey:&quot;{&quot;},Backslash:{key:&quot;\\&quot;,shiftKey:&quot;|&quot;},BracketRight:{key:&quot;]&quot;,shiftKey:&quot;}&quot;},Quote:{key:&quot;&#39;&quot;,shiftKey:&#39;&quot;&#39;},IntlBackslash:{key:&quot;\\&quot;,shiftKey:&quot;|&quot;}};i(m,&quot;mac&quot;,{OSLeft:{key:&quot;Meta&quot;},OSRight:{key:&quot;Meta&quot;}});var v={Esc:&quot;Escape&quot;,Nonconvert:&quot;NonConvert&quot;,Left:&quot;ArrowLeft&quot;,Up:&quot;ArrowUp&quot;,Right:&quot;ArrowRight&quot;,Down:&quot;ArrowDown&quot;,Del:&quot;Delete&quot;,Menu:&quot;ContextMenu&quot;,MediaNextTrack:&quot;MediaTrackNext&quot;,MediaPreviousTrack:&quot;MediaTrackPrevious&quot;,SelectMedia:&quot;MediaSelect&quot;,HalfWidth:&quot;Hankaku&quot;,FullWidth:&quot;Zenkaku&quot;,RomanCharacters:&quot;Romaji&quot;,Crsel:&quot;CrSel&quot;,Exsel:&quot;ExSel&quot;,Zoom:&quot;ZoomToggle&quot;},g=function(e,t){var i={};return Object.keys(e).forEach(function(n){var r=e[n];t in r&amp;&amp;(i[r[t]]=r)}),i}(d,&quot;code&quot;);try{var y=r&amp;&amp;&quot;location&quot;in new KeyboardEvent(&quot;&quot;)}catch(e){}&quot;KeyboardEvent&quot;in e&amp;&amp;&quot;defineProperty&quot;in Object&amp;&amp;function(){function e(e,t,i){t in e||Object.defineProperty(e,t,i)}if(e(KeyboardEvent.prototype,&quot;code&quot;,{get:function(){var e=n(this);return e?e.code:&quot;&quot;}}),&quot;key&quot;in KeyboardEvent.prototype){var t=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,&quot;key&quot;);Object.defineProperty(KeyboardEvent.prototype,&quot;key&quot;,{get:function(){var e=t.get.call(this);return v.hasOwnProperty(e)?v[e]:e}})}e(KeyboardEvent.prototype,&quot;key&quot;,{get:function(){var e=n(this);return e&amp;&amp;&quot;key&quot;in e?e.key:&quot;Unidentified&quot;}}),e(KeyboardEvent.prototype,&quot;location&quot;,{get:function(){var e=n(this);return e&amp;&amp;&quot;location&quot;in e?e.location:o}}),e(KeyboardEvent.prototype,&quot;locale&quot;,{get:function(){return&quot;&quot;}})}(),&quot;queryKeyCap&quot;in e.KeyboardEvent||(e.KeyboardEvent.queryKeyCap=function(e,t){if(e=String(e),!g.hasOwnProperty(e))return&quot;Undefined&quot;;if(t&amp;&amp;&quot;en-us&quot;!==String(t).toLowerCase())throw Error(&quot;Unsupported locale&quot;);var i=g[e];return i.keyCap||i.code||&quot;Undefined&quot;}),e.identifyKey=function(e){if(!(&quot;code&quot;in e)){var t=n(e);e.code=t?t.code:&quot;&quot;,e.key=t&amp;&amp;&quot;key&quot;in t?t.key:&quot;Unidentified&quot;,e.location=&quot;location&quot;in e?e.location:&quot;keyLocation&quot;in e?e.keyLocation:t&amp;&amp;&quot;location&quot;in t?t.location:o,e.locale=&quot;&quot;}}}(window)},{}],11:[function(e,t,i){var n=function(){};n.computeCentroids=function(e){var t,i,n;for(t=0,i=e.faces.length;t&lt;i;t++)(n=e.faces[t]).centroid=new THREE.Vector3(0,0,0),n.centroid.add(e.vertices[n.a]),n.centroid.add(e.vertices[n.b]),n.centroid.add(e.vertices[n.c]),n.centroid.divideScalar(3)},n.roundNumber=function(e,t){return Number(e.toFixed(t))},n.sample=function(e){return e[Math.floor(Math.random()*e.length)]},n.mergeVertexIds=function(e,t){var i=[];if(e.forEach(function(e){t.indexOf(e)&gt;=0&amp;&amp;i.push(e)}),i.length&lt;2)return[];i.includes(e[0])&amp;&amp;i.includes(e[e.length-1])&amp;&amp;e.push(e.shift()),i.includes(t[0])&amp;&amp;i.includes(t[t.length-1])&amp;&amp;t.push(t.shift()),i=[],e.forEach(function(e){t.includes(e)&amp;&amp;i.push(e)});for(var n=i[1],r=i[0],o=e.slice();o[0]!==n;)o.push(o.shift());for(var s=0,a=t.slice();a[0]!==r;)if(a.push(a.shift()),s++&gt;10)throw new Error(&quot;Unexpected state&quot;);return a.shift(),a.pop(),o=o.concat(a)},n.setPolygonCentroid=function(e,t){var i=new THREE.Vector3,n=t.vertices;e.vertexIds.forEach(function(e){i.add(n[e])}),i.divideScalar(e.vertexIds.length),e.centroid.copy(i)},n.cleanPolygon=function(e,t){for(var i=[],n=t.vertices,r=0;r&lt;e.vertexIds.length;r++){var o,s,a,c=n[e.vertexIds[r]];0===r?(o=e.vertexIds[1],s=e.vertexIds[e.vertexIds.length-1]):r===e.vertexIds.length-1?(o=e.vertexIds[0],s=e.vertexIds[e.vertexIds.length-2]):(o=e.vertexIds[r+1],s=e.vertexIds[r-1]),a=n[s];var l=n[o].clone().sub(c),h=a.clone().sub(c),u=l.angleTo(h);if(u&gt;Math.PI-.01&amp;&amp;u&lt;Math.PI+.01){var d=[];e.neighbours.forEach(function(t){t.vertexIds.includes(e.vertexIds[r])||d.push(t)}),e.neighbours=d}else i.push(e.vertexIds[r])}e.vertexIds=i,this.setPolygonCentroid(e,t)},n.isConvex=function(e,t){var i=t.vertices;if(e.vertexIds.length&lt;3)return!1;for(var n=!0,r=[],o=0;o&lt;e.vertexIds.length;o++){var s,a,c=i[e.vertexIds[o]];0===o?(s=i[e.vertexIds[1]],a=i[e.vertexIds[e.vertexIds.length-1]]):o===e.vertexIds.length-1?(s=i[e.vertexIds[0]],a=i[e.vertexIds[e.vertexIds.length-2]]):(s=i[e.vertexIds[o+1]],a=i[e.vertexIds[o-1]]);var l=s.clone().sub(c),h=a.clone().sub(c),u=l.angleTo(h);if(u===Math.PI||0===u)return!1;var d=l.cross(h).y;r.push(d)}return r.forEach(function(e){0===e&amp;&amp;(n=!1)}),r.forEach(r[0]&gt;0?function(e){e&lt;0&amp;&amp;(n=!1)}:function(e){e&gt;0&amp;&amp;(n=!1)}),n},n.distanceToSquared=function(e,t){var i=e.x-t.x,n=e.y-t.y,r=e.z-t.z;return i*i+n*n+r*r},n.isPointInPoly=function(e,t){for(var i=!1,n=-1,r=e.length,o=r-1;++n&lt;r;o=n)(e[n].z&lt;=t.z&amp;&amp;t.z&lt;e[o].z||e[o].z&lt;=t.z&amp;&amp;t.z&lt;e[n].z)&amp;&amp;t.x&lt;(e[o].x-e[n].x)*(t.z-e[n].z)/(e[o].z-e[n].z)+e[n].x&amp;&amp;(i=!i);return i},n.isVectorInPolygon=function(e,t,i){var n=1e5,r=-1e5,o=[];return t.vertexIds.forEach(function(e){n=Math.min(i[e].y,n),r=Math.max(i[e].y,r),o.push(i[e])}),!!(e.y&lt;r+.5&amp;&amp;e.y&gt;n-.5&amp;&amp;this.isPointInPoly(o,e))},n.triarea2=function(e,t,i){return(i.x-e.x)*(t.z-e.z)-(t.x-e.x)*(i.z-e.z)},n.vequal=function(e,t){return this.distanceToSquared(e,t)&lt;1e-5};var r=function(e){this.content=[],this.scoreFunction=e};r.prototype.push=function(e){this.content.push(e),this.sinkDown(this.content.length-1)},r.prototype.pop=function(){var e=this.content[0],t=this.content.pop();return this.content.length&gt;0&amp;&amp;(this.content[0]=t,this.bubbleUp(0)),e},r.prototype.remove=function(e){var t=this.content.indexOf(e),i=this.content.pop();t!==this.content.length-1&amp;&amp;(this.content[t]=i,this.scoreFunction(i)&lt;this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},r.prototype.size=function(){return this.content.length},r.prototype.rescoreElement=function(e){this.sinkDown(this.content.indexOf(e))},r.prototype.sinkDown=function(e){for(var t=this.content[e];e&gt;0;){var i=(e+1&gt;&gt;1)-1,n=this.content[i];if(!(this.scoreFunction(t)&lt;this.scoreFunction(n)))break;this.content[i]=t,this.content[e]=n,e=i}},r.prototype.bubbleUp=function(e){for(var t=this.content.length,i=this.content[e],n=this.scoreFunction(i);;){var r=e+1&lt;&lt;1,o=r-1,s=null,a=void 0;if(o&lt;t&amp;&amp;(a=this.scoreFunction(this.content[o]))&lt;n&amp;&amp;(s=o),r&lt;t&amp;&amp;this.scoreFunction(this.content[r])&lt;(null===s?n:a)&amp;&amp;(s=r),null===s)break;this.content[e]=this.content[s],this.content[s]=i,e=s}};var o=function(){};o.init=function(e){for(var t=0;t&lt;e.length;t++){var i=e[t];i.f=0,i.g=0,i.h=0,i.cost=1,i.visited=!1,i.closed=!1,i.parent=null}},o.cleanUp=function(e){for(var t=0;t&lt;e.length;t++){var i=e[t];delete i.f,delete i.g,delete i.h,delete i.cost,delete i.visited,delete i.closed,delete i.parent}},o.heap=function(){return new r(function(e){return e.f})},o.search=function(e,t,i){this.init(e);var n=this.heap();for(n.push(t);n.size()&gt;0;){var r=n.pop();if(r===i){for(var o=r,s=[];o.parent;)s.push(o),o=o.parent;return this.cleanUp(s),s.reverse()}r.closed=!0;for(var a=this.neighbours(e,r),c=0,l=a.length;c&lt;l;c++){var h=a[c];if(!h.closed){var u=r.g+h.cost,d=h.visited;if(!d||u&lt;h.g){if(h.visited=!0,h.parent=r,!h.centroid||!i.centroid)throw new Error(&quot;Unexpected state&quot;);h.h=h.h||this.heuristic(h.centroid,i.centroid),h.g=u,h.f=h.g+h.h,d?n.rescoreElement(h):n.push(h)}}}}return[]},o.heuristic=function(e,t){return n.distanceToSquared(e,t)},o.neighbours=function(e,t){for(var i=[],n=0;n&lt;t.neighbours.length;n++)i.push(e[t.neighbours[n]]);return i};var s=1,a=function(){};a.buildZone=function(e){var t=this,i=this._buildNavigationMesh(e),r={};i.vertices.forEach(function(e){e.x=n.roundNumber(e.x,2),e.y=n.roundNumber(e.y,2),e.z=n.roundNumber(e.z,2)}),r.vertices=i.vertices;var o=this._buildPolygonGroups(i);r.groups=[];var s=function(e,t){for(var i=0;i&lt;e.length;i++)if(t===e[i])return i};return o.forEach(function(e){var i=[];e.forEach(function(r){var o=r.neighbours.map(function(t){return s(e,t)}),a=r.neighbours.map(function(e){return t._getSharedVerticesInOrder(r,e)});r.centroid.x=n.roundNumber(r.centroid.x,2),r.centroid.y=n.roundNumber(r.centroid.y,2),r.centroid.z=n.roundNumber(r.centroid.z,2),i.push({id:s(e,r),neighbours:o,vertexIds:r.vertexIds,centroid:r.centroid,portals:a})}),r.groups.push(i)}),r},a._buildNavigationMesh=function(e){return n.computeCentroids(e),e.mergeVertices(),this._buildPolygonsFromGeometry(e)},a._buildPolygonGroups=function(e){var t=[],i=0,n=function(e){e.neighbours.forEach(function(t){void 0===t.group&amp;&amp;(t.group=e.group,n(t))})};return e.polygons.forEach(function(e){void 0===e.group&amp;&amp;(e.group=i++,n(e)),t[e.group]||(t[e.group]=[]),t[e.group].push(e)}),t},a._buildPolygonNeighbours=function(e,t,i){var n=new Set,r=i.get(e.vertexIds[0]),o=i.get(e.vertexIds[1]),s=i.get(e.vertexIds[2]);r.forEach(function(e){(o.has(e)||s.has(e))&amp;&amp;n.add(t.polygons[e])}),o.forEach(function(e){s.has(e)&amp;&amp;n.add(t.polygons[e])}),e.neighbours=Array.from(n)},a._buildPolygonsFromGeometry=function(e){for(var t=this,i=[],n=e.vertices,r=e.faceVertexUvs,o=new Map,a=0;a&lt;n.length;a++)o.set(a,new Set);e.faces.forEach(function(e){i.push({id:s++,vertexIds:[e.a,e.b,e.c],centroid:e.centroid,normal:e.normal,neighbours:[]}),o.get(e.a).add(i.length-1),o.get(e.b).add(i.length-1),o.get(e.c).add(i.length-1)});var c={polygons:i,vertices:n,faceVertexUvs:r};return i.forEach(function(e){t._buildPolygonNeighbours(e,c,o)}),c},a._getSharedVerticesInOrder=function(e,t){var i=e.vertexIds,n=t.vertexIds,r=new Set;if(i.forEach(function(e){n.includes(e)&amp;&amp;r.add(e)}),r.size&lt;2)return[];r.has(i[0])&amp;&amp;r.has(i[i.length-1])&amp;&amp;i.push(i.shift()),r.has(n[0])&amp;&amp;r.has(n[n.length-1])&amp;&amp;n.push(n.shift());var o=[];return i.forEach(function(e){n.includes(e)&amp;&amp;o.push(e)}),o};var c=function(){this.portals=[]};c.prototype.push=function(e,t){void 0===t&amp;&amp;(t=e),this.portals.push({left:e,right:t})},c.prototype.stringPull=function(){var e,t,i,r=this.portals,o=[],s=0,a=0,c=0;t=r[0].left,i=r[0].right,o.push(e=r[0].left);for(var l=1;l&lt;r.length;l++){var h=r[l].left,u=r[l].right;if(n.triarea2(e,i,u)&lt;=0){if(!(n.vequal(e,i)||n.triarea2(e,t,u)&gt;0)){o.push(t),t=e=t,i=e,a=s=a,c=s,l=s;continue}i=u,c=l}if(n.triarea2(e,t,h)&gt;=0){if(!(n.vequal(e,t)||n.triarea2(e,i,h)&lt;0)){o.push(i),t=e=i,i=e,a=s=c,c=s,l=s;continue}t=h,a=l}}return 0!==o.length&amp;&amp;n.vequal(o[o.length-1],r[r.length-1].left)||o.push(r[r.length-1].left),this.path=o,o};var l,h,u,d,p,f,m=function(){this.zones={}};m.createZone=function(e){return a.buildZone(e)},m.prototype.setZoneData=function(e,t){this.zones[e]=t},m.prototype.getGroup=function(e,t){if(!this.zones[e])return null;var i=null,r=Math.pow(50,2);return this.zones[e].groups.forEach(function(e,o){e.forEach(function(e){var s=n.distanceToSquared(e.centroid,t);s&lt;r&amp;&amp;(i=o,r=s)})}),i},m.prototype.getRandomNode=function(e,t,i,r){if(!this.zones[e])return new THREE.Vector3;i=i||null,r=r||0;var o=[];return this.zones[e].groups[t].forEach(function(e){i&amp;&amp;r?n.distanceToSquared(i,e.centroid)&lt;r*r&amp;&amp;o.push(e.centroid):o.push(e.centroid)}),n.sample(o)||new THREE.Vector3},m.prototype.getClosestNode=function(e,t,i,r){void 0===r&amp;&amp;(r=!1);var o=this.zones[t].vertices,s=null,a=1/0;return this.zones[t].groups[i].forEach(function(t){var i=n.distanceToSquared(t.centroid,e);i&lt;a&amp;&amp;(!r||n.isVectorInPolygon(e,t,o))&amp;&amp;(s=t,a=i)}),s},m.prototype.findPath=function(e,t,i,n){var r=this.zones[i].groups[n],s=this.zones[i].vertices,a=this.getClosestNode(e,i,n),l=this.getClosestNode(t,i,n,!0);if(!a||!l)return null;var h=o.search(r,a,l),u=function(e,t){for(var i=0;i&lt;e.neighbours.length;i++)if(e.neighbours[i]===t.id)return e.portals[i]},d=new c;d.push(e);for(var p=0;p&lt;h.length;p++){var f=h[p+1];if(f){var m=u(h[p],f);d.push(s[m[0]],s[m[1]])}}d.push(t),d.stringPull();var v=d.path.map(function(e){return new THREE.Vector3(e.x,e.y,e.z)});return v.shift(),v},m.prototype.clampStep=(u=new THREE.Vector3,d=new THREE.Plane,p=new THREE.Triangle,f=new THREE.Vector3,function(e,t,i,n,r,o){var s=this.zones[n].vertices,a=this.zones[n].groups[r],c=[i],m={};m[i.id]=0,l=void 0,f.set(0,0,0),h=1/0,d.setFromCoplanarPoints(s[i.vertexIds[0]],s[i.vertexIds[1]],s[i.vertexIds[2]]),d.projectPoint(t,u),t.copy(u);for(var v=c.pop();v;v=c.pop()){p.set(s[v.vertexIds[0]],s[v.vertexIds[1]],s[v.vertexIds[2]]),p.closestPointToPoint(t,u),u.distanceToSquared(t)&lt;h&amp;&amp;(l=v,f.copy(u),h=u.distanceToSquared(t));var g=m[v];if(!(g&gt;2))for(var y=0;y&lt;v.neighbours.length;y++){var E=a[v.neighbours[y]];E.id in m||(c.push(E),m[E.id]=g+1)}}return o.copy(f),l}),i.Pathfinding=m},{}],12:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;checkpoint-controls&quot;,{schema:{enabled:{default:!0},mode:{default:&quot;teleport&quot;,oneOf:[&quot;teleport&quot;,&quot;animate&quot;]},animateSpeed:{default:3}},init:function(){this.active=!0,this.checkpoint=null,this.isNavMeshConstrained=!1,this.offset=new THREE.Vector3,this.position=new THREE.Vector3,this.targetPosition=new THREE.Vector3},play:function(){this.active=!0},pause:function(){this.active=!1},setCheckpoint:function(e){var t=this.el;this.active&amp;&amp;this.checkpoint!==e&amp;&amp;(this.checkpoint&amp;&amp;t.emit(&quot;navigation-end&quot;,{checkpoint:this.checkpoint}),this.checkpoint=e,this.sync(),this.position.distanceTo(this.targetPosition)&lt;.1?this.checkpoint=null:(t.emit(&quot;navigation-start&quot;,{checkpoint:e}),&quot;teleport&quot;===this.data.mode&amp;&amp;(this.el.setAttribute(&quot;position&quot;,this.targetPosition),this.checkpoint=null,t.emit(&quot;navigation-end&quot;,{checkpoint:e}),t.components[&quot;movement-controls&quot;].updateNavLocation())))},isVelocityActive:function(){return!(!this.active||!this.checkpoint)},getVelocity:function(){if(this.active){var e=this.data,t=this.offset,i=this.position,n=this.targetPosition,r=this.checkpoint;return this.sync(),i.distanceTo(n)&lt;.1?(this.checkpoint=null,this.el.emit(&quot;navigation-end&quot;,{checkpoint:r}),t.set(0,0,0)):(t.setLength(e.animateSpeed),t)}},sync:function(){var e=this.offset,t=this.position,i=this.targetPosition;t.copy(this.el.getAttribute(&quot;position&quot;)),this.checkpoint.object3D.getWorldPosition(i),i.add(this.checkpoint.components.checkpoint.getOffset()),e.copy(i).sub(t)}})},{}],13:[function(e,t,i){&quot;use strict&quot;;var n=e(&quot;../../lib/GamepadButton&quot;),r=e(&quot;../../lib/GamepadButtonEvent&quot;),o={LEFT:&quot;left&quot;,RIGHT:&quot;right&quot;},s={MOVEMENT:1,ROTATION:2};t.exports=AFRAME.registerComponent(&quot;gamepad-controls&quot;,{GamepadButton:n,schema:{enabled:{default:!0},camera:{default:&quot;[camera]&quot;,type:&quot;selector&quot;},rotationSensitivity:{default:2}},init:function(){var e=this.el.sceneEl;this.system=e.systems[&quot;tracked-controls-webxr&quot;]||{controllers:[]},this.prevTime=window.performance.now(),this.buttons={};var t=this.el.object3D.rotation;this.pitch=new THREE.Object3D,this.pitch.rotation.x=THREE.Math.degToRad(t.x),this.yaw=new THREE.Object3D,this.yaw.position.y=10,this.yaw.rotation.y=THREE.Math.degToRad(t.y),this.yaw.add(this.pitch),this._lookVector=new THREE.Vector2,this._moveVector=new THREE.Vector2,this._dpadVector=new THREE.Vector2,e.addBehavior(this)},update:function(){this.tick()},tick:function(e,t){this.updateButtonState(),this.updateRotation(t)},remove:function(){},isVelocityActive:function(){if(!this.data.enabled||!this.isConnected())return!1;var e=this._dpadVector,t=this._moveVector;this.getDpad(e),this.getJoystick(s.MOVEMENT,t);var i=e.x||t.x,n=e.y||t.y;return Math.abs(i)&gt;.2||Math.abs(n)&gt;.2},getVelocityDelta:function(){var e=this._dpadVector,t=this._moveVector;this.getDpad(e),this.getJoystick(s.MOVEMENT,t);var i=e.x||t.x,n=e.y||t.y,r=new THREE.Vector3;return Math.abs(i)&gt;.2&amp;&amp;(r.x+=i),Math.abs(n)&gt;.2&amp;&amp;(r.z+=n),r},isRotationActive:function(){if(!this.data.enabled||!this.isConnected())return!1;var e=this._lookVector;return this.getJoystick(s.ROTATION,e),Math.abs(e.x)&gt;.2||Math.abs(e.y)&gt;.2},updateRotation:function(e){if(this.isRotationActive()){var t=this.data,i=this.yaw,n=this.pitch,r=t.camera.components[&quot;look-controls&quot;],o=r&amp;&amp;r.pitchObject&amp;&amp;r.yawObject;o&amp;&amp;(n.rotation.copy(r.pitchObject.rotation),i.rotation.copy(r.yawObject.rotation));var a=this._lookVector;this.getJoystick(s.ROTATION,a),Math.abs(a.x)&lt;=.2&amp;&amp;(a.x=0),Math.abs(a.y)&lt;=.2&amp;&amp;(a.y=0),a.multiplyScalar(t.rotationSensitivity*e/1e3),i.rotation.y-=a.x,n.rotation.x-=a.y,n.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,n.rotation.x)),t.camera.object3D.rotation.set(n.rotation.x,i.rotation.y,0),o&amp;&amp;(r.pitchObject.rotation.copy(n.rotation),r.yawObject.rotation.copy(i.rotation))}},updateButtonState:function(){var e=this.getGamepad(o.RIGHT);if(this.data.enabled&amp;&amp;e)for(var t=0;t&lt;e.buttons.length;t++)e.buttons[t].pressed&amp;&amp;!this.buttons[t]?this.emit(new r(&quot;gamepadbuttondown&quot;,t,e.buttons[t])):!e.buttons[t].pressed&amp;&amp;this.buttons[t]&amp;&amp;this.emit(new r(&quot;gamepadbuttonup&quot;,t,e.buttons[t])),this.buttons[t]=e.buttons[t].pressed;else Object.keys(this.buttons)&amp;&amp;(this.buttons={})},emit:function(e){this.el.emit(e.type,e),this.el.emit(e.type+&quot;:&quot;+e.index,new r(e.type,e.index,e))},getGamepad:function(){var e=[],t=[];return function(i){var n=this.el.sceneEl.components[&quot;proxy-controls&quot;],r=n&amp;&amp;n.isConnected()&amp;&amp;n.getGamepad(0);if(r)return r;e.length=0;for(var o=0;o&lt;this.system.controllers.length;o++){var s=this.system.controllers[o],a=s?s.gamepad:null;if(e.push(a),a&amp;&amp;a.handedness===i)return a}for(var c=navigator.getGamepads?navigator.getGamepads():t,l=0;l&lt;c.length;l++){var h=c[l];if(h&amp;&amp;h.hand===i)return h}return e[0]||c[0]}}(),getButton:function(e){return this.getGamepad(o.RIGHT).buttons[e]},getAxis:function(e){return this.getGamepad(e&gt;1?o.RIGHT:o.LEFT).axes[e]},getJoystick:function(e,t){var i=this.getGamepad(e===s.MOVEMENT?o.LEFT:o.RIGHT);if(&quot;xr-standard&quot;===i.mapping)switch(e){case s.MOVEMENT:return t.set(i.axes[2],i.axes[3]);case s.ROTATION:return t.set(i.axes[0],i.axes[1])}else switch(e){case s.MOVEMENT:return t.set(i.axes[0],i.axes[1]);case s.ROTATION:return t.set(i.axes[2],i.axes[3])}throw new Error(&#39;Unexpected joystick index &quot;%d&quot;.&#39;,e)},getDpad:function(e){var t=this.getGamepad(o.LEFT);return t.buttons[n.DPAD_RIGHT]?e.set((t.buttons[n.DPAD_RIGHT].pressed?1:0)+(t.buttons[n.DPAD_LEFT].pressed?-1:0),(t.buttons[n.DPAD_UP].pressed?-1:0)+(t.buttons[n.DPAD_DOWN].pressed?1:0)):e.set(0,0)},isConnected:function(){var e=this.getGamepad(o.LEFT);return!(!e||!e.connected)},getID:function(){return this.getGamepad(o.LEFT).id}})},{&quot;../../lib/GamepadButton&quot;:5,&quot;../../lib/GamepadButtonEvent&quot;:6}],14:[function(e,t,i){&quot;use strict&quot;;e(&quot;./checkpoint-controls&quot;),e(&quot;./gamepad-controls&quot;),e(&quot;./keyboard-controls&quot;),e(&quot;./touch-controls&quot;),e(&quot;./movement-controls&quot;),e(&quot;./trackpad-controls&quot;)},{&quot;./checkpoint-controls&quot;:12,&quot;./gamepad-controls&quot;:13,&quot;./keyboard-controls&quot;:15,&quot;./movement-controls&quot;:16,&quot;./touch-controls&quot;:17,&quot;./trackpad-controls&quot;:18}],15:[function(e,t,i){&quot;use strict&quot;;e(&quot;../../lib/keyboard.polyfill&quot;);var n=window.KeyboardEvent;t.exports=AFRAME.registerComponent(&quot;keyboard-controls&quot;,{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3,this.localKeys={},this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this)},this.attachEventListeners()},isVelocityActive:function(){return this.data.enabled&amp;&amp;!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){var e=this.data,t=this.getKeys();return this.dVelocity.set(0,0,0),e.enabled&amp;&amp;((t.KeyW||t.ArrowUp)&amp;&amp;(this.dVelocity.z-=1),(t.KeyA||t.ArrowLeft)&amp;&amp;(this.dVelocity.x-=1),(t.KeyS||t.ArrowDown)&amp;&amp;(this.dVelocity.z+=1),(t.KeyD||t.ArrowRight)&amp;&amp;(this.dVelocity.x+=1)),this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.pause()},attachEventListeners:function(){window.addEventListener(&quot;keydown&quot;,this.listeners.keydown,!1),window.addEventListener(&quot;keyup&quot;,this.listeners.keyup,!1),window.addEventListener(&quot;blur&quot;,this.listeners.blur,!1)},removeEventListeners:function(){window.removeEventListener(&quot;keydown&quot;,this.listeners.keydown),window.removeEventListener(&quot;keyup&quot;,this.listeners.keyup),window.removeEventListener(&quot;blur&quot;,this.listeners.blur)},onKeyDown:function(e){AFRAME.utils.shouldCaptureKeyEvent(e)&amp;&amp;(this.localKeys[e.code]=!0,this.emit(e))},onKeyUp:function(e){AFRAME.utils.shouldCaptureKeyEvent(e)&amp;&amp;(delete this.localKeys[e.code],this.emit(e))},onBlur:function(){for(var e in this.localKeys)this.localKeys.hasOwnProperty(e)&amp;&amp;delete this.localKeys[e]},emit:function(e){&quot;__keyboard-controls-proxy&quot;in e&amp;&amp;this.el.emit(e.type,e),this.el.emit(e.type+&quot;:&quot;+e.code,new n(e.type,e)),this.data.debug&amp;&amp;console.log(e.type+&quot;:&quot;+e.code)},isPressed:function(e){return e in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components[&quot;proxy-controls&quot;].getKeyboard():this.localKeys},isProxied:function(){var e=this.el.sceneEl.components[&quot;proxy-controls&quot;];return e&amp;&amp;e.isConnected()}})},{&quot;../../lib/keyboard.polyfill&quot;:10}],16:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;movement-controls&quot;,{dependencies:[&quot;rotation&quot;],schema:{enabled:{default:!0},controls:{default:[&quot;gamepad&quot;,&quot;trackpad&quot;,&quot;keyboard&quot;,&quot;touch&quot;]},speed:{default:.3,min:0},fly:{default:!1},constrainToNavMesh:{default:!1},camera:{default:&quot;[movement-controls] [camera]&quot;,type:&quot;selector&quot;}},init:function(){var e=this.el;this.velocityCtrl=null,this.velocity=new THREE.Vector3,this.heading=new THREE.Quaternion,this.navGroup=null,this.navNode=null,e.sceneEl.hasLoaded?this.injectControls():e.sceneEl.addEventListener(&quot;loaded&quot;,this.injectControls.bind(this))},update:function(e){var t=this.el,i=this.data,n=t.sceneEl.systems.nav;t.sceneEl.hasLoaded&amp;&amp;this.injectControls(),n&amp;&amp;i.constrainToNavMesh!==e.constrainToNavMesh&amp;&amp;(i.constrainToNavMesh?n.addAgent(this):n.removeAgent(this))},injectControls:function(){for(var e,t=this.data,i=0;i&lt;t.controls.length;i++)e=t.controls[i]+&quot;-controls&quot;,this.el.components[e]||this.el.setAttribute(e,&quot;&quot;)},updateNavLocation:function(){this.navGroup=null,this.navNode=null},tick:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(n,r){if(r){var o=this.el,s=this.data;if(s.enabled){this.updateVelocityCtrl();var a=this.velocityCtrl,c=this.velocity;if(a)if(r/1e3&gt;.2?c.set(0,0,0):this.updateVelocity(r),s.constrainToNavMesh&amp;&amp;!1!==a.isNavMeshConstrained){if(c.lengthSq()&lt;1e-5)return;e.copy(o.object3D.position),t.copy(c).multiplyScalar(r/1e3).add(e);var l=o.sceneEl.systems.nav;this.navGroup=null===this.navGroup?l.getGroup(e):this.navGroup,this.navNode=this.navNode||l.getNode(e,this.navGroup),this.navNode=l.clampStep(e,t,this.navGroup,this.navNode,i),o.object3D.position.copy(i)}else o.hasAttribute(&quot;velocity&quot;)?o.setAttribute(&quot;velocity&quot;,c):(o.object3D.position.x+=c.x*r/1e3,o.object3D.position.y+=c.y*r/1e3,o.object3D.position.z+=c.z*r/1e3)}}}}(),updateVelocityCtrl:function(){var e=this.data;if(e.enabled){for(var t=0,i=e.controls.length;t&lt;i;t++){var n=this.el.components[e.controls[t]+&quot;-controls&quot;];if(n&amp;&amp;n.isVelocityActive())return void(this.velocityCtrl=n)}this.velocityCtrl=null}},updateVelocity:function(){var e=new THREE.Vector2,t=new THREE.Quaternion;return function(i){var n=void 0,r=this.el,o=this.velocityCtrl,s=this.velocity,a=this.data;if(o){if(!o.getVelocityDelta){if(o.getVelocity)return void s.copy(o.getVelocity());if(o.getPositionDelta)return void s.copy(o.getPositionDelta(i).multiplyScalar(1e3/i));throw new Error(&quot;Incompatible movement controls: &quot;,o)}n=o.getVelocityDelta(i)}if(r.hasAttribute(&quot;velocity&quot;)&amp;&amp;!a.constrainToNavMesh&amp;&amp;s.copy(this.el.getAttribute(&quot;velocity&quot;)),n&amp;&amp;a.enabled){var c=a.camera;t.copy(c.object3D.quaternion),t.premultiply(r.object3D.quaternion),n.applyQuaternion(t);var l=n.length();a.fly?(s.copy(n),s.multiplyScalar(16.66667*this.data.speed)):(e.set(n.x,n.z),e.setLength(l*this.data.speed*16.66667),s.x=e.x,s.z=e.y)}}}()})},{}],17:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;touch-controls&quot;,{schema:{enabled:{default:!0},reverseEnabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.bindMethods(),this.direction=0},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener(&quot;touchstart&quot;,this.onTouchStart),t.addEventListener(&quot;touchend&quot;,this.onTouchEnd)):e.addEventListener(&quot;render-target-loaded&quot;,this.addEventListeners.bind(this))},removeEventListeners:function(){var e=this.el.sceneEl&amp;&amp;this.el.sceneEl.canvas;e&amp;&amp;(e.removeEventListener(&quot;touchstart&quot;,this.onTouchStart),e.removeEventListener(&quot;touchend&quot;,this.onTouchEnd))},isVelocityActive:function(){return this.data.enabled&amp;&amp;!!this.direction},getVelocityDelta:function(){return this.dVelocity.z=this.direction,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)},onTouchStart:function(e){this.direction=-1,this.data.reverseEnabled&amp;&amp;2===e.touches.length&amp;&amp;(this.direction=1),e.preventDefault()},onTouchEnd:function(e){this.direction=0,e.preventDefault()}})},{}],18:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;trackpad-controls&quot;,{schema:{enabled:{default:!0},enableNegX:{default:!0},enablePosX:{default:!0},enableNegZ:{default:!0},enablePosZ:{default:!0},mode:{default:&quot;touch&quot;,oneOf:[&quot;swipe&quot;,&quot;touch&quot;,&quot;press&quot;]}},init:function(){this.dVelocity=new THREE.Vector3,this.zVel=0,this.xVel=0,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){var e=this.data,t=this.el.sceneEl;switch(t.addEventListener(&quot;axismove&quot;,this.onAxisMove),e.mode){case&quot;swipe&quot;:case&quot;touch&quot;:t.addEventListener(&quot;trackpadtouchstart&quot;,this.onTouchStart),t.addEventListener(&quot;trackpadtouchend&quot;,this.onTouchEnd);break;case&quot;press&quot;:t.addEventListener(&quot;trackpaddown&quot;,this.onTouchStart),t.addEventListener(&quot;trackpadup&quot;,this.onTouchEnd)}},removeEventListeners:function(){var e=this.el.sceneEl;e.removeEventListener(&quot;axismove&quot;,this.onAxisMove),e.removeEventListener(&quot;trackpadtouchstart&quot;,this.onTouchStart),e.removeEventListener(&quot;trackpadtouchend&quot;,this.onTouchEnd),e.removeEventListener(&quot;trackpaddown&quot;,this.onTouchStart),e.removeEventListener(&quot;trackpadup&quot;,this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&amp;&amp;this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-this.zVel:1,this.dVelocity.x=this.isMoving?this.xVel:1,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(e){switch(this.data.mode){case&quot;swipe&quot;:this.canRecordAxis=!0,this.startingAxisData=[];break;case&quot;touch&quot;:case&quot;press&quot;:this.isMoving=!0}e.preventDefault()},onTouchEnd:function(e){&quot;swipe&quot;==this.data.mode&amp;&amp;(this.startingAxisData=[]),this.isMoving=!1,e.preventDefault()},onAxisMove:function(e){switch(this.data.mode){case&quot;swipe&quot;:return this.handleSwipeAxis(e);case&quot;touch&quot;:case&quot;press&quot;:return this.handleTouchAxis(e)}},handleSwipeAxis:function(e){var t=this.data,i=e.detail.axis;if(0===this.startingAxisData.length&amp;&amp;this.canRecordAxis&amp;&amp;(this.canRecordAxis=!1,this.startingAxisData[0]=i[0],this.startingAxisData[1]=i[1]),this.startingAxisData.length&gt;0){var n=0,r=0;t.enableNegX&amp;&amp;i[0]&lt;this.startingAxisData[0]&amp;&amp;(n=-1),t.enablePosX&amp;&amp;i[0]&gt;this.startingAxisData[0]&amp;&amp;(n=1),t.enablePosZ&amp;&amp;i[1]&gt;this.startingAxisData[1]&amp;&amp;(r=-1),t.enableNegZ&amp;&amp;i[1]&lt;this.startingAxisData[1]&amp;&amp;(r=1);var o=Math.abs(this.startingAxisData[1]-i[1]);Math.abs(this.startingAxisData[0]-i[0])&gt;o?(this.zVel=0,this.xVel=n,this.isMoving=!0):(this.xVel=0,this.zVel=r,this.isMoving=!0)}},handleTouchAxis:function(e){var t=this.data,i=e.detail.axis,n=0,r=0;t.enableNegX&amp;&amp;i[0]&lt;0&amp;&amp;(n=-1),t.enablePosX&amp;&amp;i[0]&gt;0&amp;&amp;(n=1),t.enablePosZ&amp;&amp;i[1]&gt;0&amp;&amp;(r=-1),t.enableNegZ&amp;&amp;i[1]&lt;0&amp;&amp;(r=1),Math.abs(i[0])&gt;Math.abs(i[1])?(this.zVel=0,this.xVel=n):(this.xVel=0,this.zVel=r)}})},{}],19:[function(e,t,i){&quot;use strict&quot;;function n(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,&quot;\\$&amp;&quot;)}var r={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};t.exports=AFRAME.registerComponent(&quot;animation-mixer&quot;,{schema:{clip:{default:&quot;*&quot;},duration:{default:0},clampWhenFinished:{default:!1,type:&quot;boolean&quot;},crossFadeDuration:{default:0},loop:{default:&quot;repeat&quot;,oneOf:Object.keys(r)},repetitions:{default:1/0,min:0},timeScale:{default:1}},init:function(){var e=this;this.model=null,this.mixer=null,this.activeActions=[];var t=this.el.getObject3D(&quot;mesh&quot;);t?this.load(t):this.el.addEventListener(&quot;model-loaded&quot;,function(t){e.load(t.detail.model)})},load:function(e){var t=this.el;this.model=e,this.mixer=new THREE.AnimationMixer(e),this.mixer.addEventListener(&quot;loop&quot;,function(e){t.emit(&quot;animation-loop&quot;,{action:e.action,loopDelta:e.loopDelta})}),this.mixer.addEventListener(&quot;finished&quot;,function(e){t.emit(&quot;animation-finished&quot;,{action:e.action,direction:e.direction})}),this.data.clip&amp;&amp;this.update({})},remove:function(){this.mixer&amp;&amp;this.mixer.stopAllAction()},update:function(e){if(e){var t=this.data,i=AFRAME.utils.diff(t,e);if(&quot;clip&quot;in i)return this.stopAction(),void(t.clip&amp;&amp;this.playAction());this.activeActions.forEach(function(e){&quot;duration&quot;in i&amp;&amp;t.duration&amp;&amp;e.setDuration(t.duration),&quot;clampWhenFinished&quot;in i&amp;&amp;(e.clampWhenFinished=t.clampWhenFinished),(&quot;loop&quot;in i||&quot;repetitions&quot;in i)&amp;&amp;e.setLoop(r[t.loop],t.repetitions),&quot;timeScale&quot;in i&amp;&amp;e.setEffectiveTimeScale(t.timeScale)})}},stopAction:function(){for(var e=this.data,t=0;t&lt;this.activeActions.length;t++)e.crossFadeDuration?this.activeActions[t].fadeOut(e.crossFadeDuration):this.activeActions[t].stop();this.activeActions.length=0},playAction:function(){if(this.mixer){var e=this.model,t=this.data,i=e.animations||(e.geometry||{}).animations||[];if(i.length)for(var o,s=function(e){return new RegExp(&quot;^&quot;+e.split(/\*+/).map(n).join(&quot;.*&quot;)+&quot;$&quot;)}(t.clip),a=0;o=i[a];a++)if(o.name.match(s)){var c=this.mixer.clipAction(o,e);c.enabled=!0,c.clampWhenFinished=t.clampWhenFinished,t.duration&amp;&amp;c.setDuration(t.duration),1!==t.timeScale&amp;&amp;c.setEffectiveTimeScale(t.timeScale),c.setLoop(r[t.loop],t.repetitions).fadeIn(t.crossFadeDuration).play(),this.activeActions.push(c)}}},tick:function(e,t){this.mixer&amp;&amp;!isNaN(t)&amp;&amp;this.mixer.update(t/1e3)}})},{}],20:[function(e,t,i){&quot;use strict&quot;;THREE.ColladaLoader=e(&quot;../../lib/ColladaLoader&quot;),t.exports.Component=AFRAME.registerComponent(&quot;collada-model-legacy&quot;,{schema:{type:&quot;asset&quot;},init:function(){this.model=null,this.loader=new THREE.ColladaLoader},update:function(){var e=this,t=this.el,i=this.data,n=this.el.sceneEl.systems.renderer;i&amp;&amp;(this.remove(),this.loader.load(i,function(i){e.model=i.scene,e.model.traverse(function(e){if(e.isMesh){var t=e.material;t.color&amp;&amp;n.applyColorCorrection(t.color),t.map&amp;&amp;n.applyColorCorrection(t.map),t.emissive&amp;&amp;n.applyColorCorrection(t.emissive),t.emissiveMap&amp;&amp;n.applyColorCorrection(t.emissiveMap)}}),t.setObject3D(&quot;mesh&quot;,e.model),t.emit(&quot;model-loaded&quot;,{format:&quot;collada&quot;,model:e.model})}))},remove:function(){this.model&amp;&amp;this.el.removeObject3D(&quot;mesh&quot;)}})},{&quot;../../lib/ColladaLoader&quot;:3}],21:[function(e,t,i){&quot;use strict&quot;;THREE.FBXLoader=e(&quot;../../lib/FBXLoader&quot;),t.exports=AFRAME.registerComponent(&quot;fbx-model&quot;,{schema:{src:{type:&quot;asset&quot;},crossorigin:{default:&quot;&quot;}},init:function(){this.model=null},update:function(){var e=this.data;if(e.src){this.remove();var t=new THREE.FBXLoader;e.crossorigin&amp;&amp;t.setCrossOrigin(e.crossorigin),t.load(e.src,this.load.bind(this))}},load:function(e){this.model=e,this.el.setObject3D(&quot;mesh&quot;,e),this.el.emit(&quot;model-loaded&quot;,{format:&quot;fbx&quot;,model:e})},remove:function(){this.model&amp;&amp;this.el.removeObject3D(&quot;mesh&quot;)}})},{&quot;../../lib/FBXLoader&quot;:4}],22:[function(e,t,i){&quot;use strict&quot;;var n=e(&quot;../../lib/fetch-script&quot;)(),r=function(){var e=void 0;return function(){return e=e||n(&quot;https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js&quot;)}}();t.exports=AFRAME.registerComponent(&quot;gltf-model-legacy&quot;,{schema:{type:&quot;model&quot;},init:function(){var e=this;this.model=null,this.loader=null,this.loaderPromise=r().then(function(){e.loader=new THREE.GLTFLoader,e.loader.setCrossOrigin(&quot;Anonymous&quot;)})},update:function(){var e=this,t=this,i=this.el,n=this.data;n&amp;&amp;(this.remove(),this.loaderPromise.then(function(){e.loader.load(n,function(e){t.model=e.scene,t.model.animations=e.animations,i.setObject3D(&quot;mesh&quot;,t.model),i.emit(&quot;model-loaded&quot;,{format:&quot;gltf&quot;,model:t.model})})}))},remove:function(){this.model&amp;&amp;this.el.removeObject3D(&quot;mesh&quot;)}})},{&quot;../../lib/fetch-script&quot;:8}],23:[function(e,t,i){&quot;use strict&quot;;e(&quot;./animation-mixer&quot;),e(&quot;./collada-model-legacy&quot;),e(&quot;./fbx-model&quot;),e(&quot;./gltf-model-legacy&quot;),e(&quot;./object-model&quot;)},{&quot;./animation-mixer&quot;:19,&quot;./collada-model-legacy&quot;:20,&quot;./fbx-model&quot;:21,&quot;./gltf-model-legacy&quot;:22,&quot;./object-model&quot;:24}],24:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;object-model&quot;,{schema:{src:{type:&quot;asset&quot;},crossorigin:{default:&quot;&quot;}},init:function(){this.model=null},update:function(){var e=this,t=void 0,i=this.data;i.src&amp;&amp;(this.remove(),t=new THREE.ObjectLoader,i.crossorigin&amp;&amp;t.setCrossOrigin(i.crossorigin),t.load(i.src,function(t){t.traverse(function(e){e instanceof THREE.SkinnedMesh&amp;&amp;e.material&amp;&amp;(e.material.skinning=!!(e.geometry&amp;&amp;e.geometry.bones||[]).length)}),e.load(t)}))},load:function(e){this.model=e,this.el.setObject3D(&quot;mesh&quot;,e),this.el.emit(&quot;model-loaded&quot;,{format:&quot;json&quot;,model:e})},remove:function(){this.model&amp;&amp;this.el.removeObject3D(&quot;mesh&quot;)}})},{}],25:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;checkpoint&quot;,{schema:{offset:{default:{x:0,y:0,z:0},type:&quot;vec3&quot;}},init:function(){this.active=!1,this.targetEl=null,this.fire=this.fire.bind(this),this.offset=new THREE.Vector3},update:function(){this.offset.copy(this.data.offset)},play:function(){this.el.addEventListener(&quot;click&quot;,this.fire)},pause:function(){this.el.removeEventListener(&quot;click&quot;,this.fire)},remove:function(){this.pause()},fire:function(){var e=this.el.sceneEl.querySelector(&quot;[checkpoint-controls]&quot;);if(!e)throw new Error(&quot;No `checkpoint-controls` component found.&quot;);e.components[&quot;checkpoint-controls&quot;].setCheckpoint(this.el)},getOffset:function(){return this.offset.copy(this.data.offset)}})},{}],26:[function(e,t,i){&quot;use strict&quot;;function n(e,t,i,n){e&amp;&amp;(t=t||[],e.traverse(function(e){if(e.isMesh){(function(e){return e?Array.isArray(e)?e:e.materials?e.materials:[e]:[]})(e.material).forEach(function(e){(!e||&quot;envMap&quot;in e)&amp;&amp;(t.length&amp;&amp;-1===t.indexOf(e.name)||(e.envMap=i,e.reflectivity=n,e.needsUpdate=!0))})}}))}t.exports=AFRAME.registerComponent(&quot;cube-env-map&quot;,{multiple:!0,schema:{path:{default:&quot;&quot;},extension:{default:&quot;jpg&quot;,oneOf:[&quot;jpg&quot;,&quot;png&quot;]},format:{default:&quot;RGBFormat&quot;,oneOf:[&quot;RGBFormat&quot;,&quot;RGBAFormat&quot;]},enableBackground:{default:!1},reflectivity:{default:1,min:0,max:1},materials:{default:[]}},init:function(){var e=this,t=this.data;this.texture=(new THREE.CubeTextureLoader).load([t.path+&quot;posx.&quot;+t.extension,t.path+&quot;negx.&quot;+t.extension,t.path+&quot;posy.&quot;+t.extension,t.path+&quot;negy.&quot;+t.extension,t.path+&quot;posz.&quot;+t.extension,t.path+&quot;negz.&quot;+t.extension]),this.texture.format=THREE[t.format],this.object3dsetHandler=function(){var t=e.el.getObject3D(&quot;mesh&quot;),i=e.data;n(t,i.materials,e.texture,i.reflectivity)},this.el.addEventListener(&quot;object3dset&quot;,this.object3dsetHandler)},update:function(e){var t=this.data,i=this.el.getObject3D(&quot;mesh&quot;),r=[],o=[];if(t.materials.length&amp;&amp;(e.materials?(r=t.materials.filter(function(t){return!e.materials.includes(t)}),o=e.materials.filter(function(e){return!t.materials.includes(e)})):r=t.materials),r.length&amp;&amp;n(i,r,this.texture,t.reflectivity),o.length&amp;&amp;n(i,o,null,1),e.materials&amp;&amp;t.reflectivity!==e.reflectivity){var s=t.materials.filter(function(t){return e.materials.includes(t)});s.length&amp;&amp;n(i,s,this.texture,t.reflectivity)}this.data.enableBackground&amp;&amp;!e.enableBackground?this.setBackground(this.texture):!this.data.enableBackground&amp;&amp;e.enableBackground&amp;&amp;this.setBackground(null)},remove:function(){this.el.removeEventListener(&quot;object3dset&quot;,this.object3dsetHandler);var e=this.el.getObject3D(&quot;mesh&quot;),t=this.data;n(e,t.materials,null,1),t.enableBackground&amp;&amp;this.setBackground(null)},setBackground:function(e){this.el.sceneEl.object3D.background=e}})},{}],27:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;grab&quot;,{init:function(){this.system=this.el.sceneEl.systems.physics,this.GRABBED_STATE=&quot;grabbed&quot;,this.grabbing=!1,this.hitEl=null,this.physics=this.el.sceneEl.systems.physics,this.constraint=null,this.onHit=this.onHit.bind(this),this.onGripOpen=this.onGripOpen.bind(this),this.onGripClose=this.onGripClose.bind(this)},play:function(){var e=this.el;e.addEventListener(&quot;hit&quot;,this.onHit),e.addEventListener(&quot;gripdown&quot;,this.onGripClose),e.addEventListener(&quot;gripup&quot;,this.onGripOpen),e.addEventListener(&quot;trackpaddown&quot;,this.onGripClose),e.addEventListener(&quot;trackpadup&quot;,this.onGripOpen),e.addEventListener(&quot;triggerdown&quot;,this.onGripClose),e.addEventListener(&quot;triggerup&quot;,this.onGripOpen)},pause:function(){var e=this.el;e.removeEventListener(&quot;hit&quot;,this.onHit),e.removeEventListener(&quot;gripdown&quot;,this.onGripClose),e.removeEventListener(&quot;gripup&quot;,this.onGripOpen),e.removeEventListener(&quot;trackpaddown&quot;,this.onGripClose),e.removeEventListener(&quot;trackpadup&quot;,this.onGripOpen),e.removeEventListener(&quot;triggerdown&quot;,this.onGripClose),e.removeEventListener(&quot;triggerup&quot;,this.onGripOpen)},onGripClose:function(){this.grabbing=!0},onGripOpen:function(){var e=this.hitEl;this.grabbing=!1,e&amp;&amp;(e.removeState(this.GRABBED_STATE),this.hitEl=void 0,this.system.removeConstraint(this.constraint),this.constraint=null)},onHit:function(e){var t=e.detail.el;t&amp;&amp;!t.is(this.GRABBED_STATE)&amp;&amp;this.grabbing&amp;&amp;!this.hitEl&amp;&amp;(t.addState(this.GRABBED_STATE),this.hitEl=t,this.constraint=new CANNON.LockConstraint(this.el.body,t.body),this.system.addConstraint(this.constraint))}})},{}],28:[function(e,t,i){&quot;use strict&quot;;e(&quot;./checkpoint&quot;),e(&quot;./cube-env-map&quot;),e(&quot;./grab&quot;),e(&quot;./jump-ability&quot;),e(&quot;./kinematic-body&quot;),e(&quot;./mesh-smooth&quot;),e(&quot;./normal-material&quot;),e(&quot;./sphere-collider&quot;)},{&quot;./checkpoint&quot;:25,&quot;./cube-env-map&quot;:26,&quot;./grab&quot;:27,&quot;./jump-ability&quot;:29,&quot;./kinematic-body&quot;:30,&quot;./mesh-smooth&quot;:31,&quot;./normal-material&quot;:32,&quot;./sphere-collider&quot;:33}],29:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;jump-ability&quot;,{dependencies:[&quot;velocity&quot;],schema:{on:{default:&quot;keydown:Space gamepadbuttondown:0&quot;},playerHeight:{default:1.764},maxJumps:{default:1},distance:{default:5},debug:{default:!1}},init:function(){this.velocity=0,this.numJumps=0;var e=this.beginJump.bind(this),t=this.data.on.split(&quot; &quot;);this.bindings={};for(var i=0;i&lt;t.length;i++)this.bindings[t[i]]=e,this.el.addEventListener(t[i],e);this.bindings.collide=this.onCollide.bind(this),this.el.addEventListener(&quot;collide&quot;,this.bindings.collide)},remove:function(){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&amp;&amp;(this.el.removeEventListener(e,this.bindings[e]),delete this.bindings[e]);this.el.removeEventListener(&quot;collide&quot;,this.bindings.collide),delete this.bindings.collide},beginJump:function(){if(this.numJumps&lt;this.data.maxJumps){var e=this.data,t=Math.sqrt(-2*e.distance*-24.8),i=this.el.getAttribute(&quot;velocity&quot;);this.el.setAttribute(&quot;velocity&quot;,{x:i.x,y:t,z:i.z}),this.numJumps++,this.el.emit(&quot;jumpstart&quot;)}},onCollide:function(){this.numJumps&gt;0&amp;&amp;this.el.emit(&quot;jumpend&quot;),this.numJumps=0}})},{}],30:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;kinematic-body&quot;,{dependencies:[&quot;velocity&quot;],schema:{mass:{default:5},radius:{default:1.3},linearDamping:{default:.05},enableSlopes:{default:!0},enableJumps:{default:!1}},init:function(){this.system=this.el.sceneEl.systems.physics,this.system.addComponent(this);var e=this.el,t=this.data,i=(new CANNON.Vec3).copy(e.object3D.getWorldPosition(new THREE.Vector3));this.body=new CANNON.Body({material:this.system.getMaterial(&quot;staticMaterial&quot;),position:i,mass:t.mass,linearDamping:t.linearDamping,fixedRotation:!0}),this.body.addShape(new CANNON.Sphere(t.radius),new CANNON.Vec3(0,t.radius,0)),this.body.el=this.el,this.el.body=this.body,this.system.addBody(this.body),e.hasAttribute(&quot;wasd-controls&quot;)&amp;&amp;console.warn(&quot;[kinematic-body] Not compatible with wasd-controls, use movement-controls.&quot;)},remove:function(){this.system.removeBody(this.body),this.system.removeComponent(this),delete this.el.body},beforeStep:function(e,t){if(t){var i=this.el,n=this.data,r=this.body;n.enableJumps||r.velocity.set(0,0,0),r.position.copy(i.getAttribute(&quot;position&quot;))}},step:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3,n=new THREE.Vector3;return function(r,o){if(o){var s=this.body,a=this.data,c=void 0,l=-1/0,h=void 0,u=this.system.getContacts();o=Math.min(o,1e3*this.system.data.maxInterval),n.set(0,0,0),e.copy(this.el.getAttribute(&quot;velocity&quot;)),s.velocity.copy(e);for(var d,p=0;d=u[p];p++)if(d.enabled){if(s.id===d.bi.id)d.ni.negate(i);else{if(s.id!==d.bj.id)continue;i.copy(d.ni)}s.velocity.dot(i)&lt;-1e-6&amp;&amp;i.y&lt;=.5?e.projectOnPlane(i):i.y&gt;.5&amp;&amp;(c=s.id===d.bi.id?Math.abs(d.rj.y+d.bj.position.y):Math.abs(d.ri.y+d.bi.position.y))&gt;l&amp;&amp;(l=c,n.copy(i),h=s.id===d.bi.id?d.bj:d.bi)}t.copy(e).normalize(),h&amp;&amp;(!a.enableJumps||t.y&lt;.5)?(a.enableSlopes?n.y&lt;1-1e-6&amp;&amp;n.copy(this.raycastToGround(h,n)):n.set(0,1,0),e.projectOnPlane(n)):this.system.driver.world&amp;&amp;e.add(this.system.driver.world.gravity.scale(4*o/1e3)),s.velocity.copy(e),this.el.setAttribute(&quot;velocity&quot;,s.velocity),this.el.setAttribute(&quot;position&quot;,s.position)}}}(),raycastToGround:function(e,t){var i=void 0,n=void 0,r=this.body.position,o=this.body.position.clone();return(i=new CANNON.Ray(r,o))._updateDirection(),i.intersectBody(e),i.hasHit?(n=i.result.hitNormalWorld,Math.abs(n.y)&gt;Math.abs(t.y)?n:t):t}})},{}],31:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;mesh-smooth&quot;,{init:function(){this.el.addEventListener(&quot;model-loaded&quot;,function(e){e.detail.model.traverse(function(e){e.isMesh&amp;&amp;e.geometry.computeVertexNormals()})})}})},{}],32:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;normal-material&quot;,{init:function(){this.material=new THREE.MeshNormalMaterial({flatShading:!0}),this.applyMaterial=this.applyMaterial.bind(this),this.el.addEventListener(&quot;object3dset&quot;,this.applyMaterial)},remove:function(){this.el.removeEventListener(&quot;object3dset&quot;,this.applyMaterial)},applyMaterial:function(){var e=this;this.el.object3D.traverse(function(t){t.isMesh&amp;&amp;(t.material=e.material)})}})},{}],33:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;sphere-collider&quot;,{schema:{objects:{default:&quot;&quot;},state:{default:&quot;collided&quot;},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},remove:function(){this.pause()},play:function(){var e=this.el.sceneEl;this.data.watch&amp;&amp;(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(e,{childList:!0,subtree:!0}))},pause:function(){this.observer&amp;&amp;(this.observer.disconnect(),this.observer=null)},update:function(){var e=this.data,t=void 0;t=e.objects?this.el.sceneEl.querySelectorAll(e.objects):this.el.sceneEl.children,this.els=Array.prototype.slice.call(t)},tick:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Box3,o=new Map;return function(){var s=this.el,a=this.data,c=[],l=void 0;s.getObject3D(&quot;mesh&quot;)&amp;&amp;(o.clear(),s.object3D.getWorldPosition(e),s.object3D.getWorldScale(i),l=a.radius*function(e){return Math.max.apply(null,e.toArray())}(i),this.els.forEach(function(i){var s=void 0,a=void 0,h=void 0,u=void 0;i.isEntity&amp;&amp;(a=i.getObject3D(&quot;mesh&quot;))&amp;&amp;(r.setFromObject(a).getSize(n),u=Math.max(n.x,n.y,n.z)/2,s=Math.sqrt(2*u*u),r.getCenter(t),s&amp;&amp;(h=e.distanceTo(t))&lt;s+l&amp;&amp;(c.push(i),o.set(i,h)))}),c.sort(function(e,t){return o.get(e)&gt;o.get(t)?1:-1}).forEach(this.handleHit),0===c.length&amp;&amp;s.emit(&quot;hit&quot;,{el:null}),this.collisions.filter(function(e){return!o.has(e)}).forEach(this.handleHitEnd),this.collisions=c)}}(),handleHit:function(e){e.emit(&quot;hit&quot;),e.addState(this.data.state),this.el.emit(&quot;hit&quot;,{el:e})},handleHitEnd:function(e){e.emit(&quot;hitend&quot;),e.removeState(this.data.state),this.el.emit(&quot;hitend&quot;,{el:e})}})},{}],34:[function(e,t,i){&quot;use strict&quot;;e(&quot;./nav-mesh&quot;),e(&quot;./nav-agent&quot;),e(&quot;./system&quot;)},{&quot;./nav-agent&quot;:35,&quot;./nav-mesh&quot;:36,&quot;./system&quot;:37}],35:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;nav-agent&quot;,{schema:{destination:{type:&quot;vec3&quot;},active:{default:!1},speed:{default:2}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0},updateNavLocation:function(){this.group=null,this.path=[]},tick:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(n,r){var o=this.el,s=this.data,a=this.raycaster,c=s.speed*r/1e3;if(s.active){if(!this.path.length){var l=this.el.object3D.position;this.group=this.group||this.system.getGroup(l),this.path=this.system.getPath(l,e.copy(s.destination),this.group)||[],o.emit(&quot;navigation-start&quot;)}if(!this.path.length)return console.warn(&quot;[nav] Unable to find path to %o.&quot;,s.destination),this.el.setAttribute(&quot;nav-agent&quot;,{active:!1}),void o.emit(&quot;navigation-end&quot;);var h=o.object3D.position,u=this.path[0];t.subVectors(u,h);var d=void 0;if(t.length()&lt;c){if(this.path.shift(),!this.path.length)return this.el.setAttribute(&quot;nav-agent&quot;,{active:!1}),void o.emit(&quot;navigation-end&quot;);i.copy(h),d=this.path[0]}else i.copy(t.setLength(c)).add(h),d=u;d.y=h.y,o.object3D.lookAt(d),a.ray.origin.copy(i),a.ray.origin.y+=1.5,a.ray.direction.y=-1;var p=a.intersectObject(this.system.getNavMesh());p.length?(t.subVectors(p[0].point,h),h.add(t.setLength(c))):h.copy(i)}}}()})},{}],36:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerComponent(&quot;nav-mesh&quot;,{init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.el.addEventListener(&quot;object3dset&quot;,this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){var e=this.el.getObject3D(&quot;mesh&quot;),t=this.el.sceneEl.object3D;if(e){var i=void 0;if(e.traverse(function(e){e.isMesh&amp;&amp;(i=e)}),i){var n=i.geometry.isBufferGeometry?(new THREE.Geometry).fromBufferGeometry(i.geometry):i.geometry.clone();t.updateMatrixWorld(),n.applyMatrix(i.matrixWorld),this.system.setNavMeshGeometry(n),this.hasLoadedNavMesh=!0}}}})},{}],37:[function(e,t,i){&quot;use strict&quot;;var n=e(&quot;three-pathfinding&quot;).Pathfinding,r=new n,o=&quot;level&quot;;t.exports=AFRAME.registerSystem(&quot;nav&quot;,{init:function(){this.navMesh=null,this.agents=new Set},setNavMeshGeometry:function(e){this.navMesh=new THREE.Mesh(e),r.setZoneData(o,n.createZone(e)),Array.from(this.agents).forEach(function(e){return e.updateNavLocation()})},getNavMesh:function(){return this.navMesh},addAgent:function(e){this.agents.add(e)},removeAgent:function(e){this.agents.delete(e)},getPath:function(e,t,i){return this.navMesh?r.findPath(e,t,o,i):null},getGroup:function(e){return this.navMesh?r.getGroup(o,e):null},getNode:function(e,t){return this.navMesh?r.getClosestNode(e,o,t,!0):null},clampStep:function(e,t,i,n,s){return this.navMesh?n?r.clampStep(e,t,n,o,i,s):(s.copy(t),this.getNode(t,i)):(s.copy(t),null)}})},{&quot;three-pathfinding&quot;:11}],38:[function(e,t,i){&quot;use strict&quot;;t.exports=AFRAME.registerPrimitive(&quot;a-grid&quot;,{defaultComponents:{geometry:{primitive:&quot;plane&quot;,width:75,height:75},rotation:{x:-90,y:0,z:0},material:{src:&quot;url(https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v1.16.3/assets/grid.png)&quot;,repeat:&quot;75 75&quot;}},mappings:{width:&quot;geometry.width&quot;,height:&quot;geometry.height&quot;,src:&quot;material.src&quot;}})},{}],39:[function(e,t,i){&quot;use strict&quot;;var n=e(&quot;../../lib/hex-grid.min.js&quot;),r=e(&quot;../../lib/default-hex-grid&quot;);t.exports.Primitive=AFRAME.registerPrimitive(&quot;a-hexgrid&quot;,{defaultComponents:{hexgrid:{}},mappings:{src:&quot;hexgrid.src&quot;}}),t.exports.Component=AFRAME.registerComponent(&quot;hexgrid&quot;,{dependencies:[&quot;material&quot;],schema:{src:{type:&quot;asset&quot;}},init:function(){var e=this,t=this.data;t.src?fetch(t.src).then(function(e){return e.json()}).then(function(t){return e.addMesh(t)}):this.addMesh(r)},addMesh:function(e){var t=new n.HexGrid;t.fromJSON(e);var i=new n.Board(t);i.generateTilemap(),this.el.setObject3D(&quot;mesh&quot;,i.group),this.addMaterial()},addMaterial:function(){var e=(this.el.components.material||{}).material;e&amp;&amp;this.el.object3D.traverse(function(t){t.isMesh&amp;&amp;(t.material=e)})},remove:function(){this.el.removeObject3D(&quot;mesh&quot;)}})},{&quot;../../lib/default-hex-grid&quot;:7,&quot;../../lib/hex-grid.min.js&quot;:9}],40:[function(e,t,i){&quot;use strict&quot;;t.exports.Primitive=AFRAME.registerPrimitive(&quot;a-ocean&quot;,{defaultComponents:{ocean:{},rotation:{x:-90,y:0,z:0}},mappings:{width:&quot;ocean.width&quot;,depth:&quot;ocean.depth&quot;,density:&quot;ocean.density&quot;,amplitude:&quot;ocean.amplitude&quot;,amplitudeVariance:&quot;ocean.amplitudeVariance&quot;,speed:&quot;ocean.speed&quot;,speedVariance:&quot;ocean.speedVariance&quot;,color:&quot;ocean.color&quot;,opacity:&quot;ocean.opacity&quot;}}),t.exports.Component=AFRAME.registerComponent(&quot;ocean&quot;,{schema:{width:{default:10,min:0},depth:{default:10,min:0},density:{default:10},amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:1},speedVariance:{default:2},color:{default:&quot;#7AD2F7&quot;,type:&quot;color&quot;},opacity:{default:.8}},play:function(){var e=this.el,t=this.data,i=e.components.material,n=new THREE.PlaneGeometry(t.width,t.depth,t.density,t.density);n.mergeVertices(),this.waves=[];for(var r,o=0,s=n.vertices.length;o&lt;s;o++)r=n.vertices[o],this.waves.push({z:r.z,ang:Math.random()*Math.PI*2,amp:t.amplitude+Math.random()*t.amplitudeVariance,speed:(t.speed+Math.random()*t.speedVariance)/1e3});i||((i={}).material=new THREE.MeshPhongMaterial({color:t.color,transparent:t.opacity&lt;1,opacity:t.opacity,shading:THREE.FlatShading})),this.mesh=new THREE.Mesh(n,i.material),e.setObject3D(&quot;mesh&quot;,this.mesh)},remove:function(){this.el.removeObject3D(&quot;mesh&quot;)},tick:function(e,t){if(t){for(var i,n,r=this.mesh.geometry.vertices,o=0;i=r[o];o++)n=this.waves[o],i.z=n.z+Math.sin(n.ang)*n.amp,n.ang+=n.speed*t;this.mesh.geometry.verticesNeedUpdate=!0}}})},{}],41:[function(e,t,i){&quot;use strict&quot;;t.exports.Primitive=AFRAME.registerPrimitive(&quot;a-tube&quot;,{defaultComponents:{tube:{}},mappings:{path:&quot;tube.path&quot;,segments:&quot;tube.segments&quot;,radius:&quot;tube.radius&quot;,&quot;radial-segments&quot;:&quot;tube.radialSegments&quot;,closed:&quot;tube.closed&quot;}}),t.exports.Component=AFRAME.registerComponent(&quot;tube&quot;,{schema:{path:{default:[]},segments:{default:64},radius:{default:1},radialSegments:{default:8},closed:{default:!1}},init:function(){var e=this.el,t=this.data,i=e.components.material;if(t.path.length){var n=new THREE.CatmullRomCurve3(t.path.map(function(e){return e=e.split(&quot; &quot;),new THREE.Vector3(Number(e[0]),Number(e[1]),Number(e[2]))})),r=new THREE.TubeGeometry(n,t.segments,t.radius,t.radialSegments,t.closed);i||((i={}).material=new THREE.MeshPhongMaterial),this.mesh=new THREE.Mesh(r,i.material),this.el.setObject3D(&quot;mesh&quot;,this.mesh)}else console.error(&quot;[a-tube] `path` property expected but not found.&quot;)},update:function(e){Object.keys(e).length&amp;&amp;(this.remove(),this.init())},remove:function(){this.mesh&amp;&amp;this.el.removeObject3D(&quot;mesh&quot;)}})},{}],42:[function(e,t,i){&quot;use strict&quot;;e(&quot;./a-grid&quot;),e(&quot;./a-hexgrid&quot;),e(&quot;./a-ocean&quot;),e(&quot;./a-tube&quot;)},{&quot;./a-grid&quot;:38,&quot;./a-hexgrid&quot;:39,&quot;./a-ocean&quot;:40,&quot;./a-tube&quot;:41}]},{},[1]);</td>
      </tr>
</table>

  <details class="details-reset details-overlay BlobToolbar position-absolute js-file-line-actions dropdown d-none" aria-hidden="true">
    <summary class="btn-octicon ml-0 px-2 p-0 bg-white border border-gray-dark rounded-1" aria-label="Inline file action toolbar">
      <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
    </summary>
    <details-menu>
      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se mt-2" style="width:185px">
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-lines" style="cursor:pointer;">
            Copy lines
          </clipboard-copy>
        </li>
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-permalink" style="cursor:pointer;">
            Copy permalink
          </clipboard-copy>
        </li>
        <li><a class="dropdown-item js-update-url-with-hash" id="js-view-git-blame" role="menuitem" href="/n5ro/aframe-extras/blame/7d2078e33b132ff144a51b89292e5926e4db7b73/dist/aframe-extras.min.js">View git blame</a></li>
          <li><a class="dropdown-item" id="js-new-issue" role="menuitem" href="/n5ro/aframe-extras/issues/new">Reference in new issue</a></li>
      </ul>
    </details-menu>
  </details>

  </div>

    </div>

  


  <details class="details-reset details-overlay details-overlay-dark" id="jumpto-line-details-dialog">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" action="" accept-charset="UTF-8" method="get">
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
        <button type="submit" class="btn" data-close-dialog>Go</button>
</form>    </details-dialog>
  </details>

    <div class="Popover anim-scale-in js-tagsearch-popover"
     hidden
     data-tagsearch-url="/n5ro/aframe-extras/find-definition"
     data-tagsearch-ref="master"
     data-tagsearch-path="dist/aframe-extras.min.js"
     data-tagsearch-lang="JavaScript"
     data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_symbol&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_symbol&quot;,&quot;repository_id&quot;:51565197,&quot;ref&quot;:&quot;master&quot;,&quot;language&quot;:&quot;JavaScript&quot;,&quot;originating_url&quot;:&quot;https://github.com/n5ro/aframe-extras/blob/master/dist/aframe-extras.min.js&quot;,&quot;user_id&quot;:38871608}}"
     data-hydro-click-hmac="c4dec8f6ea6a0d7c638c9aaf87223d5a94cd65c0595d5c21afd4007640fbff90">
  <div class="Popover-message Popover-message--large Popover-message--top-left TagsearchPopover mt-1 mb-4 mx-auto Box box-shadow-large">
    <div class="TagsearchPopover-content js-tagsearch-popover-content overflow-auto" style="will-change:transform;">
    </div>
  </div>
</div>




  </div>
</div>

    </main>
  </div>

  </div>

        
<div class="footer container-xl width-full p-responsive" role="contentinfo">
    <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
      <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://github.com">
        <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
      <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0">&copy; 2020 GitHub, Inc.</li>
          <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
          <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
            <li class="js-cookie-consent-preferences-link-container mr-3 mr-lg-0" hidden="hidden">
  <button data-ga-click="Footer, go to cookie preferences, text:cookie preferences" class="btn-link js-cookie-consent-preferences-link" type="button">Cookie Preferences</button>
</li>
          <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
          <li class="mr-3 mr-lg-0"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
          <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to help, text:help" href="https://docs.github.com">Help</a></li>
          <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
          <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://docs.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://services.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
          <li class="mr-3 mr-lg-0"><a href="https://github.blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
          <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>
      </ul>
    </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
    </button>
    You can‚Äôt perform that action at this time.
  </div>


  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden
    >
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

    <div class="js-cookie-consent-banner" hidden>
  <div class="hx_cookie-banner p-2 p-sm-3 p-md-4">
    <div style="max-width: 1194px;" class="Box hx_cookie-banner-box box-shadow-medium mx-auto">
    <div class="Box-body border-0 py-0 px-3 px-md-4">
      <div class="js-main-cookie-banner hx_cookie-banner-main">
          <div class="d-md-flex flex-items-center py-3">
            <p class="f5 flex-1 mb-3 mb-md-0">
              
  We use <span class="text-bold">optional</span> third-party analytics cookies to understand how you use GitHub.com so we can build better products.

              <span class="btn-link js-cookie-consent-learn-more">Learn more</span>.
            </p>
            <div class="d-flex d-md-block flex-wrap flex-sm-nowrap">
              <button class="btn btn-outline flex-1 mr-1 mx-sm-1 m-md-0 ml-md-2 js-cookie-consent-accept">Accept</button>
              <button class="btn btn-outline flex-1 ml-1 m-md-0 ml-md-2 js-cookie-consent-reject">Reject</button>
            </div>
          </div>
        </div>

        <div class="js-cookie-details hx_cookie-banner-details" hidden>
          <div class="d-md-flex flex-items-center py-3">
            <p class="f5 flex-1 mb-2 mb-md-0">
              
  We use <span class="text-bold">optional</span> third-party analytics cookies to understand how you use GitHub.com so we can build better products.

              <br>
              You can always update your selection by clicking <span class="text-bold">Cookie Preferences</span> at the bottom of the page.
              For more information, see our <a href="https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-privacy-statement">Privacy Statement</a>.
            </p>
          </div>

          <div class="d-md-flex flex-items-center py-3 border-top">
            <div class="f5 flex-1 mb-2 mb-md-0">
              <h5 class="mb-1">Essential cookies</h5>
              <p class="f6 mb-md-0">We use essential cookies to perform essential website functions, e.g. they're used to log you in. 
                <a href="https://docs.github.com/en/github/site-policy/github-subprocessors-and-cookies">Learn more</a>
              </p>
            </div>
            <div class="text-right">
              <h5 class="text-blue">Always active</h5>
            </div>
          </div>

          <div class="d-md-flex flex-items-center py-3 border-top">
            <div class="f5 flex-1 mb-2 mb-md-0">
              <h5 class="mb-1">Analytics cookies</h5>
              <p class="f6 mb-md-0">We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task. 
                <a href="https://docs.github.com/en/github/site-policy/github-subprocessors-and-cookies">Learn more</a>
              </p>
            </div>
            <div class="text-right">
              <div class="BtnGroup mt-1 mt-md-0 ml-2">
                <button class="btn btn-outline BtnGroup-item js-accept-analytics-cookies" type="button">Accept</button>
                <button class="btn btn-outline BtnGroup-item js-reject-analytics-cookies" type="button">Reject</button>
              </div>
            </div>
          </div>

          <div class="text-right py-3 border-top">
            <button class="btn btn-primary js-save-cookie-preferences" type="button" disabled>Save preferences</button>
          </div>
        </div>
</div></div>  </div>
</div>


  </body>
</html>

